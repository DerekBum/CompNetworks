/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var t,e,n={492:t=>{function e(t,e){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t}function n(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}n(t.exports,"utils",(()=>r));var r={},o={};function i(t){return new Promise((e=>setTimeout((()=>e()),t)))}n(o,"delay",(()=>i));var a={};function s(){const t=new URLSearchParams(window.location.search.substring(1));return Boolean(t.get("adengine_debug"))?t.get("adengine_debug"):t.get("identity_debug")}n(a,"getDebugGroup",(()=>s));var c={};n(c,"localStorageHelper",(()=>u));class u{constructor(t,e=6e4){this.key=t,this.ttlInMilliseconds=e}expired(t){return!t||t<Date.now()}getObjectToStore(t){return{data:t,ttl:Date.now()+this.ttlInMilliseconds}}parseStoredValue(t){const e=JSON.parse(t);return this.expired(e?.ttl)?null:e.data}get(){const t=localStorage.getItem(this.key);return t?this.parseStoredValue(t):null}set(t){const e=this.getObjectToStore(t);localStorage.setItem(this.key,JSON.stringify(e))}}var l={};n(l,"lock",(()=>p)),n(l,"release",(()=>d));const f=new u("instant-config-lock",1e3);function p(){return"lock"===f.get()||(f.set("lock"),!1)}function d(){f.set(null)}var h={};n(h,"getTimeDelta",(()=>b)),n(h,"logger",(()=>m)),n(h,"warner",(()=>w));const y=s()||"",v=y.split(","),g=Date.now();function b(){return((Date.now()-(window.performance?.timeOrigin??g))/1e3).toFixed(4)}function m(t,...e){""!==y&&("1"!==y&&-1===v.indexOf(t)||window.console.info(`${b()}s\t\t ${t}`,e))}function w(t,...e){""!==y&&("1"!==y&&-1===v.indexOf(t)||window.console.warn(t,e))}e(r,h),e(r,o),e(r,a),e(r,c),e(r,l);var S={},_={};n(_,"EmptyInstantConfigCacheStorage",(()=>E));class E{get(t){}set(t){}}var O={};n(O,"InstantConfigInterpreter",(()=>H));var T={},A={};n(A,"BrowserMatcher",(()=>D));var P={};n(P,"extractNegation",(()=>N));var C={},I={};n(I,"negativePrefix",(()=>k)),n(I,"cacheSuffix",(()=>x)),n(I,"samplingSeparator",(()=>R));const k="non-",x="-cached",R="/";function N(t){return t.startsWith(k)?{value:t.replace(k,""),negated:!0}:{value:t,negated:!1}}e(C,{}),e(C,{}),e(C,{}),e(C,{}),e(C,{}),e(C,{}),e(C,{}),e(C,I),e(C,{}),e(C,{});class D{constructor(t){this.currentBrowser=t?.toLowerCase()}isValid(t=[]){const e=t.map((t=>t.toLowerCase())).map((t=>N(t)));return 0===t.length||!this.currentBrowser||!this.isCurrentNegated(this.currentBrowser,e)&&e.some((t=>this.currentBrowser.includes(t.value)!==t.negated))}isCurrentNegated(t,e){return e.some((e=>t.includes(e.value)&&e.negated))}}var L={};n(L,"DeviceMatcher",(()=>j));class j{constructor(t){this.currentDevice=t}isValid(t=[]){const e=t.map((t=>t.toLowerCase())).map((t=>N(t)));return 0===e.length||!this.currentDevice||!this.isCurrentNegated(this.currentDevice,e)&&e.some((t=>t.value===this.currentDevice!==t.negated))}isCurrentNegated(t,e){return e.some((e=>t.includes(e.value)&&e.negated))}}var V={};n(V,"DomainMatcher",(()=>U));class U{isValid(t=[]){return 0===t.length||t.some((t=>window.location.hostname.includes(t)))}}var M={};n(M,"RegionMatcher",(()=>B));const z=()=>!0;class B{isValid(t=[],e=z){return e(this.filterOutInvalidRegions(t))}filterOutInvalidRegions(t){return t.filter((t=>!t.includes(R))).filter((t=>!t.includes(x)))}}var F={};n(F,"SamplingCacheManager",(()=>G));class G{constructor(t){this.cacheStorage=t,this.precision=10**6}apply(t,e,n){const r=this.cacheStorage.get(t);if(void 0!==r)return r.result;const o=n();if("number"!=typeof e.sampling||!1===o)return o;const i=this.getSamplingResult(e.sampling),a={name:t,result:i,withCookie:Boolean(e.samplingCache),group:i?"B":"A",limit:+(i?e.sampling:100-e.sampling).toFixed(6)};return this.cacheStorage.set(a),i}getSamplingResult(t){const e=Math.round(100*Math.random()*this.precision);return Math.round(t*this.precision)>e}}e(T,A),e(T,L),e(T,V),e(T,P),e(T,M),e(T,F);class H{constructor(t=new D,e=new j,n=new U,r=new B,o=new E){this.browserMatcher=t,this.deviceMatcher=e,this.domainMatcher=n,this.regionMatcher=r,this.instantConfigCacheService=o,this.logGroup="instant-config-interpreter",this.configResponse={},this.samplingCache=new G(o)}init(t,e={},n){return this.configResponse={...e,...t},this.regionValidationPredicate=n,this}getValues(){return r.logger(this.logGroup,"get values called with",this.configResponse),Object.keys(this.configResponse).map((t=>({key:t,value:this.configResponse[t]}))).map((({key:t,value:e})=>t.startsWith("wg")?{key:t,value:e}:{key:t,value:this.getValue(t,e)})).reduce(((t,e)=>({...t,[e.key]:e.value})),{})}getValue(t,e){const n=e.find(((e,n)=>this.samplingCache.apply(`${t}-${n}`,e,this.getPredicate(e))));if(void 0!==n)return n.value}getPredicate(t){return()=>this.browserMatcher.isValid(t.browsers)&&this.deviceMatcher.isValid(t.devices)&&this.domainMatcher.isValid(t.domains)&&this.regionMatcher.isValid(t.regions,this.regionValidationPredicate)}}var q={};async function W(t,e=2e3){const n=new AbortController,r=setTimeout((()=>n.abort()),e),o=await fetch(t,{signal:n.signal});return clearTimeout(r),o}n(q,"InstantConfigLoader",(()=>Y));const K="instant-config-loader";class Y{constructor(t){this.params=t,this.configPromise=null,this.storage=new r.localStorageHelper(`instant-config-${t.appName}`,6e4)}async getConfig(){return this.configPromise||(this.configPromise=this.fetchInstantConfig().then((t=>t??this.fetchFallbackConfig()))),this.configPromise.then((t=>t))}async fetchInstantConfig(t=!1){if(r.lock()&&!t)return await i(500),this.fetchInstantConfig(!0);const e=`${this.params.instantConfigEndpoint??"https://services.fandom.com"}/${this.params.instantConfigVariant??"icbm"}/api/config?app=${this.params.appName}`;try{const t=this.storage.get();if(t)return r.logger(K,"instant config pulled from local storage",t),JSON.parse(t);const n=await W(e,this.params.requestTimeout);if(!n.ok)return;const o=await n.json();return this.storage.set(JSON.stringify(o)),r.release(),r.logger(K,"instant config fetched",o),o}catch(t){return r.warner(K,"could not fetch instant config",t),void r.release()}}async fetchFallbackConfig(){r.logger(K,"Fetching fallback config");const t=this.params.instantConfigFallbackEndpoint;if(void 0===t)return{};try{r.logger(K,t);const e=await W(t,this.params.requestTimeout);if(!e.ok)return{};const n=await e.json();return r.logger(K,"fallback config fetched",n),n}catch(t){return r.warner(K,"could not fetch fallback config",t),{}}}}var $={};n($,"InstantConfigOverrider",(()=>J));const Q=["InstantGlobals","icbm"];class J{override(t,e){return[...t.keys()].filter((t=>{return e=t,Q.some((t=>e.startsWith(`${t}.`)||e.startsWith(`${t}__`)));var e})).map((t=>{const[,e]=t.split(".").map((t=>t.split("__"))).flat();return{paramKey:t,key:e}})).map((({paramKey:e,key:n})=>({key:n,value:this.parseValue(t.get(e))}))).map((({key:t,value:e})=>({key:t,value:t.startsWith("wg")?e:this.wrapValueInXXRegions(e)}))).reduce(((t,{key:e,value:n})=>({...t,[e]:n})),e)}parseValue(t){if("true"===t||"false"===t)return"true"===t;const e=parseInt(t,10);if(t===`${e}`)return e;try{return JSON.parse(t)}catch(e){return t||null}}wrapValueInXXRegions(t){return[{value:t,regions:["XX"]}]}}e(S,_),e(S,O),e(S,q),e(S,$),e(S,T),e(t.exports,S),e(t.exports,C)},787:()=>{!function(t){var e=function(e){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==e&&this.setOption(e);var n=this,r=function(){setTimeout((function(){!0===n._options.checkOnLoad&&(!0===n._options.debug&&n._log("onload->eventCallback","A check loading is launched"),null===n._var.bait&&n._creatBait(),setTimeout((function(){n.check()}),1))}),1)};void 0!==t.addEventListener?t.addEventListener("load",r,!1):t.attachEvent("onload",r)};e.prototype._options=null,e.prototype._var=null,e.prototype._bait=null,e.prototype._log=function(t,e){console.log("[BlockAdBlock]["+t+"] "+e)},e.prototype.setOption=function(t,e){if(void 0!==e){var n=t;(t={})[n]=e}for(var r in t)this._options[r]=t[r],!0===this._options.debug&&this._log("setOption",'The option "'+r+'" he was assigned to "'+t[r]+'"');return this},e.prototype._creatBait=function(){var e=document.createElement("div");e.setAttribute("class",this._options.baitClass),e.setAttribute("style",this._options.baitStyle),this._var.bait=t.document.body.appendChild(e),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,!0===this._options.debug&&this._log("_creatBait","Bait has been created")},e.prototype._destroyBait=function(){t.document.body.removeChild(this._var.bait),this._var.bait=null,!0===this._options.debug&&this._log("_destroyBait","Bait has been removed")},e.prototype.check=function(t){if(void 0===t&&(t=!0),!0===this._options.debug&&this._log("check","An audit was requested "+(!0===t?"with a":"without")+" loop"),!0===this._var.checking)return!0===this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var e=this;return this._var.loopNumber=0,!0===t&&(this._var.loop=setInterval((function(){e._checkBait(t)}),this._options.loopCheckTime)),setTimeout((function(){e._checkBait(t)}),1),!0===this._options.debug&&this._log("check","A check is in progress ..."),!0},e.prototype._checkBait=function(e){var n=!1;if(null===this._var.bait&&this._creatBait(),null===t.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(n=!0),void 0!==t.getComputedStyle){var r=t.getComputedStyle(this._var.bait,null);!r||"none"!=r.getPropertyValue("display")&&"hidden"!=r.getPropertyValue("visibility")||(n=!0)}!0===this._options.debug&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(!0===n?"positive":"negative")),!0===e&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),!0===n?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===e&&(this._var.checking=!1)):null!==this._var.loop&&!1!==e||(this._destroyBait(),this.emitEvent(!1),!0===e&&(this._var.checking=!1))},e.prototype._stopLoop=function(t){clearInterval(this._var.loop),this._var.loop=null,this._var.loopNumber=0,!0===this._options.debug&&this._log("_stopLoop","A loop has been stopped")},e.prototype.emitEvent=function(t){!0===this._options.debug&&this._log("emitEvent","An event with a "+(!0===t?"positive":"negative")+" detection was called");var e=this._var.event[!0===t?"detected":"notDetected"];for(var n in e)!0===this._options.debug&&this._log("emitEvent","Call function "+(parseInt(n)+1)+"/"+e.length),e.hasOwnProperty(n)&&e[n]();return!0===this._options.resetOnEnd&&this.clearEvent(),this},e.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")},e.prototype.on=function(t,e){return this._var.event[!0===t?"detected":"notDetected"].push(e),!0===this._options.debug&&this._log("on",'A type of event "'+(!0===t?"detected":"notDetected")+'" was added'),this},e.prototype.onDetected=function(t){return this.on(!0,t)},e.prototype.onNotDetected=function(t){return this.on(!1,t)},t.BlockAdBlock=e,void 0===t.blockAdBlock&&(t.blockAdBlock=new e({checkOnLoad:!0,resetOnEnd:!0}))}(window)},155:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var s,c=[],u=!1,l=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!u){var t=a(f);u=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function h(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},660:(t,e,n)=>{var r,o=n(155);!function(t){!function(e){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(t);function a(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===r.Reflect?r.Reflect=t:i=a(r.Reflect,i),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return j(Object.create(null))}:s?function(){return j({__proto__:null})}:function(){return j({})},has:c?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:c?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),f="object"==typeof o&&o.env&&"true"===o.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}():Map,d=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,h=new(f||"function"!=typeof WeakMap?function(){var t=u.create(),n=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var e;do{e="@@WeakMap@@"+a()}while(u.has(t,e));return t[e]=!0,e}function o(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:u.create()})}return t[n]}function i(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function a(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):i(new Uint8Array(t),t):i(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var o=e[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function y(t,e,n){var r=h.get(t);if(O(r)){if(!n)return;r=new p,h.set(t,r)}var o=r.get(e);if(O(o)){if(!n)return;o=new p,r.set(e,o)}return o}function v(t,e,n){if(g(t,e,n))return!0;var r=L(e);return!T(r)&&v(t,r,n)}function g(t,e,n){var r=y(e,n,!1);return!O(r)&&!!r.has(t)}function b(t,e,n){if(g(t,e,n))return m(t,e,n);var r=L(e);return T(r)?void 0:b(t,r,n)}function m(t,e,n){var r=y(e,n,!1);if(!O(r))return r.get(t)}function w(t,e,n,r){y(n,r,!0).set(t,e)}function S(t,e){var n=_(t,e),r=L(t);if(null===r)return n;var o=S(r,e);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new d,a=[],s=0,c=n;s<c.length;s++){var u=c[s];i.has(u)||(i.add(u),a.push(u))}for(var l=0,f=o;l<f.length;l++)u=f[l],i.has(u)||(i.add(u),a.push(u));return a}function _(t,e){var n=[],r=y(t,e,!1);if(O(r))return n;for(var o=function(t){var e=R(t,i);if(!k(e))throw new TypeError;var n=e.call(t);if(!A(n))throw new TypeError;return n}(r.keys()),a=0;;){var s=N(o);if(!s)return n.length=a,n;var c=s.value;try{n[a]=c}catch(t){try{D(o)}finally{throw t}}a++}}function E(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function O(t){return void 0===t}function T(t){return null===t}function A(t){return"object"==typeof t?null!==t:"function"==typeof t}function P(t,e){switch(E(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",o=R(t,r);if(void 0!==o){var i=o.call(t,n);if(A(i))throw new TypeError;return i}return function(t,e){if("string"===e){var n=t.toString;if(k(n)&&!A(o=n.call(t)))return o;if(k(r=t.valueOf)&&!A(o=r.call(t)))return o}else{var r;if(k(r=t.valueOf)&&!A(o=r.call(t)))return o;var o,i=t.toString;if(k(i)&&!A(o=i.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function C(t){var e=P(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function I(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function k(t){return"function"==typeof t}function x(t){return"function"==typeof t}function R(t,e){var n=t[e];if(null!=n){if(!k(n))throw new TypeError;return n}}function N(t){var e=t.next();return!e.done&&e}function D(t){var e=t.return;e&&e.call(t)}function L(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o||o===t?e:o}function j(t){return t.__=void 0,delete t.__,t}t("decorate",(function(t,e,n,r){if(O(n)){if(!I(t))throw new TypeError;if(!x(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!O(r)&&!T(r)){if(!x(r))throw new TypeError;e=r}}return e}(t,e)}if(!I(t))throw new TypeError;if(!A(e))throw new TypeError;if(!A(r)&&!O(r)&&!T(r))throw new TypeError;return T(r)&&(r=void 0),function(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!O(i)&&!T(i)){if(!A(i))throw new TypeError;r=i}}return r}(t,e,n=C(n),r)})),t("metadata",(function(t,e){return function(n,r){if(!A(n))throw new TypeError;if(!O(r)&&!function(t){switch(E(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;w(t,e,n,r)}})),t("defineMetadata",(function(t,e,n,r){if(!A(n))throw new TypeError;return O(r)||(r=C(r)),w(t,e,n,r)})),t("hasMetadata",(function(t,e,n){if(!A(e))throw new TypeError;return O(n)||(n=C(n)),v(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!A(e))throw new TypeError;return O(n)||(n=C(n)),g(t,e,n)})),t("getMetadata",(function(t,e,n){if(!A(e))throw new TypeError;return O(n)||(n=C(n)),b(t,e,n)})),t("getOwnMetadata",(function(t,e,n){if(!A(e))throw new TypeError;return O(n)||(n=C(n)),m(t,e,n)})),t("getMetadataKeys",(function(t,e){if(!A(t))throw new TypeError;return O(e)||(e=C(e)),S(t,e)})),t("getOwnMetadataKeys",(function(t,e){if(!A(t))throw new TypeError;return O(e)||(e=C(e)),_(t,e)})),t("deleteMetadata",(function(t,e,n){if(!A(e))throw new TypeError;O(n)||(n=C(n));var r=y(e,n,!1);if(O(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=h.get(e);return o.delete(n),o.size>0||h.delete(e),!0}))}(i)}()}(r||(r={}))}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,o),i.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&r&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>n[t]));return a.default=()=>n,o.d(i,a),i},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};o.r(t),o.d(t,{BFAA_UNSTICK_DELAY:()=>to,CSS_TIMING_EASE_IN_CUBIC:()=>Yr,DEFAULT_UAP_ID:()=>Qr,DEFAULT_UAP_TYPE:()=>Jr,FAN_TAKEOVER_TYPES:()=>Xr,SLIDE_OUT_TIME:()=>$r,SLOT_FORCE_UNSTICK:()=>no,SLOT_STICKED_STATE:()=>oo,SLOT_STICKINESS_DISABLED:()=>so,SLOT_STICKY_READY_STATE:()=>io,SLOT_STICKY_STATE_SKIPPED:()=>ao,SLOT_UNSTICKED_STATE:()=>ro,SLOT_VIDEO_DONE:()=>co,SPECIAL_VIDEO_AD_UNIT:()=>Zr,TLB_UNSTICK_DELAY:()=>eo,UAP_ADDITIONAL_SIZES:()=>uo});var e={};o.r(e),o.d(e,{AD_LABEL_CLASS:()=>Yi,Document:()=>mo,IframeBuilder:()=>Vo,LazyQueue:()=>ir,WaitFor:()=>Hn,buildPromisedTimeout:()=>zc,buildTaglessRequestUrl:()=>Kc,buildVastUrl:()=>Wc,client:()=>gn,createExtendedPromise:()=>Ci,createWithTimeout:()=>Pi,defer:()=>Oi,generateUniqueId:()=>vo,geoService:()=>kn,getElementOffset:()=>To,getHeight:()=>Oo,getLeftOffset:()=>Po,getServicesBaseURL:()=>Fc,getTimeDelta:()=>jn,getTopOffset:()=>Ao,getTranslation:()=>Qi,getViewportHeight:()=>Co,getViewportWidth:()=>Io,getWidth:()=>Eo,isIframe:()=>go,isInTheSameViewport:()=>xo,isInViewport:()=>ko,logger:()=>Vn,makeLazyQueue:()=>or,once:()=>Ti,pageInIframe:()=>bo,queryString:()=>_,sampler:()=>Bc,scriptLoader:()=>zn,stringBuilder:()=>Kr,targeting:()=>Pr,timeoutReject:()=>Ai,translateLabels:()=>Ji,tryProperty:()=>$c,uuid:()=>nu,viewportObserver:()=>ru,wait:()=>Ei,warner:()=>Un,whichProperty:()=>Yc});var n={};o.r(n);var r={};o.r(r);var i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a="Singleton",s=function(){function t(){}return t.prototype.reset=function(t){},t}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.resolve=function(t,e){return t()},e}(s),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.instances=new Map,e}return i(e,t),e.prototype.resolve=function(t,e){var n=this.instances.get(e);return n||(n=t(),this.instances.set(e,n)),n},e.prototype.reset=function(t){this.instances.delete(t)},e}(s),l="wikia-ioc:paramtypes",f="wikia-ioc:taggedtypes",p="wikia-ioc:autobind",d="wikia-ioc:scope";function h(t){return void 0===t&&(t={}),function(e){if(Reflect.hasOwnMetadata(l,e))throw new Error("Cannot apply @Injectable decorator multiple times.");var n=Reflect.getMetadata("design:paramtypes",e)||[];return Reflect.defineMetadata(l,n,e),"boolean"==typeof t.autobind&&Reflect.defineMetadata(p,t.autobind,e),"string"==typeof t.scope&&Reflect.defineMetadata(d,t.scope,e),e}}function y(t){return function(e,n,r){if(n||"number"!=typeof r)throw new Error("Cannot apply @Inject decorator to a property.");var o=Reflect.getMetadata(f,e)||{};if(o[r.toString()])throw new Error("Cannot apply @Inject decorator multiple times on the same parameter.");return o[r.toString()]=t,Reflect.defineMetadata(f,o,e),e}}function v(t,e){return"value"in e?t.value(e.value):"to"in e?t.to(e.to):"provider"in e?t.provider(e.provider):t}function g(t){var e=typeof t;return b(t)||"symbol"===e||"string"===e}function b(t){return"function"==typeof t}o(660);var m=function(){function t(t,e,n,r){var o,i;if(this.sourceType=t,this.container=e,this.scopes=n,this.paramTypes=[],!b(this.sourceType))return this.scope(r.defaultScope);this.scope(null!==(o=Reflect.getMetadata(d,this.sourceType))&&void 0!==o?o:r.defaultScope),(null!==(i=Reflect.getMetadata(p,this.sourceType))&&void 0!==i?i:r.defaultAutobind)&&this.to(this.sourceType)}return t.prototype.to=function(t){return function(t){if(!b(t))throw new TypeError("Invalid type requested to IoC container. Type must be Class.")}(t),this.targetType=t,this.paramTypes=this.getMetadataParamTypes(),this.sourceType===this.targetType?this.provideSourceType(t):this.provideTargetType(t),this},t.prototype.getMetadataParamTypes=function(){var t=Reflect.getMetadata(l,this.targetType)||[],e=Reflect.getMetadata(f,this.targetType)||{};return t.map((function(t,n){return e[n]||t}))},t.prototype.provideSourceType=function(t){var e=this;this.provider((function(){var n=e.getParameters();return new(t.bind.apply(t,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}([void 0],n)))}))},t.prototype.getParameters=function(){var t=this;return this.paramTypes.map((function(e){return t.container.get(e)}))},t.prototype.provideTargetType=function(t){var e=this;this.provider((function(){return e.container.get(t)}))},t.prototype.value=function(t){return this.provider((function(){return t}))},t.prototype.provider=function(t){return this._provider=t,this._scope.reset(this.sourceType),this},t.prototype.scope=function(t){return this._scope=this.scopes[t],this._scope.reset(this.sourceType),this},t.prototype.withParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.paramTypes=t,this},t.prototype.getInstance=function(){var t=this;if(!this._provider)throw new Error(this.sourceType.toString()+" is not bound to anything.");return this._scope.resolve((function(){return t._provider(t.container)}),this.sourceType)},t.prototype.getType=function(){return this.targetType},t}(),w=function(){return w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},w.apply(this,arguments)},S=function(){function t(e){void 0===e&&(e={}),this.bindings=new Map,this.scopes={Singleton:new u,Transient:new c},this.containerOptions=w({defaultScope:a,defaultAutobind:!0},e),this.bind(t).scope(a).value(this)}return t.prototype.bind=function(t){var e=g(t)?t:null==t?void 0:t.bind;return this.bindings.has(e)?this.bindings.get(e):b(t)?v(this.ensureBinding(e),{bind:t,to:t}):g(t)?this.ensureBinding(e):v(this.ensureBinding(e),t)},t.prototype.unbind=function(t){var e=g(t)?t:null==t?void 0:t.bind;this.bindings.delete(e)},t.prototype.get=function(t){return this.ensureBinding(t).getInstance()},t.prototype.getType=function(t){return this.ensureBinding(t).getType()},t.prototype.ensureBinding=function(t){!function(t){if(!g(t))throw new TypeError("Invalid type requested to IoC container. TypeKey must be Class, symbol or string.")}(t);var e=this.bindings.get(t);return e||(e=new m(t,this,this.scopes,this.containerOptions),this.bindings.set(t,e)),e},t}(),_=new(function(){function t(){}return t.prototype.getValues=function(t){var e=(t||window.location.search.substring(1)).split("&"),n={};return e.forEach((function(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t.split("="),2),r=e[0],o=e[1];o&&(n[r]=decodeURIComponent(o.replace(/\+/g," ")))})),n},t.prototype.getURLSearchParams=function(t){var e=t||window.location.search.substring(1);return new URLSearchParams(e)},t.prototype.get=function(t){return this.getValues()[t]},t.prototype.isUrlParamSet=function(t){return!!parseInt(this.get(t),10)},t.prototype.parseValue=function(t){if("true"===t||"false"===t)return"true"===t;var e=parseInt(t,10);if(t==="".concat(e))return e;try{return JSON.parse(t)}catch(e){return t||null}},t.prototype.stringify=function(t){var e=new URLSearchParams(t);return e.sort(),e.toString()},t}());function E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var O=function t(e,n){function r(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=E({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+i}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=e.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",E({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,E({},this.attributes,e))},withConverter:function(e){return t(E({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const T=O;var A=function(){function t(){this.cacheMaxAge=18e5,this.keysSeen=new Set}return t.prototype.getItem=function(t){return T.get(t)},t.prototype.setItem=function(t,e,n){var r=n||this.cacheMaxAge,o={expires:new Date((new Date).getTime()+r),path:"/",domain:this.getCookieDomain(),overwrite:!0};this.keysSeen.add(t),T.set(t,e,o)},t.prototype.removeItem=function(t){this.keysSeen.delete(t),T.remove(t,{path:"/",domain:this.getCookieDomain()})},t.prototype.clear=function(){var t=this;this.keysSeen.forEach((function(e){t.removeItem(e)}))},t.prototype.getCookieDomain=function(){var t=window.location.hostname.split(".");return t.length>1?".".concat(t[t.length-2],".").concat(t[t.length-1]):void 0},t}(),P=new A;function C(){return _.get("adengine_debug")||P.getItem("adengine_debug")}function I(t){null!==t?P.setItem("adengine_debug",t||"1"):P.removeItem("adengine_debug")}var k={isDebugMode:function(){return Boolean(C())},getDebugGroup:C,setDebugMode:I};window.ads=window.ads||{},window.ads.debug=I;var x={adUnitId:"",bidders:{enabled:!1,timeout:2e3,a9:{enabled:!1,videoEnabled:!1,amazonId:"3115",bidsRefreshing:{slots:[]}},prebid:{enabled:!1,bidsRefreshing:{slots:[]}}},events:{},listeners:{porvata:[]},options:{customAdLoader:{globalMethodName:"loadCustomAd"},maxDelayTimeout:2e3,optOutSale:!1,trackingOptIn:!1,isSubjectToCcpa:!1},services:{},slots:{},src:["gpt"],state:{adStack:[],isMobile:!1},targeting:{},vast:{size:[640,480],adUnitId:""}},R={};function N(t,e,n){var r="";e.forEach((function(e){!function(t,e,n){R[t]&&R[t].forEach((function(t){t(e,n)}))}(r+=(""===r?"":".")+e,t,n)}))}function D(t,e,n){void 0===n&&(n=!1);for(var r=t.split("."),o=r.length,i=x,a=null,s=0;s<o;s+=1)a=r[s],s<o-1&&(i[a]=i[a]||{},i=i[a]);return n?(delete i[a],N(t,r,null),null):(void 0!==e&&(i[a]=e,N(t,r,e)),i[a])}var L=new(function(){function t(){window.ads=window.ads||{},window.ads.adContext=k.isDebugMode()?x:{}}return t.prototype.extend=function(t){Object.assign(x,t)},t.prototype.set=function(t,e){D(t,e)},t.prototype.get=function(t){return D(t)},t.prototype.remove=function(t){D(t,null,!0)},t.prototype.push=function(t,e){var n=D(t);n&&n.push(e)},t.prototype.onChange=function(t,e){R[t]=R[t]||[],R[t].push(e)},t.prototype.removeListeners=function(t){Object.keys(R).forEach((function(e){e!==t&&0!==e.indexOf("".concat(t,"."))||delete R[e]}))},t}()),j=function(){return j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},j.apply(this,arguments)},V=function(){function t(){}return t.prototype.execute=function(){var t=j(j({},window.mw&&window.mw.config?window.mw.config.values:{}),window.ads?window.ads.context:{});L.set("wiki",Object.assign(t,L.get("wiki")))},t}(),U=function(){return U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},U.apply(this,arguments)};function M(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var z=function(){return z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},z.apply(this,arguments)},B=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},F=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function G(t){return!0===t.__global}function H(t){return!0===t.__global}function q(t,e){var n=function(t,e){if("function"==typeof e)return M(t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return U(U({},e.apply(void 0,n)),{type:t})}));switch(e?e._as:"empty"){case"empty":return M(t,(function(){return{type:t}}));case"fsa":return M(t,(function(e,n){return e instanceof Error?{error:!0,meta:n,payload:e,type:t}:{error:!1,meta:n,payload:e,type:t}}));case"payload":return M(t,(function(e){return{payload:e,type:t}}));case"props":return M(t,(function(e){return U(U({},e),{type:t})}));default:throw new Error("Unexpected config.")}}(t,e),r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=n.apply(void 0,F([],B(t),!1));return z(z({},r),{__global:!0})};return Object.defineProperty(r,"type",{value:t,writable:!1}),Object.defineProperty(r,"__global",{value:!0,writable:!1}),r}var W=function(){return W=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},W.apply(this,arguments)},K={channelId:"default",host:window,coordinatorHost:window.top},Y={connect:"connect",connected:"connected"},$="@wikia/post-quecast";function Q(t){return t.channelId&&t.libId===$&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function J(t){return!t.data.private}function X(t,e){return t.data.channelId===e}function Z(t){return t.data.action}var tt=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[$])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[$].callbackConnector:new nt({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),et=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!Q(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(n){return n({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),nt=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!Q(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var n;(n=e)&&n.source&&n.data&&Q(n.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),rt=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=tt.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(n){if(X(n,t.channelId)&&function(t){return!!t.data.private}(n)){var r=Z(n);(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.type===e}))})(r,Y.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,r.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(X(e,t.channelId)&&J(e)){var n=Z(e);t.handleActions(n)}}))},t.prototype.handleActions=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=this.history).push.apply(t,n),n.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:Y.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:$})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),ot=function(){function t(t){void 0===t&&(t={});var e=W(W({},K),t);this.channelId=e.channelId,this.connector=tt.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:W(W({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:$})},t}(),it=function(){function t(t){void 0===t&&(t={});var e=W(W({},K),t);this.transmitter=new ot(e),this.receiver=new rt(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),at=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[$].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:$})},t.prototype.createConnectedAction=function(){return{type:Y.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(n){n.dispatch({action:t,channelId:e.channelId,libId:$})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new nt({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),st=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new et(t),this.postMessageConnector=new nt({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){J(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.data.action.type===e}))})(t,Y.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(Y).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new at(t,this.coordinatorHost)),this.channels.get(t)},t}(),ct=function(t,e){return ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ct(t,e)};function ut(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function lt(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function ft(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function dt(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function ht(t){return this instanceof ht?(this.v=t,this):new ht(t)}function yt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof ht?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function vt(t){return"function"==typeof t}function gt(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create;var bt=gt((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function mt(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var wt=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=ft(i),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else i.remove(this);var c=this.initialTeardown;if(vt(c))try{c()}catch(t){o=t instanceof bt?t.errors:[t]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=ft(u),f=l.next();!f.done;f=l.next()){var p=f.value;try{Et(p)}catch(t){o=null!=o?o:[],t instanceof bt?o=dt(dt([],pt(o)),pt(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new bt(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Et(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&mt(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&mt(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}(),St=wt.EMPTY;function _t(t){return t instanceof wt||t&&"closed"in t&&vt(t.remove)&&vt(t.add)&&vt(t.unsubscribe)}function Et(t){vt(t)?t():t.unsubscribe()}var Ot=null,Tt=null,At=void 0,Pt=!1,Ct=!1,It={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=It.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,dt([t,e],pt(n))):setTimeout.apply(void 0,dt([t,e],pt(n)))},clearTimeout:function(t){var e=It.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function kt(t){It.setTimeout((function(){if(!Ot)throw t;Ot(t)}))}function xt(){}var Rt=Nt("C",void 0,void 0);function Nt(t,e,n){return{kind:t,value:e,error:n}}var Dt=null;function Lt(t){if(Pt){var e=!Dt;if(e&&(Dt={errorThrown:!1,error:null}),t(),e){var n=Dt,r=n.errorThrown,o=n.error;if(Dt=null,r)throw o}}else t()}var jt=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,_t(e)&&e.add(n)):n.destination=Gt,n}return ut(e,t),e.create=function(t,e,n){return new zt(t,e,n)},e.prototype.next=function(t){this.isStopped?Ft(function(t){return Nt("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?Ft(Nt("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?Ft(Rt,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(wt),Vt=Function.prototype.bind;function Ut(t,e){return Vt.call(t,e)}var Mt=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){Bt(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){Bt(t)}else Bt(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){Bt(t)}},t}(),zt=function(t){function e(e,n,r){var o,i,a=t.call(this)||this;return vt(e)||!e?o={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&Ct?((i=Object.create(e)).unsubscribe=function(){return a.unsubscribe()},o={next:e.next&&Ut(e.next,i),error:e.error&&Ut(e.error,i),complete:e.complete&&Ut(e.complete,i)}):o=e,a.destination=new Mt(o),a}return ut(e,t),e}(jt);function Bt(t){var e;Pt?(e=t,Pt&&Dt&&(Dt.errorThrown=!0,Dt.error=e)):kt(t)}function Ft(t,e){var n=Tt;n&&It.setTimeout((function(){return n(t,e)}))}var Gt={closed:!0,next:xt,error:function(t){throw t},complete:xt},Ht="function"==typeof Symbol&&Symbol.observable||"@@observable";function qt(t){return t}function Wt(t){return 0===t.length?qt:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Kt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof jt||function(t){return t&&vt(t.next)&&vt(t.error)&&vt(t.complete)}(r)&&_t(r)?t:new zt(t,e,n);return Lt((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Yt(e))((function(e,r){var o=new zt({next:function(e){try{t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:e});n.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[Ht]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wt(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Yt(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Yt(t){var e;return null!==(e=null!=t?t:At)&&void 0!==e?e:Promise}function $t(t){return vt(null==t?void 0:t.lift)}function Qt(t){return function(e){if($t(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Jt(t,e,n,r,o){return new Xt(t,e,n,r,o)}var Xt=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return ut(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(jt);function Zt(t,e){return Qt((function(n,r){var o=0;n.subscribe(Jt(r,(function(n){r.next(t.call(e,n,o++))})))}))}var te=Array.isArray;function ee(t){return Zt((function(e){return function(t,e){return te(e)?t.apply(void 0,dt([],pt(e))):t(e)}(t,e)}))}function ne(t,e,n){return n?ne(t,e).pipe(ee(n)):new Kt((function(n){var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)},o=t(r);return vt(e)?function(){return e(r,o)}:void 0}))}var re=gt((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),oe=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return ut(e,t),e.prototype.lift=function(t){var e=new ie(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new re},e.prototype.next=function(t){var e=this;Lt((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=ft(e.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(t)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;Lt((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;Lt((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?St:(this.currentObservers=null,i.push(t),new wt((function(){e.currentObservers=null,mt(i,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new Kt;return t.source=this,t},e.create=function(t,e){return new ie(t,e)},e}(Kt),ie=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return ut(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:St},e}(oe),ae=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function se(t){return vt(null==t?void 0:t.then)}function ce(t){return vt(t[Ht])}function ue(t){return Symbol.asyncIterator&&vt(null==t?void 0:t[Symbol.asyncIterator])}function le(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var fe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function pe(t){return vt(null==t?void 0:t[fe])}function de(t){return yt(this,arguments,(function(){var e,n,r;return lt(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ht(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,ht(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ht(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function he(t){return vt(null==t?void 0:t.getReader)}function ye(t){if(t instanceof Kt)return t;if(null!=t){if(ce(t))return o=t,new Kt((function(t){var e=o[Ht]();if(vt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ae(t))return r=t,new Kt((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if(se(t))return n=t,new Kt((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,kt)}));if(ue(t))return ve(t);if(pe(t))return e=t,new Kt((function(t){var n,r;try{for(var o=ft(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}));if(he(t))return ve(de(t))}var e,n,r,o;throw le(t)}function ve(t){return new Kt((function(e){(function(t,e){var n,r,o,i,a,s,c,u;return a=this,s=void 0,u=function(){var a,s;return lt(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=ft(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}}(t),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))},new((c=void 0)||(c=Promise))((function(t,e){function n(t){try{o(u.next(t))}catch(t){e(t)}}function r(t){try{o(u.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof c?o:new c((function(t){t(o)}))).then(n,r)}o((u=u.apply(a,s||[])).next())}))})(t,e).catch((function(t){return e.error(t)}))}))}function ge(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule((function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(i),!o)return i}function be(t,e,n){return void 0===n&&(n=1/0),vt(e)?be((function(n,r){return Zt((function(t,o){return e(n,t,r,o)}))(ye(t(n,r)))}),n):("number"==typeof e&&(n=e),Qt((function(e,r){return function(t,e,n,r,o,i,a,s){var c=[],u=0,l=0,f=!1,p=function(){!f||c.length||u||e.complete()},d=function(t){return u<r?h(t):c.push(t)},h=function(t){u++;var o=!1;ye(n(t,l++)).subscribe(Jt(e,(function(t){e.next(t)}),(function(){o=!0}),void 0,(function(){if(o)try{u--;for(;c.length&&u<r;)t=void 0,t=c.shift(),h(t);p()}catch(t){e.error(t)}var t})))};return t.subscribe(Jt(e,d,(function(){f=!0,p()}))),function(){}}(e,r,t,n)})))}function me(t){return void 0===t&&(t=1/0),be(qt,t)}var we=new Kt((function(t){return t.complete()}));function Se(t){return t&&vt(t.schedule)}function _e(t){return t[t.length-1]}function Ee(t){return vt(_e(t))?t.pop():void 0}function Oe(t){return Se(_e(t))?t.pop():void 0}function Te(t,e){return"number"==typeof _e(t)?t.pop():e}function Ae(t,e){return void 0===e&&(e=0),Qt((function(n,r){n.subscribe(Jt(r,(function(n){return ge(r,t,(function(){return r.next(n)}),e)}),(function(){return ge(r,t,(function(){return r.complete()}),e)}),(function(n){return ge(r,t,(function(){return r.error(n)}),e)})))}))}function Pe(t,e){return void 0===e&&(e=0),Qt((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function Ce(t,e){if(!t)throw new Error("Iterable cannot be null");return new Kt((function(n){ge(n,e,(function(){var r=t[Symbol.asyncIterator]();ge(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function Ie(t,e){return e?function(t,e){if(null!=t){if(ce(t))return function(t,e){return ye(t).pipe(Pe(e),Ae(e))}(t,e);if(ae(t))return function(t,e){return new Kt((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if(se(t))return function(t,e){return ye(t).pipe(Pe(e),Ae(e))}(t,e);if(ue(t))return Ce(t,e);if(pe(t))return function(t,e){return new Kt((function(n){var r;return ge(n,e,(function(){r=t[fe](),ge(n,e,(function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(t){return void n.error(t)}o?n.complete():n.next(e)}),0,!0)})),function(){return vt(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(he(t))return function(t,e){return Ce(de(t),e)}(t,e)}throw le(t)}(t,e):ye(t)}function ke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oe(t),r=Te(t,1/0),o=t;return o.length?1===o.length?ye(o[0]):me(r)(Ie(o,n)):we}var xe={now:function(){return(xe.delegate||Date).now()},delegate:void 0},Re=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=xe);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return ut(e,t),e.prototype.next=function(e){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,s=n._windowTime;r||(o.push(e),!i&&o.push(a.now()+s)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!t.closed;o+=n?1:2)t.next(r[o]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,n=t._timestampProvider,r=t._buffer,o=t._infiniteTimeWindow,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),s=0,c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}},e}(oe);function Ne(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==e){if(!1!==e){var o=new zt({next:function(){o.unsubscribe(),t()}});return ye(e.apply(void 0,dt([],pt(n)))).subscribe(o)}}else t()}function De(t,e,n){var r,o,i,a,s=!1;return t&&"object"==typeof t?(r=t.bufferSize,a=void 0===r?1/0:r,o=t.windowTime,e=void 0===o?1/0:o,s=void 0!==(i=t.refCount)&&i,n=t.scheduler):a=null!=t?t:1/0,function(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new oe}:e,r=t.resetOnError,o=void 0===r||r,i=t.resetOnComplete,a=void 0===i||i,s=t.resetOnRefCountZero,c=void 0===s||s;return function(t){var e,r,i,s=0,u=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=void 0},p=function(){f(),e=i=void 0,u=l=!1},d=function(){var t=e;p(),null==t||t.unsubscribe()};return Qt((function(t,h){s++,l||u||f();var y=i=null!=i?i:n();h.add((function(){0!=--s||l||u||(r=Ne(d,c))})),y.subscribe(h),!e&&s>0&&(e=new zt({next:function(t){return y.next(t)},error:function(t){l=!0,f(),r=Ne(p,o,t),y.error(t)},complete:function(){u=!0,f(),r=Ne(p,a),y.complete()}}),ye(t).subscribe(e))}))(t)}}({connector:function(){return new Re(a,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Le(t,e){return Qt((function(n,r){var o=0;n.subscribe(Jt(r,(function(n){return t.call(e,n,o++)&&r.next(n)})))}))}function je(t){return t<=0?function(){return we}:Qt((function(e,n){var r=0;e.subscribe(Jt(n,(function(e){++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}function Ve(t){return Le((function(e,n){return t<=n}))}var Ue={AD_ENGINE_BAB_DETECTION:{category:"[Ad Engine]",name:"BAB detection finished",payload:{_as:"props",_p:void 0}},AD_ENGINE_CONFIGURED:{name:"Configured"},AD_ENGINE_CONSENT_READY:{category:"[AdEngine OptIn]",name:"set opt in",payload:{_as:"props",_p:void 0}},AD_ENGINE_INSTANT_CONFIG_CACHE_RESET:{name:"Instant Config cache reset"},AD_ENGINE_INTERSTITIAL_DISPLAYED:{name:"Interstitial displayed"},AD_ENGINE_LOAD_TIME_INIT:{name:"Ad engine load time init"},AD_ENGINE_MESSAGE_BOX_EVENT:{name:"MessageBox event",payload:{_as:"props",_p:void 0}},AD_ENGINE_PARTNERS_READY:{name:"Partners Ready"},AD_ENGINE_STACK_START:{name:"Ad Stack started"},AD_ENGINE_TEMPLATE_LOADED:{name:"Template loaded",payload:{_as:"props",_p:void 0}},AD_ENGINE_UAP_DOM_CHANGED:{name:"UAP DOM changed",payload:{_as:"props",_p:void 0}},AD_ENGINE_UAP_LOAD_STATUS:{name:"UAP Load status",payload:{_as:"props",_p:void 0}},AD_ENGINE_UAP_NTC_LOADED:{name:"UAP NTC loaded"},AD_ENGINE_INVALIDATE_SLOT_TARGETING:{name:"Invalidate slot targeting",payload:{_as:"props",_p:void 0}},AD_ENGINE_VIDEO_OVERLAY_CLICKED:{name:"Video overlay added",payload:{_as:"props",_p:void 0}},AD_ENGINE_VIDEO_TOGGLE_UI_OVERLAY_CLICKED:{name:"Video toggle ui overlay clicked",payload:{_as:"props",_p:void 0}},AD_ENGINE_VIDEO_LEARN_MORE_CLICKED:{name:"Video learn more displayed",payload:{_as:"props",_p:void 0}},AD_ENGINE_SLOT_ADDED:{name:"Ad Slot added",payload:{_as:"props",_p:void 0}},AD_ENGINE_SLOT_EVENT:{name:"Ad Slot event",payload:{_as:"props",_p:void 0}},AD_ENGINE_SLOT_LOADED:{name:"Ad Slot loaded",payload:{_as:"props",_p:void 0}},AD_ENGINE_AD_RESIZED:{name:"Ad slot resized",payload:{_as:"props",_p:void 0}},AD_ENGINE_AD_CLICKED:{name:"Ad clicked",payload:{_as:"props",_p:void 0}},ANYCLIP_LATE_INJECT:{name:"Anyclip late inject"},AUDIGENT_SEGMENT_LIBRARY_LOADED:{name:"Audigent segment library loaded"},AUDIGENT_MATCHES_LIBRARY_LOADED:{name:"Audigent matches library loaded"},AUDIGENT_SEGMENTS_READY:{name:"Audigent segments ready"},CAPTIFY_LOADED:{name:"Captify loaded"},EYEOTA_STARTED:{name:"Eyeota started"},EYEOTA_FAILED:{name:"Eyeota loading failed"},IDENTITY_ENGINE_READY:{category:"[IdentityEngine]",name:"Identity ready"},IDENTITY_PARTNER_DATA_OBTAINED:{name:"Identity partner data obtained",payload:{_as:"payload",_p:void 0}},LIVE_CONNECT_STARTED:{name:"LiveConnect started"},LIVE_CONNECT_CACHED:{name:"LiveConnect data cached"},LIVE_CONNECT_RESPONDED_UUID:{name:"LiveConnect responded with UUID"},NATIVO_LOADED:{name:"Nativo loaded",payload:{_as:"props",_p:void 0}},NO_NATIVE_PREBID_AD:{name:"No native prebid ad",payload:{_as:"props",_p:void 0}},NO_NATIVO_AD:{name:"No nativo ad",payload:{_as:"props",_p:void 0}},TIMESTAMP_EVENT:{name:"Timestamp event",payload:{_as:"props",_p:void 0}},BINGEBOT_AD_SLOT_INJECTED:{category:"[BingeBot]",name:"ad slot injected",payload:{_as:"props",_p:void 0}},BINGEBOT_BEFORE_VIEW_CHANGE:{category:"[BingeBot]",name:"before view change"},BINGEBOT_DESTROY_AD_SLOT:{category:"[BingeBot]",name:"destroy ad slot",payload:{_as:"props",_p:void 0}},BINGEBOT_VIEW_RENDERED:{category:"[BingeBot]",name:"view rendered",payload:{_as:"props",_p:void 0}},F2_HIDE_SMART_BANNER:{category:"[AdEngine F2 Templates]",name:"hide smart banner"},FAN_FEED_READY:{category:"[FanFeed]",name:"Ready"},QUIZ_AD_INJECTED:{category:"[quizConsumption]",name:"ad slot injected",payload:{_as:"props",_p:void 0}},PLATFORM_BEFORE_PAGE_CHANGE:{category:"[Platform]",name:"Before page change"},PLATFORM_PAGE_CHANGED:{category:"[Platform]",name:"Page changed"},PLATFORM_PAGE_EXTENDED:{category:"[Platform]",name:"Page extended"},PLATFORM_AD_PLACEMENT_READY:{category:"[Platform]",name:"Ad placement ready",payload:{_as:"props",_p:void 0}},RAIL_READY:{category:"[Rail]",name:"Ready"},BIDDERS_BIDDING_DONE:{category:"[Prebid]",name:"Bidding done",payload:{_as:"props",_p:void 0}},BIDDERS_BIDS_CALLED:{category:"[Prebid]",name:"Bids called"},BIDDERS_BIDS_REFRESH:{category:"[Prebid]",name:"Bids refresh",payload:{_as:"props",_p:void 0}},BIDDERS_BIDS_RESPONSE:{category:"[Prebid]",name:"Bids response",payload:{_as:"props",_p:void 0}},BIDDERS_AUCTION_DONE:{category:"[Prebid]",name:"Auction done"},VIDEO_EVENT:{category:"[Video]",name:"Video event",payload:{_as:"props",_p:void 0}},VIDEO_PLAYER_TRACKING:{category:"[Video]",name:"Video player tracking",payload:{_as:"props",_p:void 0}},GAM_AD_INTERVENTION:{category:"[GAM iframe]",name:"Ad intervention",payload:{_as:"props",_p:void 0}},GAM_AD_DELAYED_COLLAPSE:{category:"[GAM iframe]",name:"Delayed collapse",payload:{_as:"props",_p:void 0}},GAM_INTERSTITIAL_LOADED:{category:"[GAM iframe]",name:"Interstitial loaded"},GAM_LOAD_TEMPLATE:{category:"[GAM iframe]",name:"Load template",payload:{_as:"payload",_p:void 0}}};function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Le((function(e){var n=e.type;return t.some((function(t){return t.type===n}))}))}var ze=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Be=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function Fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.pipe(Me.apply(void 0,Be([],ze(t),!1)),Le((function(e){return t.some((function(t){return H(t)?G(e):!G(e)}))})))}}var Ge=function(){function t(){}return t.connect=function(t){if(void 0===t&&(t="AdEngine"),this.devtools)throw new Error("Trying to initialize ReduxDevtools second time");var e=window.__REDUX_DEVTOOLS_EXTENSION__;if(e)return this.devtools=e.connect({name:t})},t}(),He=function(){function t(){var t=this,e=this.getSettings(),n=e.channelId,r=e.coordinatorName,o=e.reduxDevtoolsName;!function(t){if(void 0===t&&(t=window),!t[$]){var e=new st(t);e.init(),t[$]=e}}(),this.communicator=new it({channelId:n||"default",coordinatorHost:window[r]||top});var i=ne((function(e){return t.communicator.addListener(e)}),(function(e){return t.communicator.removeListener(e)})).pipe(De({refCount:!0}));this.subject=new oe,this.action$=ke(i.pipe(Le((function(t){return G(t)}))),this.subject.asObservable().pipe(Le((function(t){return!G(t)})))),this.connectReduxDevtools(o)}return t.prototype.emit=function(t,e){this.dispatch(this.getGlobalAction(t)(e))},t.prototype.on=function(t,e,n){void 0===n&&(n=!0),this.action$.pipe(Fe(this.getGlobalAction(t)),n?je(1):Ve(0)).subscribe(e)},t.prototype.onSlotEvent=function(t,e,n,r){void 0===n&&(n=""),void 0===r&&(r=!1),this.action$.pipe(Fe(this.getGlobalAction(Ue.AD_ENGINE_SLOT_EVENT)),Le((function(e){return e.event===t.toString()&&(!n||e.adSlotName===n)})),r?je(1):Ve(0)).subscribe(e)},t.prototype.dispatch=function(t){G(t)?this.communicator.dispatch(t):this.subject.next(t)},t.prototype.getGlobalAction=function(t){return t.action||(t.action=t.payload?q("".concat(t.category||"[AdEngine]"," ").concat(t.name),t.payload):q("".concat(t.category||"[AdEngine]"," ").concat(t.name))),t.action},t.prototype.getSettings=function(){return window["@wikia/post-quecast-settings"]||{}},t.prototype.connectReduxDevtools=function(t){var e=this,n=Ge.connect(t);n&&(n.subscribe((function(t){try{if("@devtools-extension"===t.source&&"ACTION"===t.type){var r=new Function("return ".concat(t.payload))();e.dispatch(r)}}catch(t){n.error(t.message)}})),this.action$.subscribe((function(t){return n.send(t,{})})))},t}(),qe=new He,We=o(492),Ke=(o(787),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),Ye=window.device,$e={},Qe=[];window.device=$e;var Je=window.document.documentElement,Xe=window.navigator.userAgent.toLowerCase(),Ze=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function tn(t,e){return-1!==t.indexOf(e)}function en(t){return tn(Xe,t)}function nn(t){return Je.className.match(new RegExp(t,"i"))}function rn(t){var e=null;nn(t)||(e=Je.className.replace(/^\s+|\s+$/g,""),Je.className=e+" "+t)}function on(t){nn(t)&&(Je.className=Je.className.replace(" "+t,""))}function an(){$e.landscape()?(on("portrait"),rn("landscape"),sn("landscape")):(on("landscape"),rn("portrait"),sn("portrait")),ln()}function sn(t){for(var e=0;e<Qe.length;e++)Qe[e](t)}$e.macos=function(){return en("mac")},$e.ios=function(){return $e.iphone()||$e.ipod()||$e.ipad()},$e.iphone=function(){return!$e.windows()&&en("iphone")},$e.ipod=function(){return en("ipod")},$e.ipad=function(){var t="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return en("ipad")||t},$e.android=function(){return!$e.windows()&&en("android")},$e.androidPhone=function(){return $e.android()&&en("mobile")},$e.androidTablet=function(){return $e.android()&&!en("mobile")},$e.blackberry=function(){return en("blackberry")||en("bb10")},$e.blackberryPhone=function(){return $e.blackberry()&&!en("tablet")},$e.blackberryTablet=function(){return $e.blackberry()&&en("tablet")},$e.windows=function(){return en("windows")},$e.windowsPhone=function(){return $e.windows()&&en("phone")},$e.windowsTablet=function(){return $e.windows()&&en("touch")&&!$e.windowsPhone()},$e.fxos=function(){return(en("(mobile")||en("(tablet"))&&en(" rv:")},$e.fxosPhone=function(){return $e.fxos()&&en("mobile")},$e.fxosTablet=function(){return $e.fxos()&&en("tablet")},$e.meego=function(){return en("meego")},$e.cordova=function(){return window.cordova&&"file:"===location.protocol},$e.nodeWebkit=function(){return"object"===Ke(window.process)},$e.mobile=function(){return $e.androidPhone()||$e.iphone()||$e.ipod()||$e.windowsPhone()||$e.blackberryPhone()||$e.fxosPhone()||$e.meego()},$e.tablet=function(){return $e.ipad()||$e.androidTablet()||$e.blackberryTablet()||$e.windowsTablet()||$e.fxosTablet()},$e.desktop=function(){return!$e.tablet()&&!$e.mobile()},$e.television=function(){for(var t=0;t<Ze.length;){if(en(Ze[t]))return!0;t++}return!1},$e.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?tn(screen.orientation.type,"portrait"):$e.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90!==Math.abs(window.orientation):window.innerHeight/window.innerWidth>1},$e.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?tn(screen.orientation.type,"landscape"):$e.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},$e.noConflict=function(){return window.device=Ye,this},$e.ios()?$e.ipad()?rn("ios ipad tablet"):$e.iphone()?rn("ios iphone mobile"):$e.ipod()&&rn("ios ipod mobile"):$e.macos()?rn("macos desktop"):$e.android()?$e.androidTablet()?rn("android tablet"):rn("android mobile"):$e.blackberry()?$e.blackberryTablet()?rn("blackberry tablet"):rn("blackberry mobile"):$e.windows()?$e.windowsTablet()?rn("windows tablet"):$e.windowsPhone()?rn("windows mobile"):rn("windows desktop"):$e.fxos()?$e.fxosTablet()?rn("fxos tablet"):rn("fxos mobile"):$e.meego()?rn("meego mobile"):$e.nodeWebkit()?rn("node-webkit"):$e.television()?rn("television"):$e.desktop()&&rn("desktop"),$e.cordova()&&rn("cordova"),$e.onChangeOrientation=function(t){"function"==typeof t&&Qe.push(t)};var cn="resize";function un(t){for(var e=0;e<t.length;e++)if($e[t[e]]())return t[e];return"unknown"}function ln(){$e.orientation=un(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(cn="orientationchange"),window.addEventListener?window.addEventListener(cn,an,!1):window.attachEvent?window.attachEvent(cn,an):window[cn]=an,an(),$e.type=un(["mobile","tablet","desktop"]),$e.os=un(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),ln();const fn=$e;var pn,dn=null,hn=!1,yn=null,vn=function(){function t(){}return t.prototype.isSmartphone=function(){return fn.mobile()},t.prototype.isTablet=function(){return fn.tablet()},t.prototype.isDesktop=function(){return!this.isSmartphone()&&!this.isTablet()},t.prototype.checkBlocking=function(t,e){return void 0===t&&(t=function(){}),void 0===e&&(e=function(){}),new Promise((function(t){if(!hn){if("undefined"==typeof BlockAdBlock)return void t(!0);pn=new BlockAdBlock({checkOnLoad:!1,resetOnEnd:!0,loopCheckTime:50,loopMaxNumber:5}),hn=!0}pn.onDetected((function(){return t(!0)})),pn.onNotDetected((function(){return t(!1)})),pn.check(!0)})).then((function(n){return n?t():e(),n}))},t.prototype.getDeviceType=function(){return this.isTablet()?"tablet":this.isSmartphone()?"smartphone":"desktop"},t.prototype.getDeviceMode=function(){return window.matchMedia("(max-width: 840px)").matches?"mobile":"desktop"},t.prototype.getOperatingSystem=function(){if(null!==yn)return yn;var t=window.navigator.userAgent;return yn="unknown",-1!==t.indexOf("Win")&&(yn="Windows"),-1!==t.indexOf("Mac")&&(yn="OSX"),-1!==t.indexOf("Linux")&&(yn="Linux"),-1!==t.indexOf("Android")&&(yn="Android"),-1!==t.indexOf("like Mac")&&(yn="iOS"),yn},t.prototype.getBrowser=function(){if(null!==dn)return dn;var t,e=window.navigator,n=e.appName,r=e.appVersion,o=e.userAgent,i=o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(o)||[""],dn="IE ".concat(t[1]||"")):"Chrome"===i[1]&&null!==(t=o.match(/\b(OPR|Edge)\/(\d+)/))?dn=t.slice(1).join(" ").replace("OPR","Opera"):(i=i[2]?[i[1],i[2]]:[n,r,"-?"],null!==(t=o.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),dn=i.join(" "))},t.prototype.isSteamPlatform=function(){return window.navigator.userAgent.toLowerCase().indexOf("steam")>-1},t}(),gn=new vn,bn=function(){return bn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},bn.apply(this,arguments)},mn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};var wn=function(){function t(t){void 0===t&&(t=window.localStorage),this.provider=t,this.fallbackStorage={}}return t.prototype.isAvailable=function(){try{return this.provider.setItem("ae3-provider-storage-test","1"),this.provider.getItem("ae3-provider-storage-test"),this.provider.removeItem("ae3-provider-storage-test"),!0}catch(t){return!1}},t.prototype.getItem=function(t){try{var e=this.provider.getItem(t);try{e=JSON.parse(e)}catch(t){return e}return e}catch(e){return this.fallbackStorage[t]}},t.prototype.setItem=function(t,e,n){var r=e instanceof Object?JSON.stringify(e):e;try{this.provider.setItem(t,r,n)}catch(e){console.warn("Item ".concat(t," wasn't set in the storage"),e),this.fallbackStorage[t]=r}return!0},t.prototype.removeItem=function(t){try{return this.provider.removeItem(t)}catch(e){delete this.fallbackStorage[t]}},t.prototype.clear=function(){try{this.provider.clear()}catch(t){this.fallbackStorage={}}},t}(),Sn=function(){function t(){this.storage=new wn(new A),this.sessionCookieDefault="tracking_session_id",this.prefix="",this.prefix=this.readSessionId()}return t.make=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.readSessionId=function(){var t=L.get("options.session.cookieName")||this.sessionCookieDefault,e=T.get(t)||L.get("options.session.id")||"ae3";return this.setSessionId(e),e},t.prototype.setSessionId=function(t){this.prefix=t,L.set("options.session.id",t)},t.prototype.getItem=function(t){return this.storage.getItem("".concat(this.prefix,"_").concat(t))},t.prototype.setItem=function(t,e,n){this.storage.setItem(t,e,n)},t.prototype.removeItem=function(t){this.storage.removeItem("".concat(this.prefix,"_").concat(t))},t.prototype.clear=function(){this.storage.clear()},t}(),_n=function(){return _n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_n.apply(this,arguments)},En=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},On=function(){function t(){this.sessionCookie=Sn.make(),this.resetCache()}return t.make=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.resetCache=function(){this.sessionCookie.readSessionId();var t,e=this.sessionCookie.getItem("basset")||"";this.cacheStorage=""===(t=e)||"string"!=typeof t?{}:t.split("|").reduce((function(t,e){return bn(bn({},t),function(t){var e,n=mn(t.split(":"),2),r=n[0],o="true"===n[1],i=mn(r.split("_"),3),a=i[0],s=i[1],c=i[2],u=parseFloat(c)||void 0;return(e={})[a]={name:a,group:s,limit:u,result:o},e}(e))}),{}),qe.emit(Ue.AD_ENGINE_INSTANT_CONFIG_CACHE_RESET)},t.prototype.get=function(t){return this.cacheStorage[t]},t.prototype.set=function(t){var e=this;this.cacheStorage[t.name]=t,t.withCookie&&qe.on(Ue.AD_ENGINE_CONSENT_READY,(function(t){t.gdprConsent&&e.synchronizeCookie()}))},t.prototype.synchronizeCookie=function(){var t,e=this,n=(t=Object.keys(this.cacheStorage).map((function(t){return{key:t,value:e.cacheStorage[t]}})).filter((function(t){return t.value.withCookie})).reduce((function(t,e){var n,r=e.key,o=e.value;return _n(_n({},t),((n={})[r]=o,n))}),{}),Object.keys(t).slice(0,5).map(function(t){return function(e){var n=t[e],r=n.name,o=n.group,i=n.limit,a=n.result;return"".concat(r,"_").concat(o,"_").concat(i,":").concat(a)}}(t)).join("|"));this.sessionCookie.setItem("basset",n)},t.prototype.mapSamplingResults=function(t){if(void 0===t&&(t=[]),!t||!t.length)return[];var e=this.getSamplingResults();return t.map((function(t){return t.split(":")})).filter((function(t){var n=En(t,1)[0];return e.includes(n)})).map((function(t){return En(t,2)[1]}))},t.prototype.getSamplingResults=function(){var t=this;return Object.keys(this.cacheStorage).map((function(e){return t.getResultLog(e)}))},t.prototype.getResultLog=function(t){var e=this.cacheStorage[t],n=this.removeIndexSuffix(e.name);return"".concat(n,"_").concat(e.group,"_").concat(e.limit)},t.prototype.removeIndexSuffix=function(t){var e=t.lastIndexOf("-");return-1!==e?t.substring(0,e):t},t}(),Tn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},An="-cached",Pn="XX",Cn="non-",In=Math.pow(10,6),kn={setUpGeoData:function(){var t=T.get("Geo");if(t){var e=decodeURIComponent(t);try{var n=JSON.parse(e)||{};L.set("geo.region",n.region),L.set("geo.country",n.country),L.set("geo.continent",n.continent)}catch(t){throw new Error("Invalid JSON in the cookie")}return L.get("geo")||{}}},isProperContinent:function(t,e){return void 0===t&&(t=[]),!(!t||!t.indexOf||!function(t,e){return t.indexOf(Pn)>-1||Rn(t,Pn,e)}(t,e)&&!function(t,e){void 0===t&&(t=[]);var n="".concat(Pn,"-").concat(kn.getContinentCode());return t.indexOf(n)>-1||Rn(t,n,e)}(t,e))},isProperCountry:function(t,e){return void 0===t&&(t=[]),!!(t&&t.indexOf&&(t.indexOf(kn.getCountryCode())>-1||Rn(t,kn.getCountryCode(),e)))},isProperRegion:function(t,e){void 0===t&&(t=[]);var n="".concat(kn.getCountryCode(),"-").concat(kn.getRegionCode());return!!(t&&t.indexOf&&(t.indexOf(n)>-1||Rn(t,n,e)))},getContinentCode:function(){return L.get("geo.continent")},getCountryCode:function(){return L.get("geo.country")},getRegionCode:function(){return L.get("geo.region")},isProperGeo:function(t,e){void 0===t&&(t=[]);var n=On.make();return void 0!==e&&void 0!==n.get(e)?n.get(e).result:!(!t||!t.indexOf||function(t){return void 0===t&&(t=[]),!!(t.indexOf("".concat(Cn).concat(kn.getCountryCode()))>-1||t.indexOf("".concat(Cn).concat(kn.getCountryCode(),"-").concat(kn.getRegionCode()))>-1||t.indexOf("".concat(Cn).concat(Pn,"-").concat(kn.getContinentCode()))>-1)}(t)||!(kn.isProperContinent(t,e)||kn.isProperCountry(t,e)||kn.isProperRegion(t,e)))}};function xn(t){var e=Tn(t.split("/"),2)[1];return e=e.replace(An,""),Math.round(parseFloat(e)*In)||0}function Rn(t,e,n){var r=t.filter(function(t){return function(e){return 0!==e.indexOf(Cn)&&e.indexOf(t+"/")>-1}}(e)),o=function(t){return t.some((function(t){return-1!==t.indexOf(An)}))}(t);return 0!==r.length&&function(t,e,n){var r=Math.round(Math.random()*(100*In))||0,o=t.some((function(t){return r<t}));return e&&function(t,e,n,r){var o=On.make(),i=Tn(n,1)[0],a={name:t,result:e,withCookie:r,group:e?"B":"A",limit:(e?i:100*In-i)/In};o.set(a)}(e,o,t,n),o}(r.map(xn),n,o)}var Nn=k.getDebugGroup()||"",Dn=Nn.split(",");""!==Nn&&window.console.info("AdEngine debug mode - groups:","1"===Nn?"all":Dn);var Ln=Date.now();function jn(){var t,e;return((Date.now()-(null!==(e=null===(t=window.performance)||void 0===t?void 0:t.timeOrigin)&&void 0!==e?e:Ln))/1e3).toFixed(4)}function Vn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];""!==Nn&&("1"!==Nn&&-1===Dn.indexOf(t)||window.console.info("".concat(jn(),"s\t\t ").concat(t),e))}function Un(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];""!==Nn&&("1"!==Nn&&-1===Dn.indexOf(t)||window.console.warn(t,e))}var Mn=function(){function t(){}return t.prototype.init=function(t){return void 0===t&&(t={}),e=this,n=void 0,o=function(){var e,n,r,o=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(i){switch(i.label){case 0:return e=new We.InstantConfigLoader({appName:L.get("services.instantConfig.appName"),instantConfigEndpoint:L.get("services.instantConfig.endpoint"),instantConfigVariant:L.get("wiki.services_instantConfig_variant"),instantConfigFallbackEndpoint:L.get("services.instantConfig.fallback")}),n=new We.InstantConfigInterpreter(new We.BrowserMatcher(gn.getBrowser()),new We.DeviceMatcher(gn.getDeviceType()),new We.DomainMatcher,new We.RegionMatcher,On.make()),r=this,[4,e.getConfig().then((function(t){return(new We.InstantConfigOverrider).override(_.getURLSearchParams(),t)})).then((function(e){return n.init(e,t,kn.isProperGeo)}))];case 1:return r.interpreter=i.sent(),this.repository=this.interpreter.getValues(),Vn("instant-config-service","instantiated with",this.repository),qe.on(Ue.AD_ENGINE_INSTANT_CONFIG_CACHE_RESET,(function(){o.repository=o.interpreter.getValues()}),!1),[2,this]}}))},new((r=Promise)||(r=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o},t.prototype.get=function(t,e){return t in this.repository&&void 0!==this.repository[t]?this.repository[t]:e},t}(),zn=new(function(){function t(){}return t.prototype.createScript=function(t,e,n,r,o,i){void 0===e&&(e="text/javascript"),void 0===n&&(n=!0),void 0===r&&(r=null),void 0===o&&(o={}),void 0===i&&(i={});var a,s=document.createElement("script");return s.async=n,s.type=e,s.src=t,Object.keys(o).forEach((function(t){s.setAttribute(t,o[t])})),Object.keys(i).forEach((function(t){s.dataset[t]=i[t]})),"string"==typeof r?(a=document.getElementsByTagName("script")[0]).parentNode.insertBefore(s,a):(a=r||document.body).appendChild(s),s},t.prototype.loadScript=function(t,e,n,r,o,i){var a=this;return void 0===e&&(e="text/javascript"),void 0===n&&(n=!0),void 0===r&&(r=null),void 0===o&&(o={}),void 0===i&&(i={}),new Promise((function(s,c){var u=a.createScript(t,e,n,r,o,i);u.onload=s,u.onerror=c}))},t.prototype.loadAsset=function(t,e){void 0===e&&(e="json");var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType=e,new Promise((function(t){n.addEventListener("timeout",(function(){t(null)})),n.addEventListener("error",(function(){t(null)})),n.onreadystatechange=function(){this.readyState===this.DONE&&(200===this.status?t(this.response):t(null))},n.send()}))},t.prototype.loadSync=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),200===e.status&&0!==e.responseText.length&&e.responseText}catch(t){return!1}},t}());window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[];var Bn=new(function(){function t(){}return t.prototype.init=function(){if(!this.instancePromise){var t=L.get("bidders.prebid.libraryUrl");zn.loadScript(t,"text/javascript",!0,"first"),this.instancePromise=new Promise((function(t){return window.pbjs.que.push((function(){Vn("pbjs-factory","Prebid library loaded"),t(window.pbjs)}))}))}return this.instancePromise},t}()),Fn=new(function(){function t(){this.adTargeting={},this.onChangeCallbacks=[],this.pageTargetingGroupName="PAGE_TARGETING",k.isDebugMode()&&(window.ads.adTargeting=this.adTargeting)}return t.prototype.clear=function(t){void 0===t&&(t=null);var e=t||this.pageTargetingGroupName;this.adTargeting[e]={}},t.prototype.extend=function(t,e){void 0===e&&(e=null);var n=e||this.pageTargetingGroupName;this.adTargeting[n]=this.adTargeting[n]||{},this.adTargeting[n]=Object.assign(this.adTargeting[n],t)},t.prototype.dump=function(t){void 0===t&&(t=null);var e=t||this.pageTargetingGroupName;return this.adTargeting[e]=this.adTargeting[e]||{},this.adTargeting[e]},t.prototype.get=function(t,e){void 0===e&&(e=null);var n=e||this.pageTargetingGroupName;if(this.adTargeting[n])return this.adTargeting[n][t]},t.prototype.set=function(t,e,n){if(void 0===n&&(n=null),void 0!==e){var r=n||this.pageTargetingGroupName;this.adTargeting[r]=this.adTargeting[r]||{},this.adTargeting[r][t]=e,r===this.pageTargetingGroupName&&this.triggerOnChange(t,e)}},t.prototype.remove=function(t,e){void 0===e&&(e=null);var n=e||this.pageTargetingGroupName;this.adTargeting[n]&&this.adTargeting[n][t]&&(delete this.adTargeting[n][t],n===this.pageTargetingGroupName&&this.triggerOnChange(t,null))},t.prototype.onChange=function(t){this.onChangeCallbacks=this.onChangeCallbacks||[],this.onChangeCallbacks.push(t)},t.prototype.removeListeners=function(){this.onChangeCallbacks=[]},t.prototype.triggerOnChange=function(t,e){this.onChangeCallbacks.forEach((function(n){n(t,e)}))},t}()),Gn=new(function(){function t(){}return t.prototype.log=function(t,e){void 0===e&&(e={});var n=L.get("services.externalLogger.endpoint");if(n){var r=new FormData;r.set("message",t),Object.keys(e).forEach((function(t){r.set(t,e[t])}));var o=new XMLHttpRequest;o.open("POST",n,!0),o.send(r)}},t}()),Hn=function(){function t(t,e,n,r){void 0===e&&(e=100),void 0===n&&(n=0),void 0===r&&(r=0),this.condition=t,this.noTries=e,this.growingTimeout=n,this.fixedTimeout=r}return t.prototype.until=function(){return t=this,e=void 0,r=function(){var t,e,n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:t=0,e=this.growingTimeout||this.fixedTimeout,n=this.condition(),r.label=1;case 1:return!n&&t<this.noTries?[4,this.delay(e)]:[3,3];case 2:return r.sent(),n=this.condition(),this.growingTimeout&&(e*=2),t++,[3,1];case 3:return[2,Promise.resolve(n)]}}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.delay=function(t){var e=this;return new Promise((function(n){e.timeoutId=setTimeout(n,t)}))},t.prototype.reset=function(){this.timeoutId&&window.clearTimeout(this.timeoutId)},t}(),qn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Kn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Yn=function(){function t(t){void 0===t&&(t=null),this.instantConfig=t,this.resetInitialized()}var e;return t.prototype.getContextVariablesValue=function(t){return"string"==typeof t?L.get(t):t.map((function(t){return L.get(t)})).reduce((function(t,e){return t&&e}),!0)},t.prototype.isEnabled=function(t,e){void 0===e&&(e=!0);var n="string"==typeof t&&t.startsWith("ic")?this.instantConfig.get(t):this.getContextVariablesValue(t);return e?n&&L.get("options.trackingOptIn")&&!L.get("options.optOutSale")&&!L.get("wiki.targeting.directedAtChildren"):n},t.prototype.setOptions=function(t){return this.options=t,this},t.prototype.setInitialized=function(){this.resolve(),clearTimeout(this.initializationTimeout)},t.prototype.resetInitialized=function(){var t=this;this.initialized=new Promise((function(e){t.resolve=e}))},t.prototype.getDelayTimeoutInMs=function(){return L.get("options.maxDelayTimeout")},t.prototype.call=function(){},t.prototype.execute=function(){var t;return Wn(this,void 0,Promise,(function(){var e,n=this;return Kn(this,(function(r){switch(r.label){case 0:return e=(null===(t=this.options)||void 0===t?void 0:t.timeout)||this.getDelayTimeoutInMs(),this.options?(Promise.race([new Promise((function(t){return setTimeout(t,e)})),Promise.all(this.options.dependencies)]).then((function(){return Wn(n,void 0,void 0,(function(){return Kn(this,(function(t){switch(t.label){case 0:return[4,this.call()];case 1:return t.sent(),this.setInitialized(),[2]}}))}))})),[3,3]):[3,1];case 1:return this.initializationTimeout=setTimeout((function(){n.setInitialized()}),e),[4,this.call()];case 2:r.sent(),this.setInitialized(),r.label=3;case 3:return[2]}}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),qn("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object])],t)}(),$n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn="audigent",Jn=function(){return void 0!==window.au_seg};window.au=window.au||[];var Xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoaded=!1,e}return $n(e,t),e.loadSegmentLibrary=function(){e.segmentsScriptLoader=zn.loadScript("https://seg.ad.gt/api/v1/s/158","text/javascript",!0,"first").then((function(){qe.emit(Ue.AUDIGENT_SEGMENT_LIBRARY_LOADED)}))},e.prototype.loadMatchesLibrary=function(){this.matchesTagScriptLoader=zn.loadScript("https://a.ad.gt/api/v1/u/matches/158","text/javascript",!0,"first").then((function(){qe.emit(Ue.AUDIGENT_MATCHES_LIBRARY_LOADED)}))},e.prototype.call=function(){return t=this,n=void 0,o=function(){var t=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return this.isEnabled("icAudigent")?(Fn.set("AU_SEG","-1"),e.sampling=this.instantConfig.get("icAudigentTrackingSampling"),e.segmentLimit=this.instantConfig.get("icAudigentSegmentLimit"),!e.segmentsScriptLoader&&e.loadSegmentLibrary(),!this.matchesTagScriptLoader&&this.loadMatchesLibrary(),this.setupSegmentsListener(),this.isLoaded||(Vn(Qn,"loading..."),this.matchesTagScriptLoader.then((function(){Vn(Qn,"audience tag script loaded")})),e.segmentsScriptLoader.then((function(){Vn(Qn,"segment tag script loaded"),t.setup()})),this.isLoaded=!0),[4,this.waitForAuSegGlobalSet().then((function(e){Vn(Qn,"Audigent global variable set",e,window.au_seg),t.setup()}))]):(Vn(Qn,"disabled"),[2]);case 1:return n.sent(),[2]}}))},new((r=Promise)||(r=Promise))((function(e,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o},e.prototype.setup=function(){Jn()&&e.sliceAndSetSegmentsInTargeting()},e.prototype.setupSegmentsListener=function(){Vn(Qn,"setting up auSegReady event listener"),document.addEventListener("auSegReady",(function(t){Vn(Qn,"auSegReady event received",t),qe.emit(Ue.AUDIGENT_SEGMENTS_READY),e.sliceAndSetSegmentsInTargeting()}))},e.sliceAndSetSegmentsInTargeting=function(){var t=e.sliceSegments();e.trackWithExternalLoggerIfEnabled(t),e.setSegmentsInTargeting(t)},e.prototype.resetLoadedState=function(){this.isLoaded=!1,this.matchesTagScriptLoader=null,e.segmentsScriptLoader=null},e.sliceSegments=function(){var t=window.au_seg.segments||[],n=e.segmentLimit||0,r=t.length?t:"no_segments";return e.canSliceSegments(r,n)&&(r=r.slice(0,n)),Vn(Qn,"Sliced segments",r,n,t),r},e.setSegmentsInTargeting=function(t){Vn(Qn,"Setting segments in the targeting",t),Fn.set("AU_SEG",t)},e.canSliceSegments=function(t,e){return e>0&&"string"!=typeof t},e.trackWithExternalLoggerIfEnabled=function(t){var n=100*Math.random(),r=e.sampling||0;r>0&&n<=r&&"string"!=typeof t&&Gn.log("Audigent segments",{segmentsNo:t.length,segments:t})},e.prototype.waitForAuSegGlobalSet=function(t){void 0===t&&(t=5);var e=L.get("services.audigent.numberOfTries")||t;return new Hn(Jn,e,250).until()},e}(Yn),Zn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tr=q("[AdEngine] set InstantConfig",{_as:"props",_p:void 0}),er=function(){function t(t){this.container=t}var e;return t.prototype.execute=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:return[4,(new Mn).init()];case 1:return t=e.sent(),this.container.bind(Mn).value(t),this.container.bind(On).value(On.make()),qe.dispatch(tr({instantConfig:t})),this.preloadLibraries(t),[2]}}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.preloadLibraries=function(t){t.get("icPrebid")&&(L.set("bidders.prebid.libraryUrl",t.get("icPrebidVersion")),Bn.init()),t.get("icAudigent")&&Xn.loadSegmentLibrary()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Zn("design:paramtypes",["function"==typeof(e=void 0!==S&&S)?e:Object])],t)}(),nr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},rr=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function or(t,e){if("function"!=typeof e)throw new Error("LazyQueue used with callback not being a function");if(!(t instanceof Array))throw new Error("LazyQueue requires an array as the first parameter");t.start=function(){for(;t.length>0;)e(t.shift());t.push=function(t){e(t)}}}var ir=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.itemFlushCallbacks=[],this.items=[],this.items=rr([],nr(t),!1),this.setPreFlushPush()}return Object.defineProperty(t.prototype,"length",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),t.prototype.flush=function(){for(;this.items.length>0;)this.emit(this.items.shift());this.setPostFlushPush()},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.pushCommand.apply(this,rr([],nr(t),!1))},t.prototype.onItemFlush=function(t){if("function"!=typeof t)throw new Error("onItemFlush used with callback not being a function");this.itemFlushCallbacks.push(t)},t.prototype.setPreFlushPush=function(){var t=this;this.pushCommand=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(e=t.items).push.apply(e,rr([],nr(n),!1))}},t.prototype.setPostFlushPush=function(){var t=this;this.pushCommand=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){t.emit(e)}))}},t.prototype.emit=function(t){this.itemFlushCallbacks.forEach((function(e){e(t)}))},t}(),ar="tracking-opt-in-wrapper",sr=function(){function t(){window.ads=window.ads||{},this.installConsentQueue()}return t.prototype.init=function(){return t=this,e=void 0,r=function(){var t=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return[2,new Promise((function(e){Vn(ar,"Waiting for consents"),qe.on(Ue.AD_ENGINE_CONSENT_READY,(function(n){t.setConsents(n),e()}))}))]}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.setConsents=function(t){Vn(ar,"TrackingOptIn consents",t),L.set("options.trackingOptIn",t.gdprConsent),L.set("options.geoRequiresConsent",t.geoRequiresConsent),L.set("options.optOutSale",t.ccpaSignal),L.set("options.geoRequiresSignal",t.geoRequiresSignal)},t.prototype.installConsentQueue=function(){var t;window.ads.consentQueue=new((t=ir).bind.apply(t,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([void 0],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(window.ads.consentQueue||[]),!1))),window.ads.pushToConsentQueue=window.ads.pushToConsentQueue||function(t){window.ads.consentQueue.push(t)},qe.on(Ue.AD_ENGINE_CONSENT_READY,(function(t){window.ads.consentQueue.onItemFlush((function(e){console.warn('[AdEngine] You are using deprecated API to get consent.\nPlease use PostQuecast action "[AdEngine OptIn] set opt in" instead.'),e(t)})),window.ads.consentQueue.flush()}))},t}(),cr=new sr;function ur(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return window.ads.adEngineVersion&&window.console.warn("Multiple <?= PACKAGE(name) ?> initializations. This may cause issues."),window.ads.adEngineVersion="v135.0.1",Vn("ad-engine",window.ads.adEngineVersion),kn.setUpGeoData(),[4,cr.init()];case 1:return t.sent(),kn.setUpGeoData(),[2]}}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}function lr(t){return window.mw&&window.mw.config?window.mw.config.get(t):null}var fr,pr=function(){return pr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},pr.apply(this,arguments)},dr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},hr=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},yr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},vr=function(){function t(t){this.instantConfig=t}var e;return t.prototype.getPvUniqueId=function(){return lr("pvUID")||window.pvUID||window.fandomContext.tracking.pvUID},t.prototype.getLegacyTrackingParameters=function(){var t=T.get();return{beaconId:lr("beaconId")||window.beaconId||window.beacon_id||t.wikia_beacon_id,pvNumber:lr("pvNumber")||window.pvNumber||t.pv_number,pvNumberGlobal:lr("pvNumberGlobal")||window.pvNumberGlobal||t.pv_number_global,pvUID:this.getPvUniqueId(),sessionId:lr("sessionId")||window.sessionId||window.session_id||t.tracking_session_id}},t.prototype.getNewTrackingParameters=function(){return hr(this,void 0,Promise,(function(){return yr(this,(function(t){switch(t.label){case 0:return[4,new Hn((function(){var t;return!!(null===(t=window.fandomContext)||void 0===t?void 0:t.tracking)}),10,100).until()];case 1:return t.sent(),[2,pr({},window.fandomContext.tracking)]}}))}))},t.prototype.getTrackingParameters=function(t){return hr(this,void 0,Promise,(function(){var e;return yr(this,(function(n){switch(n.label){case 0:return t?(e=this.getLegacyTrackingParameters(),[3,3]):[3,1];case 1:return[4,this.getNewTrackingParameters()];case 2:e=n.sent(),n.label=3;case 3:return[2,e]}}))}))},t.prototype.execute=function(){return hr(this,void 0,void 0,(function(){var t,e;return yr(this,(function(n){switch(n.label){case 0:return t=!this.instantConfig.get("icDisableLegacyTrackingParameters",!1),[4,this.getTrackingParameters(t)];case 1:return e=n.sent(),L.set("wiki",pr(pr({},L.get("wiki")),e)),[2]}}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),dr("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object])],t)}(),gr="true"===_.get("tracking-opt-in-status"),br="true"===_.get("opt-out-sale-status"),mr=function(){return gr||!!L.get("options.trackingOptIn")},wr=function(){return!!L.get("options.isSubjectToCcpa")||br||!!L.get("options.optOutSale")},Sr=function(){return Sr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Sr.apply(this,arguments)},_r=function(){function t(){}return t.prototype.track=function(t,e){var n=Sr(Sr({},this.getDataWarehouseParams()),t);e?this.sendCustomEvent(n,e):this.sendTrackEvent(n)},t.prototype.getDataWarehouseParams=function(){return{session_id:L.get("wiki.sessionId")||"unknown",pv_number:L.get("wiki.pvNumber"),pv_number_global:L.get("wiki.pvNumberGlobal"),pv_unique_id:L.get("wiki.pvUID"),beacon:L.get("wiki.beaconId")||"unknown",c:L.get("wiki.wgCityId")||"unknown",ck:L.get("wiki.dsSiteKey")||"unknown",lc:L.get("wiki.wgUserLanguage")||"unknown",s:Fn.get("skin")||"unknown",ua:window.navigator.userAgent,u:mr()?L.get("options.userId")||0:-1,a:parseInt(Fn.get("artid")||-1),x:L.get("wiki.wgDBname")||"unknown",n:L.get("wiki.wgNamespaceNumber")||-1}},t.prototype.sendCustomEvent=function(t,e){var n=Sr(Sr({},t),this.getTimeBasedParams()),r=this.buildDataWarehouseUrl(n,e);this.sendRequest(r,n)},t.prototype.sendTrackEvent=function(t,e){void 0===e&&(e="Event");var n=Sr(Sr({},t),this.getTimeBasedParams());n.ga_category=n.category||"",n.ga_label=n.label||"",n.ga_action=n.action||"",n.ga_value=n.value||"",delete n.category,delete n.label,delete n.action,delete n.value;var r=this.buildDataWarehouseUrl(n,"https://beacon.wikia-services.com/__track/special/trackingevent");this.sendRequest(r,n,e),"videoplayerevent"===n.eventName&&(r=this.buildDataWarehouseUrl(n,"https://beacon.wikia-services.com/__track/special/videoplayerevent"),this.sendRequest(r,n,e))},t.prototype.getTimeBasedParams=function(){return{cb:Math.floor(99999*Math.random()),url:document.URL}},t.prototype.buildDataWarehouseUrl=function(t,e){if(!e){var n="Error building DW tracking URL";throw Vn("data-warehouse-trackingParams",n),new Error(n)}return"".concat(e,"?").concat(_.stringify(t))},t.prototype.sendRequest=function(t,e,n){void 0===n&&(n="Event");var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="json",r.addEventListener("load",(function(){return Vn("DW - Track ".concat(n," Success"),{url:t,params:e})})),r.addEventListener("error",(function(r){return Vn("DW - Track ".concat(n," Failed"),{url:t,params:e,err:r})})),r.send()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Er={ad_engine_configured:Ue.AD_ENGINE_CONFIGURED,ad_engine_stack_start:Ue.AD_ENGINE_STACK_START,prebid_auction_started:Ue.BIDDERS_BIDS_CALLED,prebid_auction_ended:Ue.BIDDERS_AUCTION_DONE,live_connect_cached:Ue.LIVE_CONNECT_CACHED,live_connect_started:Ue.LIVE_CONNECT_STARTED,live_connect_responded_uuid:Ue.LIVE_CONNECT_RESPONDED_UUID,audigent_matches_library_loaded:Ue.AUDIGENT_MATCHES_LIBRARY_LOADED,audigent_segment_library_loaded:Ue.AUDIGENT_SEGMENT_LIBRARY_LOADED,audigent_segments_ready:Ue.AUDIGENT_SEGMENTS_READY,captify_loaded:Ue.CAPTIFY_LOADED,eyeota_started:Ue.EYEOTA_STARTED,eyeota_failed:Ue.EYEOTA_FAILED},Or=function(){function t(){this.initStartTime(),this.initLoadTimesTracker()}return t.make=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.initStartTime=function(){var t=new Date;this.startTime||(this.startTime=t.getTime(),this.tzOffset=t.getTimezoneOffset()),qe.emit(Ue.AD_ENGINE_LOAD_TIME_INIT,{timestamp:this.startTime})},t.prototype.getStartTime=function(){return this.startTime},t.prototype.getTimezoneOffset=function(){return this.tzOffset},t.prototype.initLoadTimesTracker=function(){var t=this;qe.on(Ue.AD_ENGINE_LOAD_TIME_INIT,(function(e){t.trackLoadTime("load_time_init",e.timestamp)})),Object.keys(Er).forEach((function(e){qe.on(Er[e],(function(){t.trackLoadTime(e,Date.now())}))})),qe.on(Ue.AD_ENGINE_SLOT_LOADED,(function(e){"top_leaderboard"==e.name&&t.trackLoadTime("top_leaderboard_loaded",Date.now())}))},t.prototype.trackLoadTime=function(t,e){(new _r).track({event_name:t,browser_ts:e,load_time:e-this.getStartTime(),tz_offset:this.getTimezoneOffset(),country:kn.getCountryCode()||""},"https://beacon.wikia-services.com/__track/special/adengloadtimes")},t}(),Tr=function(){function t(){}return t.prototype.execute=function(){Or.make()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Ar=function(){function t(){}return t.containsValue=function(t,e){var n=e.toUpperCase();return t.some((function(t){return t.toUpperCase()===n}))},t.prototype.getHostnamePrefix=function(){var t=window.location.hostname.toLowerCase(),e=/(^|.)(showcase|externaltest|preview|verify|stable|sandbox-[^.]+)\./.exec(t);if(e&&e.length>2)return e[2];var n=t.split(".");return n.length?n[0]:void 0},t.prototype.getRawDbName=function(t){return"_".concat(t||"wikia").replace("/[^0-9A-Z_a-z]/","_")},t.prototype.getTargetingBundles=function(e){var n=this,r=Fn.get("bundles")||[];try{var o=[];Object.keys(e).forEach((function(t){n.matchesTargetingBundle(e[t])&&o.push(t)})),o.forEach((function(e){t.containsValue(r,e)||r.push(e)}))}catch(t){Vn("targeting-bundles","Invalid input data!")}return this.applyCodeLevelBundles(r)},t.prototype.isWikiDirectedAtChildren=function(){return L.get("wiki.targeting.directedAtChildren")},t.prototype.applyCodeLevelBundles=function(e){(new A).getItem("_ae_intrsttl_imp")&&e.push("interstitial_disabled");var n=Fn.get("skin");n&&n.includes("ucp_")&&!t.containsValue(e,"VIDEO_TIER_1_AND_2_BUNDLE")&&e.push("VIDEO_TIER_3_BUNDLE");var r=Fn.get("word_count")||-1;return r>-1&&r<=100&&(e.push("short_page"),L.set("custom.short_page",!0)),e},t.prototype.matchesTargetingBundle=function(t){return!Object.keys(t).some((function(e){var n=Fn.get(e);if(!n)return!0;if(Array.isArray(n)){if(!t[e].some((function(t){return n.includes(t)})))return!0}else if(!t[e].includes(n))return!0;return!1}))},t}(),Pr=new Ar,Cr=function(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r={}),this.site=t,this.page=e,this.tracking=n,this.partners=r},Ir=function(t,e,n,r,o,i){this.categories="object"==typeof t?t:null,this.directedAtChildren="boolean"==typeof e?e:null,this.siteName="string"==typeof n?n:null,this.top1000="boolean"==typeof r?r:null,this.tags="object"==typeof o?o:null,this.taxonomy=Array.isArray(i)?i:null},kr=function(t,e,n,r,o,i,a){this.articleId="number"==typeof t?t:null,this.lang="string"==typeof e?e:null,this.pageId="number"==typeof n?n:null,this.pageName="string"==typeof r?r:null,this.pageType="string"==typeof o?o:null,this.tags="object"==typeof i?i:null,this.wordCount="number"==typeof a?a:-1};!function(t){t.SITE_CONTEXT="siteContext",t.PAGE_CONTEXT="pageContext",t.COMBINED="combined"}(fr||(fr={}));var xr=function(){return xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xr.apply(this,arguments)},Rr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Nr=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Dr=function(){function t(t){this.fandomContext=t}return t.prototype.get=function(){return this.getCommonParams()},t.prototype.getCommonParams=function(){var t,e,n,r,o,i,a,s,c=(s=(a=window.location.hostname.toLowerCase().split(".").filter((function(t){return"www"!==t}))).length,{base:a.slice("co"===a[s-2]?-3:-2).join(""),name:a.slice(0,-1).join(""),tld:a.slice(-1).join("")}),u=L.get("wiki"),l=L.get("state.isMobile"),f={ar:window.innerWidth>window.innerHeight?"4:3":"3:4",dmn:c.base,geo:kn.getCountryCode()||"none",hostpre:Pr.getHostnamePrefix(),original_host:(null===(t=u.opts)||void 0===t?void 0:t.isGamepedia)?"gamepedia":"fandom",skin:l?"ucp_mobile":"ucp_desktop",uap:"none",uap_c:"none",is_mobile:l?"1":"0"},p={artid:(null===(e=this.fandomContext.page.articleId)||void 0===e?void 0:e.toString())||"",kid_wiki:this.fandomContext.site.directedAtChildren?"1":"0",lang:this.fandomContext.page.lang||"unknown",s0:null===(n=this.fandomContext.site.taxonomy)||void 0===n?void 0:n[0],s0c:this.fandomContext.site.categories,s0v:(null===(r=this.fandomContext.site.taxonomy)||void 0===r?void 0:r[1])||u.targeting.wikiVertical,s1:Pr.getRawDbName(this.fandomContext.site.siteName),s2:this.getAdLayout(this.fandomContext.page.pageType||"article"),wpage:null===(o=this.fandomContext.page.pageName)||void 0===o?void 0:o.toLowerCase(),word_count:(null===(i=this.fandomContext.page.wordCount)||void 0===i?void 0:i.toString())||""};return xr(xr(xr({},f),p),this.getOptionalKeyVals())},t.prototype.getAdLayout=function(t){var e=this.getVideoStatus(),n=!!e.hasVideoOnPage,r=!n&&!!document.querySelector(L.get("slots.incontent_player.insertBeforeSelector"));if(this.updateVideoContext(n,r),"article"!==t)return t;if(n){var o=e.isDedicatedForArticle?"fv":"wv";return"".concat(o,"-").concat(t)}return r?"".concat(t,"-ic"):t},t.prototype.getVideoStatus=function(){var t=lr("wgArticleFeaturedVideo");if(t){var e=!1!==t.isDedicatedForArticle,n=!e&&window.canPlayVideo&&window.canPlayVideo();return{isDedicatedForArticle:e,hasVideoOnPage:e||n}}return{}},t.prototype.updateVideoContext=function(t,e){L.set("custom.hasFeaturedVideo",t),L.set("custom.hasIncontentPlayer",e)},t.prototype.getOptionalKeyVals=function(){var t,e,n,r,o,i,a,s,c={},u={cid:_.get("cid"),pv:L.get("wiki.pvNumber"),pvg:L.get("wiki.pvNumberGlobal")};return Object.keys(u).forEach((function(t){u[t]&&(c[t]=u[t].toString())})),((null===(e=null===(t=this.fandomContext.site)||void 0===t?void 0:t.tags)||void 0===e?void 0:e.esrb)||(null===(r=null===(n=this.fandomContext.site)||void 0===n?void 0:n.tags)||void 0===r?void 0:r.mpa))&&(c.rating=this.createRatingTag(null===(i=null===(o=this.fandomContext.site)||void 0===o?void 0:o.tags)||void 0===i?void 0:i.esrb,null===(s=null===(a=this.fandomContext.site)||void 0===a?void 0:a.tags)||void 0===s?void 0:s.mpa)),this.fandomContext.site.top1000&&(c.top="1k"),c},t.prototype.createRatingTag=function(t,e){var n=[];return t&&n.push.apply(n,Nr([],Rr(t.map((function(t){return"esrb:"+t}))),!1)),e&&n.push.apply(n,Nr([],Rr(e.map((function(t){return"mpa:"+t}))),!1)),n.join(",")},t}(),Lr=function(){function t(t){this.fandomContext=t}return t.prototype.get=function(){return this.fandomContext.page.tags},t}(),jr=function(){function t(t){this.fandomContext=t}return t.prototype.get=function(){return this.fandomContext.site.tags},t}(),Vr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ur=function(){function t(t){this.tagsToDecorate=t,this.tagsToAddPrefix=["gnre","media","pform","pub","theme","tv"]}return t.prototype.get=function(){return this.addPagePrefixToValues(this.tagsToDecorate.get())},t.prototype.addPagePrefixToValues=function(t){var e,n;if(!t)return null;var r={},o=function(t,e){i.tagsToAddPrefix.includes(t)?(r[t]=[],e.forEach((function(e){r[t].push("p_"+e)}))):r[t]=e},i=this;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(t)),s=a.next();!s.done;s=a.next()){var c=Vr(s.value,2);o(c[0],c[1])}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r},t}(),Mr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},zr=function(){function t(t){this.tagsToCombine=t}return t.prototype.get=function(){var t=this,e={};return this.tagsToCombine.forEach((function(n){t.combineTags(e,n.get())})),e},t.prototype.combineTags=function(t,e){var n,r;if(!e)return null;var o=function(e,n){i.isRatingTag(e)||(e in t?n.forEach((function(n){t[e].includes(n)||t[e].push(n)})):t[e]=Array.from(n))},i=this;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),s=a.next();!s.done;s=a.next()){var c=Mr(s.value,2);o(c[0],c[1])}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return t},t.prototype.isRatingTag=function(t){return["esrb","mpa"].includes(t)},t}(),Br=function(){function t(t){this.tagsToSum=t}return t.prototype.get=function(){var t={};return this.tagsToSum.map((function(e){t=Object.assign(t,e.get())})),t},t}(),Fr="Targeting",Gr=function(){return Gr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Gr.apply(this,arguments)},Hr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qr=function(){function t(t){this.instantConfig=t}var e;return t.prototype.execute=function(){Fn.extend(Gr(Gr({},Fn.dump()),this.getPageLevelTargeting())),L.get("wiki.opts.isAdTestWiki")&&L.get("wiki.targeting.testSrc")?L.set("src",[L.get("wiki.targeting.testSrc")]):L.get("wiki.opts.isAdTestWiki")&&L.set("src",["test"]),L.get("options.uapExtendedSrcTargeting")&&qe.on(Ue.AD_ENGINE_UAP_LOAD_STATUS,(function(t){(t.isLoaded||"ruap"===t.adProduct)&&L.push("src","uap")})),L.get("wiki.targeting.wikiIsTop1000")&&(L.set("custom.wikiIdentifier","_top1k_wiki"),L.set("custom.dbNameForAdUnit",Fn.get("s1"))),Fn.set("bundles",Pr.getTargetingBundles(this.instantConfig.get("icTargetingBundles")))},t.prototype.getPageLevelTargeting=function(){var t=this.instantConfig.get("icTargetingStrategy");return Vn("Targeting","Selected targeting priority strategy: ".concat(t)),function(t,e){switch(t){case fr.SITE_CONTEXT:return Vn(Fr,"Executing SiteContext strategy..."),new Br([new Dr(e),new jr(e)]);case fr.PAGE_CONTEXT:return Vn(Fr,"Executing PageContext strategy..."),new Br([new Dr(e),new Ur(new Lr(e))]);case fr.COMBINED:default:return Vn(Fr,"Executing Combined strategy..."),new Br([new Dr(e),new zr([new jr(e),new Ur(new Lr(e))])])}}(t,function(){return t=window.fandomContext,new Cr(new Ir(null===(e=null==t?void 0:t.site)||void 0===e?void 0:e.categories,null===(n=null==t?void 0:t.site)||void 0===n?void 0:n.directedAtChildren,null===(r=null==t?void 0:t.site)||void 0===r?void 0:r.siteName,null===(o=null==t?void 0:t.site)||void 0===o?void 0:o.top1000,null===(i=null==t?void 0:t.site)||void 0===i?void 0:i.tags,null===(a=null==t?void 0:t.site)||void 0===a?void 0:a.taxonomy),new kr(null===(s=null==t?void 0:t.page)||void 0===s?void 0:s.articleId,null===(c=null==t?void 0:t.page)||void 0===c?void 0:c.lang,null===(u=null==t?void 0:t.page)||void 0===u?void 0:u.pageId,null===(l=null==t?void 0:t.page)||void 0===l?void 0:l.pageName,null===(f=null==t?void 0:t.page)||void 0===f?void 0:f.pageType,null===(p=null==t?void 0:t.page)||void 0===p?void 0:p.tags,null===(d=null==t?void 0:t.page)||void 0===d?void 0:d.wordCount));var t,e,n,r,o,i,a,s,c,u,l,f,p,d}()).get()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Hr("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object])],t)}(),Wr=function(){function t(){}return t.prototype.build=function(t,e){void 0===e&&(e={});var n=t.match(/{(.+?)}/g),r=t;return n&&n.forEach((function(t){var n,o,i=t.replace("{","").replace("}",""),a=L.get(i),s=i.split("."),c=e[s[0]];if(c)for(n=1;n<s.length;n+=1){if(void 0===c[o=s[n]]){c=void 0;break}c=c[o]}void 0===c&&i.startsWith("targeting.")&&(c=Fn.get(i.replace("targeting.",""))),void 0===c&&(c=a),void 0!==c&&(r=r.replace(t,c))})),r},t}(),Kr=new Wr,Yr="cubic-bezier(0.55, 0.055, 0.675, 0.19)",$r=600,Qr="none",Jr="none",Xr=["uap","vuap"],Zr="/5441/uap",to=3e3,eo=2e3,no="force-unstick",ro="unsticked",oo="sticked",io="sticky-ready",ao="sticky-skipped",so="stickiness-disabled",co="video-done",uo={bfaSize:{desktop:[3,3],mobile:[2,2],unified:[2,3]},companionSizes:{"4x4":{size:[4,4],originalSize:[300,250]},"5x5":{size:[5,5],originalSize:[300,600]}}};function lo(t){return function(t){var e=L.get("slotGroups")||{},n=Object.keys(e).filter((function(n){return-1!==e[n].indexOf(t)}));return 1===n.length?n[0]:null}(t.toUpperCase())||"OTHER"}function fo(t,e){return Kr.build(L.get("slots.".concat(t,".videoAdUnit"))||L.get("vast.adUnitId"),{slotConfig:e})}var po=new(function(){function t(){}return t.prototype.addVariable=function(t,e){window.ads.runtime=window.ads.runtime||{},window.ads.runtime[t]=e},t}()),ho=function(){function t(){}return t.prototype.execute=function(){L.get("services.anyclip.enabled")&&this.disableIncontentPlayerSlot(),this.setCustomPlayerRuntimeAdUnit()},t.prototype.setCustomPlayerRuntimeAdUnit=function(t){void 0===t&&(t="incontent_player");var e=fo(t,{group:"VIDEO",adProduct:"incontent_video",slotNameSuffix:""});po.addVariable("video",{adUnit:e})},t.prototype.disableIncontentPlayerSlot=function(){L.set("slots.incontent_player.disabled",!0)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),yo=new(function(){function t(){this.storage=new wn}return t.prototype.isAvailable=function(){return this.storage.isAvailable()},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return!(!e||"string"==typeof e)&&(this.isExpired(e)?(this.delete(t),!1):e.data)},t.prototype.setItem=function(t,e,n){if(!this.isStorable(e))return!1;var r={data:e,expires:n?1e3*n+Date.now():void 0};return this.storage.setItem(t,r),!0},t.prototype.delete=function(t){this.storage.removeItem(t)},t.prototype.isStorable=function(t){var e=!["function","number","undefined"].some((function(e){return typeof t===e})),n=!("number"==typeof t&&isNaN(t));return e&&n},t.prototype.isExpired=function(t){return!!t.expires&&t.expires&&Date.now()>=t.expires},t}());function vo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function go(t){return"IFRAME"===t.tagName}function bo(){try{return window.self!==window.top}catch(t){return!0}}var mo=function(){function t(){}return t.getFirstElementChild=function(t){return t.firstElementChild},t}(),wo=new(function(){function t(){this.fillers={}}return t.prototype.apply=function(t,e){this.get(e).fill(t)},t.prototype.get=function(t){var e=this.fillers[t];return e||Vn("filler-service",e,"".concat(t," - filler is not registered")),e},t.prototype.register=function(t){var e=t.getName();this.fillers[e]=t},t}()),So="message-bus",_o=new(function(){function t(t){void 0===t&&(t=window),this.source=t,this.isInitialized=!1,this.callbacks=[]}return t.prototype.init=function(){var t=this;this.isInitialized||(Vn(So,"Register message listener"),this.source.addEventListener("message",(function(e){return t.onMessage(e)}),!1),this.isInitialized=!0)},t.prototype.register=function(t,e){this.init(),this.callbacks.push({match:t,fn:e})},t.prototype.onMessage=function(t){var e,n=0;if(this.isAdEngineMessage(t))for(Vn(So,"Message received",t),n=0;n<this.callbacks.length;n+=1)if(e=this.callbacks[n],this.messageMatch(e.match,t))return Vn(So,"Matching message",t,e),e.fn(this.getDataFromMessage(t).AdEngine),void(e.match.infinite||this.callbacks.splice(n,1))},t.prototype.isAdEngineMessage=function(t){var e=this.getDataFromMessage(t);return!!e&&!!e.AdEngine},t.prototype.messageMatch=function(t,e){var n=!0;if(t.origin&&!t.origin.includes(e.origin))return!1;if(t.keys){var r=this.getDataFromMessage(e).AdEngine;t.keys.forEach((function(t){n=n&&r[t]}))}return n},t.prototype.getDataFromMessage=function(t){if("string"==typeof t.data)try{return JSON.parse(t.data)}catch(t){return}return t.data},t}());function Eo(t){return t?parseFloat(getComputedStyle(t,null).width.replace("px","")):0}function Oo(t){return t?parseFloat(getComputedStyle(t,null).height.replace("px","")):0}function To(t){var e=!1,n={display:"",height:""};t.classList.contains("hide")&&(e=!0,n.display=t.style.display,n.height=t.style.height,t.classList.remove("hide"),t.style.display="block",t.style.height="1px");var r=function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+n}}(t);return e&&(t.classList.add("hide"),t.style.display=n.display,t.style.height=n.height),r}function Ao(t){return To(t).top}function Po(t){return To(t).left}function Co(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function Io(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)}function ko(t,e){var n=void 0===e?{}:e,r=n.topOffset,o=void 0===r?0:r,i=n.bottomOffset,a=void 0===i?0:i,s=n.areaThreshold,c=void 0===s?.5:s,u=window.getComputedStyle(t).position;if(["fixed","sticky"].includes(u))return!0;var l=t.offsetHeight,f=Ao(t),p=f+l,d=window.scrollY,h=Co(),y=c*l;return f>=o+d-y&&p<=a+d+h+y}function xo(t,e){if(void 0===e&&(e=[]),null===t.offsetParent)return!1;var n=t.offsetHeight,r=Ao(t),o=Co();return e.some((function(e){if(t.previousSibling&&t.previousSibling.isSameNode(e)||t.nextSibling&&t.nextSibling.isSameNode(e))return!0;var i=e.offsetHeight,a=Ao(e);return(a<r?r-a-i:a-r-n)<o}))}var Ro=new(function(){function t(){this.serviceName="scroll-listener",this.callbacks={}}return t.prototype.init=function(){var t=this,e=!1;document.addEventListener("scroll",(function(n){e||(window.requestAnimationFrame((function(){e=!1,Object.keys(t.callbacks).forEach((function(e){"function"==typeof t.callbacks[e]&&t.callbacks[e](n.type,e)}))})),e=!0)})),Vn(this.serviceName,"Service initialised.")},t.prototype.addSlot=function(t,e){var n=this,r=void 0===e?{}:e,o=r.threshold,i=r.distanceFromTop,a=document.getElementById(t);a?void 0!==o||void 0!==i?void 0===o||void 0===i?(Vn(this.serviceName,"Add slot ".concat(t,".")),this.addCallback((function(t,e){var r=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;if(void 0!==o){var s=Ao(a);r+Co()>s-o&&(n.removeCallback(e),Oa.pushSlot(a))}else r>i&&(n.removeCallback(e),Oa.pushSlot(a))}))):Vn(this.serviceName,"either threshold or distanceFromTop can be initialised, not both"):Vn(this.serviceName,"either threshold or distanceFromTop must be initialised"):Vn(this.serviceName,"Node with id ".concat(t," not found."))},t.prototype.addCallback=function(t){var e=this,n=this.getUniqueId();return this.callbacks[n]=t,qe.on(Ue.PLATFORM_BEFORE_PAGE_CHANGE,(function(){return e.removeCallback(n)})),n},t.prototype.removeCallback=function(t){delete this.callbacks[t]},t.prototype.getUniqueId=function(){return(16777216*(1+Math.random())).toString(16).substring(1)},t}()),No=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Do=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Lo="nativo",jo=function(){function t(t){this.context=t}return t.prototype.isEnabled=function(){var e=this.context.get("services.nativo.enabled")&&this.context.get("wiki.opts.enableNativeAds");return t.log("Is Nativo enabled?",e),e},t.prototype.load=function(){var e=this;t.log("Loading Nativo API..."),zn.loadScript("//s.ntv.io/serve/load.js","text/javascript",!0,null,{},{ntvSetNoAutoStart:""}).then((function(){t.log("Nativo API loaded."),e.watchNtvEvents(),e.watchPrebidNativeEvents()}))},t.prototype.scrollTriggerCallback=function(e,n){if(e.isLoaded)t.log(Lo,"Fan Takeover on the page");else{if(!1!==e.isLoaded||"ruap"!==e.adProduct||!this.context.get("custom.hasFeaturedVideo"))return this.isDisabledInNoAdsExperiment(n)?(t.log(Lo,"Slot disabled due to the experiment: ".concat(n)),void("ucp_mobile"!==Fn.get("skin")&&document.getElementById(n)?document.getElementById(n).id="":document.getElementById(n)&&document.getElementById(n).remove())):void this.context.push("state.adStack",{id:n});t.log(Lo,'"Fan Takeover" on the featured page')}},t.prototype.replaceAndShowSponsoredFanAd=function(){var e=document.getElementById(t.FEED_AD_SLOT_NAME),n=document.querySelector(".recirculation-prefooter__item.is-sponsored.can-nativo-replace");e&&n?(n.replaceWith(e),t.log("Replacing sponsored element with Nativo feed ad")):t.log("Could not replace sponsored element with Nativo feed ad")},t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Vn.apply(void 0,Do([Lo],No(t),!1))},t.prototype.replaceWithAffiliateUnit=function(){this.sendNativoStatus(Ra.STATUS_DISABLED)},t.prototype.sendNativoStatus=function(t){var e={event:t,adSlotName:"",payload:{adLocation:"",provider:"nativo"}};qe.dispatch(qe.getGlobalAction(Ue.AD_ENGINE_SLOT_EVENT)(e))},t.prototype.isDisabledInNoAdsExperiment=function(t){return this.context.get("state.noAdsExperiment.unitName")===t},t.prototype.watchNtvEvents=function(){var e,n,r,o,i=this;null===(n=null===(e=window.ntv.Events)||void 0===e?void 0:e.PubSub)||void 0===n||n.subscribe("noad",(function(e){var n=t.AD_SLOT_MAP[e.data[0].id];i.handleNtvNativeEvent(e,n,Ra.STATUS_COLLAPSE),n==t.INCONTENT_AD_SLOT_NAME&&qe.emit(Ue.NO_NATIVO_AD,{slotName:n})})),null===(o=null===(r=window.ntv.Events)||void 0===r?void 0:r.PubSub)||void 0===o||o.subscribe("adRenderingComplete",(function(e){var n=t.extractSlotIdFromNativoCompleteEventData(e);i.handleNtvNativeEvent(e,n,Ra.STATUS_SUCCESS)}))},t.prototype.watchPrebidNativeEvents=function(){var e=this;qe.on(Ue.NO_NATIVE_PREBID_AD,(function(n){n.slotName==t.INCONTENT_AD_SLOT_NAME&&e.replaceWithAffiliateUnit()}))},t.extractSlotIdFromNativoNoAdEventData=function(e){var n;return(null===(n=e.data[0])||void 0===n?void 0:n.adLocation)?e.data[0].adLocation.substring(1):t.AD_SLOT_MAP[e.data[0].id]},t.extractSlotIdFromNativoCompleteEventData=function(e){return e.data.placement?t.AD_SLOT_MAP[e.data.placement]:t.AD_SLOT_MAP[e.data.id]},t.prototype.handleNtvNativeEvent=function(e,n,r){if(t.log("Nativo native event fired",e,n,r),n){var o=Oa.get(n);t.log("Handling Nativo native event",n,o),o&&o.getSlotName()===n&&(r===Ra.STATUS_COLLAPSE&&(o.hide(),n===t.INCONTENT_AD_SLOT_NAME&&this.replaceWithAffiliateUnit()),r===Ra.STATUS_SUCCESS&&n===t.FEED_AD_SLOT_NAME&&this.replaceAndShowSponsoredFanAd(),o.getStatus()!==r?o.setStatus(r):t.log("Slot status already tracked",o.getSlotName(),r))}},t.INCONTENT_AD_SLOT_NAME="ntv_ad",t.FEED_AD_SLOT_NAME="ntv_feed_ad",t.AD_SLOT_MAP={1139703:t.INCONTENT_AD_SLOT_NAME,1142863:t.INCONTENT_AD_SLOT_NAME,1142668:t.FEED_AD_SLOT_NAME,1142669:t.FEED_AD_SLOT_NAME,456441:t.FEED_AD_SLOT_NAME},t}(),Vo=function(){function t(){}return t.prototype.create=function(t,e){var n=this.createEmptyIframe();return t.appendChild(n),e&&(n.contentWindow.document.open(),n.contentWindow.document.write(e),n.contentWindow.document.close()),n},t.prototype.createEmptyIframe=function(){var t=document.createElement("iframe");return t.height="0",t.width="0",t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src="about:blank",t.style.display="inline",t.style.overflow="hidden",t},t}(),Uo=function(){function t(){this.iframeBuilder=new Vo}return t.prototype.fillIn=function(t){return e=this,n=void 0,o=function(){var e,n=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:return[4,Bn.init()];case 1:return e=r.sent(),qe.action$.pipe(Fe(qe.getGlobalAction(Ue.BIDDERS_BIDDING_DONE)),Le((function(e){return"prebid"===e.provider&&e.slotName===t.getSlotName()})),je(1)).subscribe((function(){var r,o,i=n.getIframeDoc(t),a=n.getAdId(t);i&&a&&(e.renderAd(i,a),null===(o=null===(r=t.getElement())||void 0===r?void 0:r.classList)||void 0===o||o.remove("hide"),t.success(),Vn("prebidium-provider",t.getSlotName(),"slot added"))})),[2]}}))},new((r=Promise)||(r=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o},t.prototype.getIframeDoc=function(t){return this.iframeBuilder.create(t.getElement()).contentWindow.document},t.prototype.getAdId=function(t){return Fn.get("hb_adid",t.getSlotName())},t}(),Mo=function(){function t(t){this.ntvApi=t||{},this.ntvApi.cmd=this.ntvApi.cmd||[]}return t.prototype.fillIn=function(t){return Vn("nativo","Filling ".concat(t.getSlotName()," by pushing Nativo's command queue")),this.getQueue().push((function(){window.PostRelease.Start()})),!0},t.prototype.getQueue=function(){return this.ntvApi.cmd},t}(),zo=Object.defineProperty;function Bo(t,e,n){var r=n.configurable,o=n.enumerable,i=n.initializer,a=n.value;return{configurable:r,enumerable:o,get:function(){if(this!==t){var n=i?i.call(this):a;return zo(this,e,{configurable:r,enumerable:o,writable:!0,value:n}),n}},set:oi(e)}}function Fo(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return ti(Bo,e)}var Go,Ho,qo,Wo,Ko,Yo,$o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Qo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Jo(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function Xo(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var Zo=Object.defineProperty;function ti(t,e){return function(t){if(!t||!t.hasOwnProperty)return!1;for(var e=["value","initializer","get","set"],n=0,r=e.length;n<r;n++)if(t.hasOwnProperty(e[n]))return!0;return!1}(e[e.length-1])?t.apply(void 0,Xo(e).concat([[]])):function(){return t.apply(void 0,Xo(Array.prototype.slice.call(arguments)).concat([e]))}}Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.getOwnPropertySymbols;var ei=(Go=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Qo(this,"debounceTimeoutIds",Ho,this),Qo(this,"throttleTimeoutIds",qo,this),Qo(this,"throttlePreviousTimestamps",Wo,this),Qo(this,"throttleTrailingArgs",Ko,this),Qo(this,"profileLastRan",Yo,this)},Ho=Jo(Go.prototype,"debounceTimeoutIds",[Fo],{enumerable:!0,initializer:function(){return{}}}),qo=Jo(Go.prototype,"throttleTimeoutIds",[Fo],{enumerable:!0,initializer:function(){return{}}}),Wo=Jo(Go.prototype,"throttlePreviousTimestamps",[Fo],{enumerable:!0,initializer:function(){return{}}}),Ko=Jo(Go.prototype,"throttleTrailingArgs",[Fo],{enumerable:!0,initializer:function(){return null}}),Yo=Jo(Go.prototype,"profileLastRan",[Fo],{enumerable:!0,initializer:function(){return null}}),Go),ni="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function ri(t){return!1===t.hasOwnProperty(ni)&&Zo(t,ni,{value:new ei}),t[ni]}function oi(t){return function(e){return Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e}),e}}function ii(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}}var ai="object"===("undefined"==typeof console?"undefined":$o(console))&&console&&"function"==typeof console.warn?ii(console.warn,console):function(){},si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ui="{child} does not properly override {parent}",li=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;!function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parentKlass=e,this.childKlass=n,this.parentDescriptor=r,this.childDescriptor=o}ci(t,[{key:"_getTopic",value:function(t){return void 0===t?null:"value"in t?t.value:"get"in t?t.get:"set"in t?t.set:void 0}},{key:"_extractTopicSignature",value:function(t){return"function"===(void 0===t?"undefined":si(t))?this._extractFunctionSignature(t):this.key}},{key:"_extractFunctionSignature",value:function(t){var e=this;return t.toString().replace(li,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key,r=arguments[2];return n+r}))}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),ci(t,[{key:"assert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==t&&this.error(ui+e)}},{key:"error",value:function(t){var e=this;throw t=t.replace("{parent}",(function(t){return e.parentNotation})).replace("{child}",(function(t){return e.childNotation})),new SyntaxError(t)}}])}(),Object.assign,Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.defineProperty,Object.getPrototypeOf,Object.assign,Object.assign;var fi=Object.defineProperty;function pi(t,e,n,r){var o,i=(o=r,Array.isArray(o)?o:Array.from(o)),a=i[0],s=i.slice(1),c=n.configurable,u=n.enumerable,l=n.writable,f=n.get,p=n.set,d=n.value,h=!!f;return{configurable:c,enumerable:u,get:function(){var t=h?f.call(this):d,n=a.call.apply(a,[this,t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(s)));if(h)return n;var r={configurable:c,enumerable:u};return r.value=n,r.writable=l,fi(this,e,r),n},set:h?p:oi()}}function di(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return ti(pi,e)}"function"==typeof Symbol&&Symbol.iterator,Object.defineProperty,Object.getPrototypeOf,Object.assign,console.time&&console.time.bind(console),console.timeEnd&&console.timeEnd.bind(console),Object.assign,Object.getPrototypeOf,Object.getOwnPropertyDescriptor;var hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi=(console,{profile:console.profile?ii(console.profile,console):function(){},profileEnd:console.profileEnd?ii(console.profileEnd,console):function(){},warn:ai});function vi(t,e,n,r){var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(r,3),i=o[0],a=void 0===i?null:i,s=o[1],c=void 0!==s&&s,u=o[2],l=void 0===u?yi:u;if(!gi.__enabled)return gi.__warned||(l.warn("console.profile is not supported. All @profile decorators are disabled."),gi.__warned=!0),n;var f=n.value;if(null===a&&(a=t.constructor.name+"."+e),"function"!=typeof f)throw new SyntaxError("@profile can only be used on functions, not: "+f);return hi({},n,{value:function(){var t=Date.now(),e=ri(this);(!0===c&&!e.profileLastRan||!1===c||"number"==typeof c&&t-e.profileLastRan>c||"function"==typeof c&&c.apply(this,arguments))&&(l.profile(a),e.profileLastRan=t);try{return f.apply(this,arguments)}finally{l.profileEnd(a)}}})}function gi(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return ti(vi,e)}gi.__enabled=!!console.profile,gi.__warned=!1,Object.defineProperty,Object.getOwnPropertyDescriptor;var bi=new function(){this.rollout={coppaFlag:function(){return{gam:L.get("options.coppaGam"),prebid:L.get("options.coppaPrebid")}}}},mi=new(function(){function t(){}return t.prototype.updateOnCreate=function(t){Ia.setDataParam(t,"gptPageParams",Fn.dump()),Ia.setDataParam(t,"gptSlotParams",t.getTargeting())},t.prototype.updateOnRenderEnd=function(t){!function(t){var e="top_leaderboard"==t.getSlotName(),n=void 0!==window.smTracking&&"function"==typeof window.smTracking.recordRenderedAd;e&&n&&window.smTracking.recordRenderedAd(t),delete window.smTracking}(t),Ia.setDataParam(t,"gptAdvertiserId",t.advertiserId),Ia.setDataParam(t,"gptOrderId",t.orderId),Ia.setDataParam(t,"gptCreativeId",t.creativeId),Ia.setDataParam(t,"gptLineItemId",t.lineItemId),Ia.setDataParam(t,"gptCreativeSize",t.creativeSize)},t}()),wi=function(){return wi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},wi.apply(this,arguments)},Si=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},_i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ei=function(t){return void 0===t&&(t=0),new Promise((function(e,n){"number"==typeof t?setTimeout(e,t):n(new Error("Delay value must be a number."))}))};function Oi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Promise((function(n,r){"function"==typeof t?setTimeout((function(){return n(t.apply(void 0,_i([],Si(e),!1)))}),0):r(new Error("Expected a function."))}))}function Ti(t,e,n){void 0===n&&(n={});var r="object"==typeof t&&"function"==typeof t.addEventListener,o="boolean"==typeof n?{capture:n}:wi({},n);return new Promise((function(n,i){r?t.addEventListener(e,n,wi(wi({},o),{once:!0})):i(new Error("Emitter does not have `addEventListener` nor `once` method."))}))}function Ai(t){return new Promise((function(e,n){setTimeout(n,t)}))}function Pi(t,e){return void 0===e&&(e=2e3),Promise.race([new Promise(t),Ai(e)])}function Ci(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}var Ii="gpt-size-map",ki=function(){function t(t){void 0===t&&(t=[]),this.sizeMap=t,Vn(Ii,this.sizeMap,"creating new size map")}return t.prototype.addSize=function(t,e){Vn(Ii,t,e,"adding new size mapping"),this.sizeMap.push({viewportSize:t,sizes:e})},t.prototype.build=function(){Vn(Ii,this.sizeMap,"creating GPT size mapping builder");var t=window.googletag&&window.googletag.sizeMapping();return t?(this.sizeMap.forEach((function(e){var n=e.viewportSize,r=e.sizes;t.addSize(n,r)})),t.build()):(Vn(Ii,"cannot create GPT size mapping builder"),null)},t.prototype.isEmpty=function(){return!this.sizeMap.length},t.prototype.mapAllSizes=function(e){return new t(this.sizeMap.map((function(t,n){var r=t.viewportSize,o=t.sizes,i=e(o,r,n);return Vn(Ii,r,o,i,"mapping viewport sizes"),{viewportSize:r,sizes:i}})))},t.prototype.toString=function(){Vn(Ii,this.sizeMap,"casting to string");var t={};return this.sizeMap.forEach((function(e){var n=e.viewportSize,r=e.sizes;t[n.join("x")]=r})),JSON.stringify(t)},t}(),xi=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Ri=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ni=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Di=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Li="gpt-provider",ji="AdX",Vi=["https://tpc.googlesyndication.com","https://googleads.g.doubleclick.net"],Ui=[0,0];function Mi(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];setTimeout((function(){return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){return t.apply(e,n)}))}))}}var zi=[],Bi=!1;function Fi(t){var e=t.slot.getSlotElementId();return Oa.get(e)}var Gi=function(){function t(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],this.init()}var e,n;return t.prototype.isInitialized=function(){return Bi},t.prototype.init=function(){var t,e=this;this.isInitialized()||(function(){var t=window.googletag.pubads();function e(e,n){null==n?t.clearTargeting(e):"function"==typeof n?t.setTargeting(e,n()):t.setTargeting(e,n)}!function(){var t=Fn.dump()||{};Object.keys(t).forEach((function(n){e(n,t[n])}))}(),Fn.onChange((function(t,n){null===t?Object.keys(n).forEach((function(t){e(t,n[t])})):e(t,n)}))}(),(t=window.googletag.pubads()).disableInitialLoad(),t.addEventListener("slotRequested",(function(t){var e=Fi(t);e.setStatus(Ra.STATUS_REQUESTED),e.emit(Ra.SLOT_REQUESTED_EVENT)})),t.addEventListener("slotOnload",(function(t){Fi(t).emit(Ra.SLOT_LOADED_EVENT)})),t.addEventListener("slotRenderEnded",(function(t){Oi((function(){var e=Fi(t),n=function(t,e){var n=!1;if(t.isEmpty)return Ra.STATUS_COLLAPSE;try{n=!!e.contentWindow.document.querySelector}catch(t){Vn(Li,"getAdType","iframe is not accessible")}return n&&e.contentWindow.AdEngine_adType?e.contentWindow.AdEngine_adType:Ra.STATUS_SUCCESS}(t,e.getIframe());return function(t){var e=L.get("templates.sizeOverwritingMap"),n=t.getIframe();if(e&&n){var r="".concat(n.width,"x").concat(n.height);e[r]&&(n.width=e[r].originalSize[0].toString(),n.height=e[r].originalSize[1].toString())}}(e),e.emit(Ra.SLOT_RENDERED_EVENT,{event:t,adType:n},!1)}))})),t.addEventListener("impressionViewable",(function(t){Fi(t).emit(Ra.SLOT_VIEWED_EVENT)})),t.addEventListener("slotVisibilityChanged",(function(t){var e=Fi(t);return null==e?void 0:e.emit(Ra.SLOT_VISIBILITY_CHANGED,t)})),t.addEventListener("slotVisibilityChanged",(function(t){var e=Fi(t);if(t.inViewPercentage>50)return null==e?void 0:e.emit(Ra.SLOT_BACK_TO_VIEWPORT,t)})),t.addEventListener("slotVisibilityChanged",(function(t){var e=Fi(t);if(t.inViewPercentage<50)return null==e?void 0:e.emit(Ra.SLOT_LEFT_VIEWPORT,t)})),window.googletag.enableServices(),this.setupRestrictDataProcessing(),this.setPPID(),qe.on(Ue.PLATFORM_BEFORE_PAGE_CHANGE,(function(){return e.updateCorrelator()}),!1),qe.onSlotEvent(Ra.DESTROYED_EVENT,(function(t){var n=t.slot;e.destroySlot(n.getSlotName())})),Bi=!0)},t.prototype.setupRestrictDataProcessing=function(){var t=window.googletag.pubads(),e={restrictDataProcessing:wr()};bi.rollout.coppaFlag().gam&&Pr.isWikiDirectedAtChildren()&&(e.childDirectedTreatment=!0),t.setPrivacySettings(e)},t.prototype.setPPID=function(){var t=Fn.get("ppid");t&&window.googletag.pubads().setPublisherProvidedId(t)},t.prototype.fillIn=function(t){var e=this,n=ma()||[];ja.push(t,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.fillInCallback.apply(e,Di([],Ni(t),!1))})),0===n.length&&this.flush()},t.prototype.fillInCallback=function(t){var e=t.getSlotName(),n=t.getTargeting(),r=new ki(t.getSizes()),o=this.createGptSlot(t,r);o.addService(window.googletag.pubads()).setCollapseEmptyDiv(!0),this.applyTargetingParams(o,n),mi.updateOnCreate(t),t.updateWinningPbBidderDetails(),window.googletag.display(e),zi.push(o),t.isFirstCall()||this.flush(),Vn(Li,e,"slot added")},t.prototype.createGptSlot=function(t,e){return t.isOutOfPage()?t.getConfigProperty("outOfPageFormat")?window.googletag.defineOutOfPageSlot(t.getAdUnit(),window.googletag.enums.OutOfPageFormat[t.getConfigProperty("outOfPageFormat")]):window.googletag.defineOutOfPageSlot(t.getAdUnit(),t.getSlotName()):window.googletag.defineSlot(t.getAdUnit(),t.getDefaultSizes(),t.getSlotName()).defineSizeMapping(e.build())},t.prototype.applyTargetingParams=function(t,e){!function(t){var e=t.pos.constructor==Array&&"top_leaderboard"==t.pos[0]||"top_leaderboard"==t.pos,n=void 0!==window.smTracking&&window.smTracking.recordRequestTargeting;e&&n&&window.smTracking.recordRequestTargeting(t)}(e),Object.keys(e).forEach((function(n){var r=e[n];r=Array.isArray(r)?r.map((function(t){return t.toString()})):r.toString(),t.setTargeting(n,r)}))},t.prototype.updateCorrelator=function(){window.googletag.pubads().updateCorrelator()},t.prototype.flush=function(){zi.length&&(window.googletag.pubads().refresh(zi,{changeCorrelator:!1}),zi=[])},t.prototype.destroySlot=function(t){var e=window.googletag.pubads().getSlots().find((function(e){return t===e.getSlotElementId()}));return e?(this.destroyGptSlot(e),!0):(Vn(Li,"destroySlot","slot doesn't return element id",t),!1)},t.prototype.destroyGptSlot=function(t){Vn(Li,"destroySlot",t),window.googletag.destroySlots([t])||Vn(Li,"destroySlot",t,"failed")},t.refreshSlot=function(t){var e=window.googletag.pubads().getSlots().find((function(e){return e.getSlotElementId()===t.getSlotName()}));e.clearTargeting();var n=window.googletag.sizeMapping().addSize(Ui,t.getCreativeSizeAsArray()).build();e.defineSizeMapping(n),window.googletag.pubads().refresh([e])},xi([di(Mi),Ri("design:type",Function),Ri("design:paramtypes",[]),Ri("design:returntype",void 0)],t.prototype,"init",null),xi([di(Mi),Ri("design:type",Function),Ri("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object]),Ri("design:returntype",void 0)],t.prototype,"fillIn",null),xi([di(Mi),Ri("design:type",Function),Ri("design:paramtypes",[]),Ri("design:returntype",void 0)],t.prototype,"updateCorrelator",null),xi([di(Mi),Ri("design:type",Function),Ri("design:paramtypes",["function"==typeof(n="undefined"!=typeof googletag&&googletag.Slot)?n:Object]),Ri("design:returntype",void 0)],t.prototype,"destroyGptSlot",null),t}();function Hi(t,e,n){var r=vt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Qt((function(t,e){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var o=!0;t.subscribe(Jt(e,(function(t){var n;null===(n=r.next)||void 0===n||n.call(r,t),e.next(t)}),(function(){var t;o=!1,null===(t=r.complete)||void 0===t||t.call(r),e.complete()}),(function(t){var n;o=!1,null===(n=r.error)||void 0===n||n.call(r,t),e.error(t)}),(function(){var t,e;o&&(null===(t=r.unsubscribe)||void 0===t||t.call(r)),null===(e=r.finalize)||void 0===e||e.call(r)})))})):qt}var qi=function(){return qi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},qi.apply(this,arguments)},Wi=function(){function t(){this.templates={}}return t.prototype.setInitializer=function(t){this.initializer=t},t.prototype.register=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t.getName)throw new Error("Template does not implement getName method.");var n=t.getName(),r=L.get("templates.".concat(n))||{};"function"==typeof t.getDefaultConfig&&(r=qi(qi({},t.getDefaultConfig()),r)),e&&(r=qi(qi({},r),e)),L.set("templates.".concat(n),r),this.templates[n]=t},t.prototype.init=function(t,e,n){var r;if(void 0===e&&(e=null),void 0===n&&(n={}),null===(r=this.initializer)||void 0===r?void 0:r.has(t))return this.initializer.init(t,e,n);if(Vn("template-service","Load template",t,e,n),!this.templates[t])throw new Error("Template ".concat(t," does not exist."));return n&&("string"==typeof n.slotName||n.slotName instanceof String)&&(n.slotName=n.slotName.split(",").shift()),new this.templates[t](e).init(n)},t.prototype.subscribeCommunicator=function(){var t=this;qe.action$.pipe(Fe(qe.getGlobalAction(Ue.GAM_LOAD_TEMPLATE)),Hi((function(e){var n=e.payload,r=Oa.get(n.slotName);t.init(n.type,r,n)}))).subscribe()},t}(),Ki=new Wi,Yi="ae-translatable-label",$i={en:{advertisement:"Advertisement","learn-more":"Learn More"},ar:{advertisement:"إعلان"},bn:{advertisement:"বিজ্ঞাপন"},br:{advertisement:"Bomm bruderezh"},ca:{advertisement:"Anunci"},cs:{advertisement:"Reklama"},de:{advertisement:"Anzeige","learn-more":"Erfahre mehr"},es:{advertisement:"Anuncio","learn-more":"Conoce más"},eu:{advertisement:"Iragarkia"},fa:{advertisement:"تبلیغات"},fo:{advertisement:"Lýsing"},fr:{advertisement:"Publicité","learn-more":"En savoir plus"},fy:{advertisement:"Advertinsje"},gl:{advertisement:"Anuncio"},gv:{advertisement:"Soilsheen"},he:{advertisement:"פרסומת"},hu:{advertisement:"Hirdetés"},id:{advertisement:"Iklan","learn-more":"Baca Selengkapnya"},inh:{advertisement:"дебат"},it:{advertisement:"Pubblicità","learn-more":"Ulteriori informazioni"},ja:{advertisement:"広告","learn-more":"もっと見る"},ko:{advertisement:"광고"},krc:{advertisement:"Pеклама"},lb:{advertisement:"Reklamm"},mk:{advertisement:"Pеклама"},mr:{advertisement:"जाहिरात"},ms:{advertisement:"Iklan"},nl:{advertisement:"Advertentie","learn-more":"Meer te weten komen"},no:{advertisement:"Reklame"},pl:{advertisement:"Reklama","learn-more":"Czytaj więcej"},ps:{advertisement:"خبرتيا"},pt:{advertisement:"Anúncio","learn-more":"Saiba Mais"},"roa-tara":{advertisement:"Pubblecetà"},ru:{advertisement:"Pеклама","learn-more":"Узнать больше"},si:{advertisement:"ප්‍රචාරක දැන්වීම"},sl:{advertisement:"Oglas"},"sr-ec":{advertisement:"Pеклама"},sv:{advertisement:"Annons"},te:{advertisement:"వాణిజ్య ప్రకటన"},th:{advertisement:"การโฆษณา"},tr:{advertisement:"Reklam"},"tt-cyrl":{advertisement:"Pеклама"},uk:{advertisement:"Pеклама"},vi:{advertisement:"Quảng cáo"},"zh-hans":{advertisement:"广告","learn-more":"了解更多"},"zh-hant":{advertisement:"廣告","learn-more":"閱讀更多"}};function Qi(t){var e=L.get("wiki.targeting.wikiLanguage");return $i[e&&void 0!==$i[e]?e:"en"][t]||$i.en[t]}function Ji(){document.querySelectorAll(".ae-translatable-label").forEach((function(t){var e=Qi(t.dataset.key);e&&(t.innerText=e)}))}var Xi=function(){return Xi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Xi.apply(this,arguments)},Zi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ta=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ea="slot-creator",na=function(){function t(){}return t.prototype.createSlot=function(t,e){var n;if(!t)return null;Vn(ea,"Creating: ".concat(t.slotName),t,e);var r=this.fillSlotConfig(t),o=this.makeSlot(r,t.anchorElement);if("alter"===t.insertMethod)return o;var i=this.wrapSlot(o,e);return this.getAnchorElement(r)[r.insertMethod](i),(null===(n=r.placeholderConfig)||void 0===n?void 0:n.createLabel)&&this.addAdLabel(o.parentElement,r.slotName),r.repeat&&L.set("slots.".concat(r.slotName,".repeat"),r.repeat),o},t.prototype.fillSlotConfig=function(t){var e;return Xi(Xi({},t),{anchorElement:t.anchorElement||null,anchorPosition:null!==(e=t.anchorPosition)&&void 0!==e?e:"firstViable",avoidConflictWith:t.avoidConflictWith||[],classList:t.classList||[],repeat:t.repeat,placeholderConfig:t.placeholderConfig})},t.prototype.getAnchorElement=function(t){var e=this.getAnchorElements(t),n=this.getConflictElements(t),r=e.find((function(t){return!xo(t,n)}));return r||this.throwNoPlaceToInsertError(t.slotName),Vn(ea,"getAnchorElement() called",t,r),r},t.prototype.getAnchorElements=function(t){var e=Array.from(document.querySelectorAll(t.anchorSelector));switch(t.anchorPosition){case"belowFirstViewport":return e.filter((function(t){return Ao(t)>Co()}));case"belowScrollPosition":return e.filter((function(t){return Ao(t)>window.scrollY}));case"firstViable":return e;default:var n=e[t.anchorPosition];return n||this.throwNoPlaceToInsertError(t.slotName),[n]}},t.prototype.getConflictElements=function(t){var e=[];return t.avoidConflictWith.forEach((function(t){var n=Array.from(document.querySelectorAll(t));e.push.apply(e,ta([],Zi(n),!1))})),e},t.prototype.makeSlot=function(t,e){var n;void 0===e&&(e=null);var r=e||document.createElement("div");return r.id=t.slotName,(n=r.classList).add.apply(n,ta(["gpt-ad"],Zi(t.classList),!1)),r},t.prototype.wrapSlot=function(t,e){var n;if(!e)return t;var r=document.createElement("div");return e.classList&&(n=r.classList).add.apply(n,ta([],Zi(e.classList),!1)),e.id&&(r.id=e.id),r.append(t),r},t.prototype.addAdLabel=function(t,e){var n=document.createElement("div");n.className=Yi,n.innerText=Qi("advertisement"),n.dataset.slotName=e,t.appendChild(n)},t.prototype.throwNoPlaceToInsertError=function(t){throw new Error("No place to insert slot ".concat(t,"."))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),ra="slot-injector",oa=function(){function t(){var t=this;this.slotCreator=new na,qe.on(Ue.AD_ENGINE_SLOT_ADDED,(function(e){e.slot.getSlotsToPushAfterCreated().forEach((function(e){var n=t.inject(e,!0);n?Oa.pushSlot(n):Vn(ra,"Could not push slot ".concat(e,"."))}))}),!1),qe.on(Ue.AD_ENGINE_STACK_START,(function(){qe.onSlotEvent(Ra.SLOT_RENDERED_EVENT,(function(e){e.slot.getSlotsToInjectAfterRendered().forEach((function(e){t.inject(e)}))}))}))}return t.prototype.inject=function(t,e){var n,r=L.get("slots.".concat(t)),o={slotName:t,anchorSelector:r.parentContainerSelector||r.insertBeforeSelector,insertMethod:r.parentContainerSelector?r.insertIntoParentContainerMethod||"append":"before",placeholderConfig:r.placeholder};r.insertBelowFirstViewport&&(o.anchorPosition="belowFirstViewport"),r.repeat&&r.repeat.insertBelowScrollPosition&&(o.anchorPosition="belowScrollPosition"),r.avoidConflictWith&&(o.avoidConflictWith=[r.avoidConflictWith]);try{n=this.slotCreator.createSlot(o)}catch(e){return Vn(ra,"There is not enough space for ".concat(t)),null}return!1===this.getDisablePushOnScroll(e,r)&&L.push("events.pushOnScroll.ids",t),Vn(ra,"Inject slot",t),n},t.prototype.getDisablePushOnScroll=function(t,e){return"boolean"==typeof t?t:!!e.repeat&&!!e.repeat.disablePushOnScroll},t}(),ia=new oa;function aa(t,e){return Kr.build(t,{slotConfig:e})}var sa=new(function(){function t(){}return t.prototype.init=function(){qe.onSlotEvent(Ra.SLOT_RENDERED_EVENT,(function(t){var e=t.slot;return!(!e.isEnabled()||!e.isRepeatable())&&function(t){var e=t.getCopy(),n=e.repeat;n.index+=1;var r=aa(n.slotNamePattern,e);if(e.slotName=r,null!==n.limit&&n.index>n.limit)return Vn("slot-repeater","Limit reached for ".concat(r)),!1;L.set("slots.".concat(r),e),n.updateProperties&&Object.keys(n.updateProperties).forEach((function(t){var o="string"==typeof n.updateProperties[t]?aa(n.updateProperties[t],e):n.updateProperties[t];t.startsWith("targeting.")?Fn.set(t.replace("targeting.",""),o,r):L.set("slots.".concat(r,".").concat(t),o)})),L.set("slots.".concat(r,".uid"),vo());var o=ia.inject(r),i=n.additionalClasses||"";return null!==o&&(o.className="".concat(t.getElement().className," ").concat(i),!0)}(e)}))},t}()),ca=function(){return ca=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ca.apply(this,arguments)},ua=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},la=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},fa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},pa=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},da="slot-refresher",ha={timeoutMS:3e4,slots:[]};function ya(){return ua(this,void 0,Promise,(function(){return la(this,(function(t){return[2,new Promise((function(t){qe.on(Ue.AD_ENGINE_UAP_LOAD_STATUS,(function(e){var n=e.isLoaded||"ruap"===e.adProduct;t(n)}))}))]}))}))}var va=new(function(){function t(){this.slotsInTheViewport=[]}return t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Vn.apply(void 0,pa([da],fa(t),!1))},t.prototype.refreshSlot=function(t){var e=this;this.config.slots.includes(t.getSlotName())&&setTimeout((function(){if(t.isEnabled()){if(e.log("".concat(t.getSlotName()," will be refreshed.")),e.slotsInTheViewport.includes(t.getSlotName()))return e.log("refreshing ".concat(t.getSlotName())),void Gi.refreshSlot(t);e.log("".concat(t.getSlotName()," waiting for being in viewport.")),function(t){window.googletag.pubads().addEventListener("slotVisibilityChanged",(function e(n){n.slot.getSlotElementId()===t.getSlotName()&&(Vn(da,"".concat(t.getSlotName()," back in the viewport, refreshing."),n),Gi.refreshSlot(t),window.googletag.pubads().removeEventListener("slotVisibilityChanged",e))}))}(t)}}),this.config.timeoutMS)},t.prototype.setupSlotRefresher=function(t,e,n){var r=this;this.config=ca(ca({},ha),t),this.config.slots.length<1||e?n("disabled"):(qe.onSlotEvent(Ra.SLOT_VIEWED_EVENT,(function(t){var e=t.adSlotName,o=t.slot;n("".concat(e," viewed")),r.refreshSlot(o)})),qe.onSlotEvent(Ra.SLOT_BACK_TO_VIEWPORT,(function(t){var e=t.adSlotName;r.slotsInTheViewport.push(e)})),qe.onSlotEvent(Ra.SLOT_LEFT_VIEWPORT,(function(t){var e=t.adSlotName;r.slotsInTheViewport=r.slotsInTheViewport.filter((function(t){return t!==e}))})),n("enabled",this.config))},t.prototype.init=function(){return ua(this,void 0,void 0,(function(){var t,e;return la(this,(function(n){switch(n.label){case 0:return t=this.setupSlotRefresher,e=[L.get("services.slotRefresher.config")],[4,ya()];case 1:return t.apply(this,e.concat([n.sent(),this.log])),[2]}}))}))},t}()),ga=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ba=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function ma(){var t=L.get("state.adStack");return Vn.apply(void 0,ba(["ad-engine","getting adStack: "],ga(t),!1)),t}var wa=2e3,Sa=function(){function t(t){void 0===t&&(t=null),this.started=!1,L.extend(t),window.ads=window.ads||{},window.ads.runtime=window.ads.runtime||{},qe.on(Ue.PLATFORM_BEFORE_PAGE_CHANGE,(function(){Oa.removeAll()}),!1)}return t.prototype.init=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){var e;return this.setupProviders(),this.setupAdStack(),ja.init(),e=L.get("options.customAdLoader.globalMethodName"),window[e]=function(t){var e=t.slotName?Oa.get(t.slotName):null;Ki.init(t.type,e,t)},_o.init(),Ki.subscribeCommunicator(),Ia.registerMessageListener(),this.runAdQueue(),Ro.init(),sa.init(),va.init(),this.setupPushOnScrollQueue(),[2]}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.setupProviders=function(){var t=L.get("state.provider");this.defaultProvider=this.createProvider(t);var e=new jo(L);e.isEnabled()?e.load():e.replaceWithAffiliateUnit()},t.prototype.setupAdStack=function(){var t=this;this.adStack=ma(),this.adStack.start||or(this.adStack,(function(e){var n=new Ra(e);t.pushSlot(n)}))},t.prototype.pushSlot=function(t){var e=L.get("slots.".concat(t.getSlotName(),".providers"))||[];if(Oa.add(t),e.length>0){var n=e.shift();this.createProvider(n).fillIn(t)}else this.defaultProvider.fillIn(t)},t.prototype.createProvider=function(t){switch(t){case"prebidium":return new Uo;case"nativo":return new Mo(window.ntv);default:return new Gi}},t.prototype.setupPushOnScrollQueue=function(){if(L.get("events.pushOnScroll")){var t=L.get("events.pushOnScroll.ids")||[],e=new(ir.bind.apply(ir,ba([void 0],ga(t),!1)));e.onItemFlush((function(t){Ro.addSlot(t,{threshold:L.get("events.pushOnScroll.threshold")||0})})),L.set("events.pushOnScroll.ids",e),e.flush()}},t.prototype.runAdQueue=function(){var t=this;qe.on(Ue.AD_ENGINE_PARTNERS_READY,(function(){t.started||(qe.emit(Ue.AD_ENGINE_STACK_START),t.started=!0,t.adStack.start())}))},t}(),_a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ea="slot-service",Oa=new(function(){function t(){this.slotStatuses={},this.slotStates={},this.slots={}}return t.prototype.add=function(t){var e=t.getSlotName();this.slots[e]=t,!1===this.slotStates[e]&&t.disable(this.slotStatuses[e]),!0===this.slotStates[e]&&t.enable(),Ia.addDefaultClasses(t),qe.emit(Ue.AD_ENGINE_SLOT_ADDED,{name:e,slot:t,state:Ra.SLOT_ADDED_EVENT})},t.prototype.removeAll=function(){var t=this;Object.values(this.slots).forEach((function(e){return t.remove(e)}))},t.prototype.remove=function(t){var e=t.getSlotName();L.removeListeners("slots.".concat(e)),t.destroy(),delete this.slots[e],delete this.slotStates[e],delete this.slotStatuses[e]},t.prototype.get=function(t){if(t.includes("gpt_unit_")){var e=this.getGptAdSlot(t);return this.setGptAdSlotInsertId(e,t),e}var n=_a(t.split(","),1)[0];if(this.slots[n])return this.slots[n];var r=null;return this.forEach((function(t){if(null===r){var e=Fn.get("pos",t.getSlotName())||[];e!==n&&e[0]!==n||(r=t)}})),r},t.prototype.getSlotId=function(t){var e=L.get("slots.".concat(t,".uid"));return e||(e=vo(),L.set("slots.".concat(t,".uid"),e)),e},t.prototype.forEach=function(t){var e=this;Object.keys(this.slots).forEach((function(n){t(e.slots[n])}))},t.prototype.enable=function(t){this.setState(t,!0)},t.prototype.disable=function(t,e){void 0===e&&(e=null),this.setState(t,!1,e)},t.prototype.getState=function(t){return!1!==this.slotStates[t]},t.prototype.setState=function(t,e,n){void 0===n&&(n=null);var r=this.get(t);this.slotStates[t]=e,this.slotStatuses[t]=n,r?(r.setStatus(n),e?r.enable():r.disable()):e?L.set("slots.".concat(t,".disabled"),!1):L.set("slots.".concat(t,".disabled"),!0),Vn(Ea,"set state",t,e)},t.prototype.hasViewportConflict=function(t){if(!t.hasDefinedViewportConflicts()||null===t.getElement())return!1;var e=t.getElement().offsetHeight,n=Ao(t.getElement()),r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=t.getViewportConflicts().some((function(t){return function(t,e,n,r){var o=document.getElementById(r);if(null===o.offsetParent)return!1;var i=o.offsetHeight,a=Ao(o);return(a<e?e-a-i:a-e-t)<n}(e,n,r,t)}));return Vn(Ea,"hasViewportConflict",t.getSlotName(),o),o},Object.defineProperty(t.prototype,"slotConfigsMap",{get:function(){return L.get("slots")||{}},enumerable:!1,configurable:!0}),t.prototype.getAtfSlotNames=function(){return Object.entries(this.slotConfigsMap).filter((function(t){return!!_a(t,2)[1].aboveTheFold})).map((function(t){return _a(t,1)[0]}))},t.prototype.getFirstCallSlotNames=function(){return Object.entries(this.slotConfigsMap).filter((function(t){return!!_a(t,2)[1].firstCall})).map((function(t){return _a(t,1)[0]}))},t.prototype.getNonFirstCallSlotNames=function(){return Object.entries(this.slotConfigsMap).filter((function(t){return!_a(t,2)[1].firstCall})).map((function(t){return _a(t,1)[0]}))},t.prototype.getEnabledSlotNames=function(){return Object.entries(this.slotConfigsMap).filter((function(t){return!_a(t,2)[1].disabled})).map((function(t){return _a(t,1)[0]}))},t.prototype.pushSlot=function(t){var e=ma();e?(Vn(Ea,"Push slot ".concat(t.id," to adStack.")),e.push({id:t.id})):Vn(Ea,"Could not push slot ".concat(t.id," because adStack is not present."))},t.prototype.getGptAdSlot=function(t){var e=L.get("custom.serverPrefix"),n=new RegExp("/".concat(e,".[A-Z]+/(?<slotName>[a-z_]+)/")),r=t.match(n);try{return this.slots[r.groups.slotName]}catch(t){throw new Error("Unsupported GPT Template slot id format")}},t.prototype.setGptAdSlotInsertId=function(t,e){t.setConfigProperty("insertId",e)},t}()),Ta=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Aa=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Pa="slot-tweaker",Ca=function(){function t(){}return t.prototype.forceRepaint=function(t){return t.offsetWidth},t.prototype.addDefaultClasses=function(t){var e=t.getElement(),n=t.getConfigProperty("defaultClasses")||[];e&&n.length&&n.forEach((function(t){return e.classList.add(t)}))},t.prototype.collapse=function(t){var e=t.getElement();e.style.maxHeight="".concat(e.scrollHeight,"px"),this.forceRepaint(e),e.classList.add("slot-animation"),e.style.maxHeight="0"},t.prototype.expand=function(t){var e=t.getElement();e.style.maxHeight="".concat(e.offsetHeight,"px"),e.classList.remove("hide"),e.classList.add("slot-animation"),e.style.maxHeight="".concat(e.scrollHeight,"px")},t.prototype.makeResponsive=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!0),Ta(this,void 0,Promise,(function(){var r;return Aa(this,(function(o){switch(o.label){case 0:return t.addClass("slot-responsive"),Vn(Pa,"make responsive",t.getSlotName()),[4,this.onReady(t)];case 1:return r=o.sent(),this.setPaddingBottom(r,e,n),[2,r]}}))}))},t.prototype.setPaddingBottom=function(t,e,n){var r;void 0===n&&(n=!0);var o=e;if(go(t)){if(!e){var i=t.contentWindow.document.body.scrollHeight;o=t.contentWindow.document.body.scrollWidth/i}r=t.parentElement}else r=t;n&&(r.style.paddingBottom="".concat(100/o,"%"))},t.prototype.onReady=function(t){function e(){var e=t.getIframe();if(!e)throw new Error("Cannot find iframe element");return e}return t.getConfigProperty("customFiller")?new Promise((function(e){var n;e((n=t.getConfigProperty("customFiller"),wo.get(n).getContainer()))})):t.getConfigProperty("useGptOnloadEvent")?t.loaded.then(e):new Promise((function(n){var r=e(),o=null;try{o=r.contentWindow.document}catch(e){Vn(Pa,t.getSlotName(),"loaded through SafeFrame")}o&&"complete"===o.readyState?n(r):r.addEventListener("load",(function(){return n(r)}))}))},t.prototype.adjustIframeByContentSize=function(t){return Ta(this,void 0,Promise,(function(){var e,n,r;return Aa(this,(function(o){switch(o.label){case 0:return[4,this.onReady(t)];case 1:return go(e=o.sent())&&(n=e.contentWindow.document.body.scrollHeight,r=e.contentWindow.document.body.scrollWidth,e.width=r.toString(),e.height=n.toString(),Vn(Pa,"adjust size",t.getSlotName(),r,n)),[2,e]}}))}))},t.prototype.registerMessageListener=function(){var t=this;_o.register({keys:["action","slotName"],infinite:!0},(function(e){if(e.slotName){var n=Oa.get(e.slotName);switch(e.action){case"expand":t.expand(n);break;case"collapse":t.collapse(n);break;case"hide":n.hide();break;case"show":n.show();break;case"make-responsive":t.makeResponsive(n,e.aspectRatio);break;default:Vn(Pa,"Unknown action",e.action)}}else Vn(Pa,"Missing slot name")}))},t.prototype.setDataParam=function(t,e,n){var r=t.getElement();r&&(r.dataset[e]="string"==typeof n?n:JSON.stringify(n))},t.SLOT_CLOSE_IMMEDIATELY="force-close",t}(),Ia=new Ca,ka=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},xa=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ra=function(){function t(e){var n=this;this.customIframe=null,this.element=null,this.status=null,this.isEmpty=!0,this.advertiserId=null,this.orderId=null,this.creativeId=null,this.creativeSize=null,this.lineItemId=null,this.winningBidderDetails=null,this.trackStatusAfterRendered=!1,this.slotViewed=!1,this.requested=null,this.loaded=null,this.rendered=null,this.viewed=null,this.logger=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Vn.apply(void 0,xa([t.LOG_GROUP],ka(e),!1))},this.config=L.get("slots.".concat(e.id))||{},this.enabled=!this.config.disabled,this.config.uid||L.set("slots.".concat(e.id,".uid"),vo()),this.config.slotName=this.config.slotName||e.id,this.config.slotNameSuffix=this.config.slotNameSuffix||"",this.setUpSlotTargeting(),delete this.config.targeting,this.requested=new Promise((function(e){qe.onSlotEvent(t.SLOT_REQUESTED_EVENT,(function(){n.pushTime=(new Date).getTime(),e()}),n.getSlotName())})),this.loaded=new Promise((function(e){qe.onSlotEvent(t.SLOT_LOADED_EVENT,(function(){Ia.setDataParam(n,"slotLoaded",!0),e()}),n.getSlotName())})),this.rendered=new Promise((function(e){qe.onSlotEvent(t.SLOT_RENDERED_EVENT,(function(t){var r=t.payload,o=r.event,i=r.adType;n.setupSizesTracking(i),n.updateOnRenderEnd(o,i),e()}),n.getSlotName())})),this.viewed=new Promise((function(e){qe.onSlotEvent(t.SLOT_VIEWED_EVENT,(function(){Ia.setDataParam(n,"slotViewed",!0),e()}),n.getSlotName())})).then((function(){n.slotViewed=!0})),this.addClass(t.AD_CLASS),this.enabled||this.hide()}return t.prototype.setUpSlotTargeting=function(){var t=this.config.targeting||{};t.src=t.src||L.get("src"),t.pos=t.pos||this.getSlotName(),t.rv=t.rv||"1",Fn.extend(t,this.getSlotName())},t.prototype.getAdUnit=function(){return this.adUnit||(this.adUnit=Kr.build(this.config.adUnit||L.get("adUnitId"),{slotConfig:this.config})),this.adUnit},t.prototype.getVideoAdUnit=function(){return Kr.build(this.config.videoAdUnit||L.get("vast.adUnitId"),{slotConfig:this.config})},t.prototype.getElement=function(){return this.element||(this.element=document.getElementById(this.getSlotName())),this.element},t.prototype.getPlaceholder=function(){var e,n=null===(e=this.getElement())||void 0===e?void 0:e.parentElement;return(null==n?void 0:n.classList.contains(t.AD_SLOT_PLACEHOLDER_CLASS))?n:null},t.prototype.getAdLabel=function(t){var e;if(t){var n=document.querySelector(t);return null==n?void 0:n.querySelector(".".concat(Yi))}return null===(e=this.getPlaceholder())||void 0===e?void 0:e.querySelector(".".concat(Yi))},t.prototype.getAdContainer=function(){var t=this.getElement();return t?t.querySelector('div[id*="_container_"]'):null},t.prototype.getIframe=function(){var t=this.getElement();return t?this.customIframe?this.customIframe:t.querySelector('div[id*="_container_"] iframe'):null},t.prototype.overrideIframe=function(t){this.customIframe=t},t.prototype.getFrameType=function(){var t=this.getIframe();return t?"true"===t.dataset.isSafeframe?"safe":"regular":null},t.prototype.getCreativeSize=function(){return Array.isArray(this.creativeSize)?this.creativeSize.join("x"):this.creativeSize},t.prototype.getCreativeSizeAsArray=function(){if(!this.creativeSize)return null;var t=Array.isArray(this.creativeSize)?this.creativeSize:this.creativeSize.split("x").map(Number);return[t[0],t[1]]},t.prototype.getMainPositionName=function(){var t=Fn.dump(this.getSlotName()).pos,e=void 0===t?"":t;return(Array.isArray(e)?e:e.split(","))[0].toLowerCase()},t.prototype.getUid=function(){return this.config.uid},t.prototype.getSlotName=function(){return this.config.slotName},t.prototype.getSizes=function(){return this.config.sizes},Object.defineProperty(t.prototype,"targeting",{get:function(){return Fn.dump(this.getSlotName())},enumerable:!1,configurable:!0}),t.prototype.getTargeting=function(){return this.parseTargetingParams(Fn.dump(this.getSlotName()))},t.prototype.parseTargetingParams=function(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];"function"==typeof r&&(r=r()),null!==r&&(e[n]=r)})),e},t.prototype.getDefaultSizes=function(){return this.config.defaultSizes},t.prototype.getVideoSizes=function(){return this.config.videoSizes},t.prototype.getViewportConflicts=function(){return this.config.viewportConflicts||[]},t.prototype.hasDefinedViewportConflicts=function(){return this.getViewportConflicts().length>0},t.prototype.getStatus=function(){return this.status},t.prototype.getPushTime=function(){return this.pushTime},t.prototype.setStatus=function(e){void 0===e&&(e=null),this.status=e,null!==e&&(this.emit(e),Ia.setDataParam(this,"slotResult",this.getStatus()),this.emit(t.SLOT_STATUS_CHANGED))},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isFirstCall=function(){return!!this.config.firstCall},t.prototype.isViewed=function(){return this.slotViewed},t.prototype.isRepeatable=function(){return!!this.config.repeat},t.prototype.isOutOfPage=function(){return!!this.config.outOfPage},t.prototype.isVideo=function(){return!!this.config.isVideo},t.prototype.getCopy=function(){return JSON.parse(JSON.stringify(this.config))},t.prototype.getTopOffset=function(){var t=this.getElement();return t?Ao(t):null},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(t){void 0===t&&(t=null),this.enabled=!1,this.setStatus(t),this.hide()},t.prototype.destroy=function(){this.disable(),this.emit(t.DESTROYED_EVENT)},t.prototype.getConfigProperty=function(t){return L.get("slots.".concat(this.config.slotName,".").concat(t))},t.prototype.getTargetingProperty=function(t){return Fn.get(t,this.getSlotName())},t.prototype.setConfigProperty=function(t,e){L.set("slots.".concat(this.config.slotName,".").concat(t),e)},t.prototype.setTargetingConfigProperty=function(t,e){Fn.set(t,e,this.config.slotName)},t.prototype.success=function(e){var n=this;void 0===e&&(e=t.STATUS_SUCCESS),this.getConfigProperty("showManually")||this.show(),this.setStatus(e);var r=this.getConfigProperty("skipTemplates")?[]:this.getConfigProperty("defaultTemplates")||[];r&&r.length&&r.forEach((function(t){return Ki.init(t,n)})),this.emit(t.TEMPLATES_LOADED,r),qe.emit(Ue.AD_ENGINE_SLOT_LOADED,{name:this.getSlotName(),state:t.STATUS_SUCCESS}),this.setupDelayedCollapse()},t.prototype.setupDelayedCollapse=function(){var t=this;qe.on(Ue.GAM_AD_DELAYED_COLLAPSE,(function(e){e.source.includes(t.getSlotName())&&t.collapse()}),!1)},t.prototype.collapse=function(e){void 0===e&&(e=t.STATUS_COLLAPSE),qe.emit(Ue.AD_ENGINE_SLOT_LOADED,{name:this.getSlotName(),state:t.STATUS_COLLAPSE}),this.hide(),this.setStatus(e)},t.prototype.updateWinningPbBidderDetails=function(){this.getTargetingProperty("hb_bidder")&&this.getTargetingProperty("hb_pb")?this.winningBidderDetails={name:this.getTargetingProperty("hb_bidder"),price:this.getTargetingProperty("hb_pb")}:this.winningBidderDetails=null},t.prototype.updateWinningA9BidderDetails=function(){this.getTargetingProperty("amznbid")?this.winningBidderDetails={name:"a9",price:this.getTargetingProperty("amznbid")}:this.winningBidderDetails=null},t.prototype.updateOnRenderEnd=function(e,n){if(e){var r=e.creativeId,o=e.lineItemId;if(this.isEmpty=e.isEmpty,!e.isEmpty&&e.slot){var i=e.slot.getResponseInformation();i&&(this.orderId=i.campaignId,this.advertiserId=i.advertiserId,e.sourceAgnosticCreativeId&&e.sourceAgnosticLineItemId?(this.logger("set line item and creative id to source agnostic values"),r=e.sourceAgnosticCreativeId,o=e.sourceAgnosticLineItemId):null===i.creativeId&&null===i.lineItemId&&(r=ji,o=ji))}switch(this.creativeId=r,this.lineItemId=o,this.creativeSize=this.isOutOfPage()?"out-of-page":e.size,mi.updateOnRenderEnd(this),n){case t.STATUS_COLLAPSE:case t.STATUS_FORCED_COLLAPSE:this.collapse(n);break;case t.STATUS_MANUAL:this.setStatus(n);break;case t.STATUS_SKIP_TEMPLATE:this.setConfigProperty("skipTemplates",!0),this.success();break;default:this.success()}}},t.prototype.addClass=function(t){var e=this.getElement();return!!e&&(e.classList.add(t),!0)},t.prototype.removeClass=function(t){var e=this.getElement();return!!e&&(e.classList.remove(t),!0)},t.prototype.hide=function(){this.addClass(t.HIDDEN_CLASS)&&this.emit(t.HIDDEN_EVENT)},t.prototype.show=function(){this.removeClass(t.HIDDEN_CLASS)&&this.emit(t.SHOWED_EVENT)},t.prototype.emit=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=!0),qe.emit(Ue.AD_ENGINE_SLOT_EVENT,{event:t.toString(),slot:this,adSlotName:this.getSlotName(),payload:n?JSON.parse(JSON.stringify(e)):e}),this.logger(this.getSlotName(),t,e)},t.prototype.emitEvent=function(e){void 0===e&&(e=null),null!==e&&this.emit(t.CUSTOM_EVENT,{status:e})},t.prototype.getSlotsToPushAfterCreated=function(){return L.get("events.pushAfterCreated.".concat(this.getSlotName()))||[]},t.prototype.getSlotsToInjectAfterRendered=function(){return L.get("events.pushAfterRendered.".concat(this.getSlotName()))||[]},t.prototype.setupSizesTracking=function(t){var e=this,n=this.getIframe();if(n&&t.includes("success")&&window.ResizeObserver){var r=new ResizeObserver((function(t){var n,o;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),a=i.next();!a.done;a=i.next()){var s=a.value,c=Math.floor(s.target.clientWidth),u=Math.floor(s.target.clientHeight);c>0&&u>0&&(1!=c||1!=u)&&(qe.emit(Ue.AD_ENGINE_AD_RESIZED,{slot:e,sizes:{width:c,height:u}}),r.unobserve(s.target))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}));r.observe(n)}},t.CUSTOM_EVENT="customEvent",t.SLOT_ADDED_EVENT="slotAdded",t.SLOT_REQUESTED_EVENT="slotRequested",t.SLOT_LOADED_EVENT="slotLoaded",t.SLOT_VIEWED_EVENT="slotViewed",t.SLOT_RENDERED_EVENT="slotRendered",t.SLOT_VISIBILITY_CHANGED="slotVisibilityChanged",t.SLOT_BACK_TO_VIEWPORT="slotBackToViewport",t.SLOT_LEFT_VIEWPORT="slotLeftViewport",t.SLOT_STATUS_CHANGED="slotStatusChanged",t.DESTROYED_EVENT="slotDestroyed",t.HIDDEN_EVENT="slotHidden",t.SHOWED_EVENT="slotShowed",t.VIDEO_VIEWED_EVENT="videoViewed",t.VIDEO_AD_REQUESTED="videoAdRequested",t.VIDEO_AD_ERROR="videoAdError",t.VIDEO_AD_IMPRESSION="videoAdImpression",t.VIDEO_AD_USED="videoAdUsed",t.LOG_GROUP="AdSlot",t.STATUS_BLOCKED="blocked",t.STATUS_COLLAPSE="collapse",t.STATUS_DISABLED="disabled",t.STATUS_FORCED_COLLAPSE="forced_collapse",t.STATUS_FORCED_SUCCESS="forced_success",t.STATUS_SKIP_TEMPLATE="skip_template",t.STATUS_MANUAL="manual",t.STATUS_REQUESTED="requested",t.STATUS_ERROR="error",t.STATUS_SUCCESS="success",t.STATUS_CLICKED="clicked",t.STATUS_VIEWPORT_CONFLICT="viewport-conflict",t.STATUS_HIVI_COLLAPSE="hivi-collapse",t.STATUS_HEAVY_AD_INTERVENTION="heavy-ad-intervention",t.STATUS_UNKNOWN_INTERVENTION="unknown-intervention",t.AD_CLASS="gpt-ad",t.AD_SLOT_PLACEHOLDER_CLASS="ad-slot-placeholder",t.HIDDEN_CLASS="hide",t.TEMPLATES_LOADED="Templates Loaded",t}(),Na=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Da=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},La="btf-blocker",ja=new(function(){function t(){this.firstCallEnded=!1,this.unblockedSlotNames=[],this.resetState()}return t.prototype.resetState=function(){var t=this;this.firstCallEnded=!1,this.unblockedSlotNames=[],this.slotsQueue=new ir,this.slotsQueue.onItemFlush((function(e){var n=e.adSlot,r=e.fillInCallback;Vn(La,n.getSlotName(),"Filling delayed second call slot"),t.disableAdSlotIfHasConflict(n),t.fillInSlotIfEnabled(n,r)})),window.ads&&window.ads.runtime&&(window.ads.runtime.disableBtf=!1,window.ads.runtime.disableSecondCall=!1)},t.prototype.init=function(){var t=this;qe.onSlotEvent(Ra.SLOT_RENDERED_EVENT,(function(e){var n=e.slot;Vn(La,n.getSlotName(),"Slot rendered"),!t.firstCallEnded&&n.isFirstCall()&&t.finishFirstCall()})),0===Oa.getFirstCallSlotNames().filter((function(t){return Oa.getEnabledSlotNames().includes(t)})).length&&this.finishFirstCall()},t.prototype.finishFirstCall=function(){var t=this;this.firstCallEnded=!0,Vn(La,"first call queue finished"),window.ads.runtime.disableSecondCall?this.disableSecondCall([]):window.ads.runtime.disableBtf&&this.disableSecondCall(Da(Da([],Na(this.unblockedSlotNames),!1),Na(Oa.getAtfSlotNames()),!1)),qe.on(Ue.AD_ENGINE_UAP_LOAD_STATUS,(function(){t.slotsQueue.flush()}))},t.prototype.disableSecondCall=function(t){var e=L.get("slots")||{};Vn(La,"second call queue disabled"),Object.keys(e).forEach((function(n){e[n].firstCall||-1!==t.indexOf(n)||Oa.disable(n,Ra.STATUS_BLOCKED)}))},t.prototype.push=function(t,e){if(!this.firstCallEnded&&!t.isFirstCall())return this.slotsQueue.push({adSlot:t,fillInCallback:e}),void Vn(La,t.getSlotName(),"second call slot pushed to queue");this.disableAdSlotIfHasConflict(t),this.fillInSlotIfEnabled(t,e)},t.prototype.disableAdSlotIfHasConflict=function(t){Oa.hasViewportConflict(t)&&Oa.disable(t.getSlotName(),Ra.STATUS_VIEWPORT_CONFLICT)},t.prototype.fillInSlotIfEnabled=function(t,e){if(t.isEnabled()){if(t.getConfigProperty("customFiller")){var n=t.getConfigProperty("customFiller");return wo.apply(t,n),void Vn(La,t.getSlotName(),"Custom filler",n)}Vn(La,t.getSlotName(),"Filling in slot"),e(t)}else Vn(La,t.getSlotName(),"Slot blocked",t.getStatus())},t.prototype.unblock=function(t){Vn(La,t,"Unblocking slot"),this.unblockedSlotNames.push(t),Oa.enable(t)},t}()),Va=function(){return Va=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Va.apply(this,arguments)},Ua=Qr,Ma=Jr;function za(){return Ua}function Ba(t,e){Ha(Ua=t||Qr,e||Qr)}function Fa(){return Ma}function Ga(t){Ma=t}function Ha(t,e){var n=L.get("slots")||{};Object.keys(n).forEach((function(n){Fn.set("uap",t,n),Fn.set("uap_c",e,n)}))}var qa=Va(Va({},t),{init:function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=[]),po.addVariable("disableBtf",!0);var r="uap";this.isVideoEnabled(t)&&(r="vuap"),t.adProduct=t.adProduct||r,Ba(t.lineItemId||t.uap,t.creativeId),function(t){t.forEach((function(t){Oa.disable(t)}))}(n),function(t){t.forEach((function(t){ja.unblock(t)}))}(e),Ga(t.adProduct),t.slotName&&function(t){var e=Oa.get(t.slotName);t.container=e.getElement(),t.isDarkTheme&&t.container.classList.add("is-dark"),t.isMobile&&t.container.classList.add("is-mobile-layout"),(gn.isSmartphone()||gn.isTablet())&&t.container.classList.add("is-mobile-device"),t.useVideoSpecialAdUnit&&e.setConfigProperty("videoAdUnit",Zr)}(t)},isFanTakeoverLoaded:function(){return za()!==Qr&&-1!==Xr.indexOf(Fa())},getType:Fa,getUapId:za,isVideoEnabled:function(t){return t.thumbnail},reset:function(){Ga(Jr),Ba(Qr,Qr)},updateSlotsTargeting:Ha});qe.action$.pipe(Fe(qe.getGlobalAction(Ue.AD_ENGINE_SLOT_EVENT)),Le((function(t){return!!L.get("slots.".concat(t.adSlotName,".firstCall"))&&[Ra.TEMPLATES_LOADED,Ra.STATUS_COLLAPSE,Ra.STATUS_FORCED_COLLAPSE].map((function(e){return t.event===e})).some((function(t){return!!t}))})),je(1)).subscribe((function(){qe.emit(Ue.AD_ENGINE_UAP_LOAD_STATUS,{isLoaded:qa.isFanTakeoverLoaded(),adProduct:qa.getType()})}));var Wa=new Date;function Ka(){return"".concat("adEngine_resolvedStateCounter","_").concat(qa.getUapId())}var Ya=function(){yo.setItem(Ka(),{adId:qa.getUapId(),lastSeenDate:Wa.getTime()},86400)},$a=function(){var t=yo.getItem(Ka());return!!t&&Wa.getTime()!==t.lastSeenDate},Qa=!1;function Ja(){return _.get("resolved_state")}var Xa=function(t){var e=!1;if(function(t){return!(!t.image1||!t.image1.resolvedStateSrc)||"vuap"===t.adProduct}(t)){var n=!([!1,"blocked","false","0"].indexOf(Ja())>-1),r=!0;n&&(r=$a()||[!0,"true","1"].indexOf(Ja())>-1||Qa),e=n&&r}return e},Za=function(){Ya()},ts=function(){Qa=!0},es=new(function(){function t(){}return t.prototype.addSlotSize=function(t,e){if(!L.get("slots.".concat(t)))throw new Error("Requested ad slot is not defined in the ad context (".concat(t,")"));L.push("slots.".concat(t,".defaultSizes"),e);var n=L.get("slots.".concat(t,".sizes"));n&&n.forEach((function(t){t.sizes.push(e)}))},t.prototype.removeSlotSize=function(t,e){if(!L.get("slots.".concat(t)))throw new Error("Requested ad slot is not defined in the ad context");var n=L.get("slots.".concat(t,".defaultSizes")).filter((function(t){return t!=e})),r=L.get("slots.".concat(t,".sizes")).map((function(t){return t.sizes.filter((function(t){return t!=e}))}));L.set("slots.".concat(t,".defaultSizes"),n),L.set("slots.".concat(t,".sizes"),r)},t.prototype.setSlotSize=function(t,e){if(!L.get("slots.".concat(t)))throw new Error("Requested ad slot is not defined in the ad context");L.set("slots.".concat(t,".sizes"),[]),L.set("slots.".concat(t,".defaultSizes"),[e])},t.prototype.setupSlotVideoContext=function(){var t=this;qe.on(Ue.AD_ENGINE_SLOT_ADDED,(function(e){var n=e.slot;L.onChange("slots.".concat(n.getSlotName(),".audio"),(function(){return t.setupSlotParameters(n)})),L.onChange("slots.".concat(n.getSlotName(),".videoDepth"),(function(){return t.setupSlotParameters(n)}))}),!1)},t.prototype.setupSlotVideoAdUnit=function(t,e){var n,r,o,i,a=(n=t.getSlotName(),r=e.type,o=e.adProduct,i=n,Xr.includes(o)?i="UAP_".concat(r.toUpperCase()):"incontent_veles"===o&&(i="OUTSTREAM"),{adGroup:lo(i),adProduct:i.toLowerCase()}),s={group:a.adGroup,adProduct:a.adProduct},c=fo(t.getSlotName(),s);L.set("slots.".concat(t.getSlotName(),".videoAdUnit"),c)},t.prototype.setState=function(t,e,n){var r=document.getElementById(t);Oa.setState(t,!!r&&e,n)},t.prototype.setupSlotParameters=function(t){var e=!0===t.config.audio?"-audio":"",n=!0===t.config.autoplay||t.config.videoDepth>1?"":"-ctp";t.setConfigProperty("slotNameSuffix",n||e||""),t.setTargetingConfigProperty("audio",e?"yes":"no"),t.setTargetingConfigProperty("ctp",n?"yes":"no")},t}()),ns=function(){function t(t,e,n,r){this.userStateStore=t,this.targetingManager=e,this.onIntermediateStepLoad=n,this.pageWithFeaturedVideo=r}return t.prototype.handleOngoingSequence=function(){var t,e,n=this,r=this.userStateStore.get();if(null!=r){var o=function(t){if(i.isUapSequenceOnFeaturedVideo(r[t]))return"continue";r[t].stepNo++;var e=r[t];i.targetingManager.setTargeting(t,e),i.onIntermediateStepLoad((function(e){e===r[t].stepNo?n.userStateStore.set(r):console.log("[SM] Invalid step loaded by the Provider!")}))},i=this;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(r)),s=a.next();!s.done;s=a.next())o(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}},t.prototype.isUapSequenceOnFeaturedVideo=function(t){return t.isUap()&&this.pageWithFeaturedVideo},t}(),rs=function(){function t(t){this.userStateStore=t}return t.prototype.endSequence=function(){this.userStateStore.delete()},t}(),os=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.stepNo=t,this.width=e,this.height=n,this.uap=r}return t.prototype.isUap=function(){return this.uap},t}(),is=function(){function t(t){this.stateStore=t}return t.prototype.startSequence=function(t,e,n,r){var o={};o[t]=new os(1,e,n,r),this.stateStore.set(o)},t}(),as=function(){function t(t,e,n,r,o){this.context=t,this.slotsContext=e,this.targetingService=n,this.baseTargetingSize=r,this.forceUapResolveState=o}return t.prototype.setTargeting=function(t,e){var n=this.baseTargetingSize+e.stepNo;this.slotsContext.setSlotSize("top_leaderboard",[n,n]),this.context.set("templates.sizeOverwritingMap",this.generateSizeMapping(e.width,e.height)),this.targetingService.set("sequential",t,"top_leaderboard"),e.isUap()&&this.forceUapResolveState()},t.prototype.generateSizeMapping=function(t,e){return{"12x12":{originalSize:[t,e]},"13x13":{originalSize:[t,e]},"14x14":{originalSize:[t,e]}}},t}(),ss=function(){function t(){}return t.SEQUENTIAL_MESSAGING_STARTED={category:"[iframe]",name:"Sequential messaging started",payload:{_as:"props",_p:void 0}},t.SEQUENTIAL_MESSAGING_INTERMEDIATE={category:"[iframe]",name:"Sequential messaging intermediate step",payload:{_as:"props",_p:void 0}},t.SEQUENTIAL_MESSAGING_END={category:"[iframe]",name:"Sequential messaging end",payload:{_as:"props",_p:void 0}},t}(),cs=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},us=function(){function t(t){this.cookies=t,this.cookieDaysToLive=7}return t.prototype.set=function(e){var n,r,o={};try{for(var i=cs(Object.keys(e)),a=i.next();!a.done;a=i.next()){var s=a.value;o[s]={stepNo:e[s].stepNo,width:e[s].width,height:e[s].height,uap:e[s].uap}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.cookies.set(t.cookieName,JSON.stringify(o),{domain:t.cookieDomain,expires:this.cookieDaysToLive})},t.prototype.get=function(){var e,n,r=this.cookies.get(t.cookieName);if(null!=r){var o=JSON.parse(r),i={};try{for(var a=cs(Object.keys(o)),s=a.next();!s.done;s=a.next()){var c=s.value;i[c]=new os(o[c].stepNo,o[c].width,o[c].height,o[c].uap)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i}},t.prototype.delete=function(){this.cookies.remove(t.cookieName,{domain:t.cookieDomain})},t.cookieName="sequential_messaging",t.cookieDomain="fandom.com",t}(),ls=T.get(),fs=function(){function t(){this.logEntry={},this.logEntry.smLogId=lr("beaconId")||window.beaconId||window.beacon_id||ls.wikia_beacon_id}return t.prototype.recordRequestTargeting=function(t){this.logEntry.smTarSequential=void 0!==t.sequential?t.sequential:""},t.prototype.recordGAMCreativePayload=function(t){this.logEntry.smGamHeight=void 0!==t.height?t.height:"",this.logEntry.smGamLineItemId=void 0!==t.lineItemId?t.lineItemId:"",this.logEntry.smGamWidth=void 0!==t.width?t.width:""},t.prototype.recordRenderedAd=function(t){this.logEntry.smRenCreativeId=t.creativeId,this.logEntry.smRenLineItemId=t.lineItemId,this.logEntry.smRenSlotName=t.getSlotName(),void 0!==this.logEntry.smTarSequential&&(this.logEntry.smOK=this.logEntry.smTarSequential==this.logEntry.smRenLineItemId.toString()),Gn.log("sequential messaging",this.logEntry),delete window.smTracking},t}();function ps(t){null==window.smTracking&&(L.get("services.externalLogger.endpoint")||L.set("services.externalLogger.endpoint","https://community.fandom.com/wikia.php?controller=AdEngine&method=postLog"),window.smTracking=new fs),window.smTracking.recordGAMCreativePayload(t)}var ds=function(){function t(){this.userStateStore=new us(T)}return t.prototype.execute=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return null==this.userStateStore.get()?(this.handleSequenceStart(),[2]):(this.handleOngoingSequence(),this.handleSequenceEnd(),[2])}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.handleSequenceStart=function(){var t=this;qe.on(ss.SEQUENTIAL_MESSAGING_STARTED,(function(e){var n=e.lineItemId,r=e.width,o=e.height,i=void 0!==e.uap&&e.uap;null!=n&&null!=r&&null!=o&&(i&&ts(),new is(t.userStateStore).startSequence(n,r,o,i),ps(e))}))},t.prototype.handleOngoingSequence=function(){var e=new as(L,es,Fn,t.baseTargetingSize,ts);new ns(this.userStateStore,e,this.onIntermediateStepLoad,L.get("custom.hasFeaturedVideo")).handleOngoingSequence()},t.prototype.handleSequenceEnd=function(){var t=this;qe.on(ss.SEQUENTIAL_MESSAGING_END,(function(e){new rs(t.userStateStore).endSequence(),ps(e)}))},t.prototype.onIntermediateStepLoad=function(e){qe.on(ss.SEQUENTIAL_MESSAGING_INTERMEDIATE,(function(n){if(!n.height||12>n.height||n.height>14)return Vn("SM","Invalid Creative configuration. Creative size ot ouf bounds."),!1;var r=n.height-t.baseTargetingSize;e(r),ps(n)}))},t.baseTargetingSize=10,t}(),hs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ys=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},vs=function(){function t(t){this.instantConfig=t,this.prebidBidders={appnexus:"icPrebidAppNexus",appnexusAst:"icPrebidAppNexusAst",appnexusNative:"icPrebidAppNexusNative",criteo:"icPrebidCriteo",freewheel:"icPrebidFreewheel",gumgum:"icPrebidGumGum",indexExchange:"icPrebidIndexExchange",kargo:"icPrebidKargo",medianet:"icPrebidMedianet",nobid:"icPrebidNobid",ogury:"icPrebidOgury",oneVideo:"icPrebidOneVideo",pubmatic:"icPrebidPubmatic",rubicon_display:"icPrebidRubiconDisplay",roundel:"icPrebidRoundel",rubicon:"icPrebidRubicon",triplelift:"icPrebidTriplelift",verizon:"icPrebidVerizon",yahoossp:"icPrebidYahooSsp"},this.selectedBidder=_.get("select_bidder")||""}var e;return t.prototype.execute=function(){this.setupBidders()},t.prototype.setupBidders=function(){var t,e,n=L.get("custom.hasFeaturedVideo");if(this.instantConfig.get("icA9Bidder")&&(L.set("bidders.a9.enabled",!0),L.set("bidders.coppaA9",this.instantConfig.get("icCoppaA9")),L.set("bidders.a9.videoEnabled",this.instantConfig.get("icA9VideoBidder")&&n)),this.instantConfig.get("icPrebid")){L.set("bidders.prebid.enabled",!0);try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(this.prebidBidders)),o=r.next();!o.done;o=r.next()){var i=ys(o.value,2),a=i[0],s=i[1];this.enableIfApplicable(a,s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}var c=this.instantConfig.get("icPrebidTestBidder");c&&(L.set("bidders.prebid.testBidder",{name:c.name,slots:c.slots}),this.enableIfApplicable("testBidder","icPrebidTestBidder"))}L.set("bidders.enabled",L.get("bidders.prebid.enabled")||L.get("bidders.a9.enabled"))},t.prototype.enableIfApplicable=function(t,e){this.selectedBidder&&t!==this.selectedBidder?L.set("bidders.prebid.".concat(t,".enabled"),!1):L.set("bidders.prebid.".concat(t,".enabled"),!!this.instantConfig.get(e))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),hs("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object])],t)}(),gs=q("[JWPlayer] Player Ready",{_as:"props",_p:void 0}),bs=q("[Ad Engine] Setup JWPlayer",{_as:"props",_p:void 0}),ms=function(){function t(){this.steps=[]}return t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.steps=t,this},t.prototype.execute=function(t){return void 0===t&&(t=[]),this.steps.forEach((function(e){if("function"==typeof e){var n=e({});n.execute(),t.push(n.initialized)}else e.execute(),t.push(e.initialized)})),Promise.all(t)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({scope:"Transient"})],t)}(),ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ss=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoaded=!1,e.atsScriptSrc="https://ats.rlcdn.com/ats.js",e}return ws(e,t),e.prototype.call=function(){var t=this;if(!this.isEnabled("bidders.liveRampATS.enabled"))return Vn("ATS","disabled"),Promise.resolve();if(Vn("ATS","enabled"),!this.isLoaded){var e=L.get("wiki.opts.userEmailHashes"),n=zn.loadScript(this.atsScriptSrc);return e?n.then((function(){window.ats.start({placementID:"2161",emailHashes:e,storageType:"localStorage",detectionType:"scrape",logging:"error"}),t.isLoaded=!0})):Promise.resolve()}},e}(Yn),_s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Es="2721",Os="156260",Ts="IdentityHub",As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoaded=!1,e.identityHubScriptSrc="https://ads.pubmatic.com/AdServer/js/pwt/".concat(Os,"/").concat(Es,"/pwt.js"),e}return _s(e,t),e.prototype.call=function(){var t=this;if(this.isEnabled("bidders.identityHub.enabled"))return Vn(Ts,"enabled"),this.isLoaded?void 0:(window.PWT={jsLoaded:function(){return Vn(Ts,"jsLoaded done"),Promise.resolve()}},zn.loadScript(this.identityHubScriptSrc).then((function(){Vn(Ts,"script loaded"),t.isLoaded=!0})));Vn(Ts,"disabled")},e}(Yn),Ps=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cs="liveConnect",Is=Cs,ks=[{id:"unifiedId",name:"".concat(Cs,"-unifiedId")},{id:"sha2",name:Cs,params:{qf:"0.3",resolve:"sha2"}},{id:"md5",name:"".concat(Cs,"-md5"),params:{qf:"0.3",resolve:"md5"}},{id:"sha1",name:"".concat(Cs,"-sha1"),params:{qf:"0.3",resolve:"sha1"}}],xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ps(e,t),e.prototype.call=function(){var t=this;this.isEnabled(["services.liveConnect.enabled","services.liveConnect.cachingStrategy"])?(this.setupStorage(),this.shouldLoadScript()?(Vn(Is,"loading"),qe.emit(Ue.LIVE_CONNECT_STARTED),zn.loadScript("https://b-code.liadm.com/a-07ev.min.js","text/javascript",!0,"first").then((function(){Vn(Is,"loaded"),t.track()}))):(qe.emit(Ue.LIVE_CONNECT_CACHED),Vn(Is,"already loaded and available in ".concat(this.storageConfig.type,"Storage")))):Vn(Is,"disabled")},e.prototype.resolveId=function(t,e){var n=this;return function(r){var o=r[t];Vn(Is,"id ".concat(t,": ").concat(o)),"unifiedId"===t&&qe.emit(Ue.LIVE_CONNECT_RESPONDED_UUID),o&&(n.storage.setItem(e,o,n.storageConfig.ttl),qe.emit(Ue.IDENTITY_PARTNER_DATA_OBTAINED,{partnerName:e,partnerIdentityId:o}))}},e.prototype.resolveAndReportId=function(t,e,n){window.liQ.resolve(this.resolveId(t,e),(function(t){Un(Is,t)}),n)},e.prototype.track=function(){var t=this;window.liQ?ks.forEach((function(e){var n=e.id,r=e.name,o=e.params;t.isAvailableInStorage(r)||t.resolveAndReportId(n,r,o)})):Un(Is,"window.liQ not available for tracking")},e.prototype.setupStorage=function(){this.storageConfig=L.get("services.liveConnect.cachingStrategy"),"local"===this.storageConfig.type?this.storage=yo:this.storage=new wn(window.sessionStorage)},e.prototype.shouldLoadScript=function(){var t,e,n;if(!this.storageConfig)return!0;var r=!1,o=function(t){var e=null===(n=ks.find((function(e){return e.id===t})))||void 0===n?void 0:n.name;if(!i.isAvailableInStorage(e))return r=!0,"break"},i=this;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.storageConfig.mandatoryParams),s=a.next();!s.done&&"break"!==o(s.value);s=a.next());}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return r},e.prototype.isAvailableInStorage=function(t){return!!this.storage.getItem(t)},e}(Yn),Rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ns=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PIXEL_ID=712315,e.logGroup="LiveRamp pixel",e.PIXEL_URL="https://idsync.rlcdn.com/".concat(e.PIXEL_ID,".gif?partner_uid="),e}return Rs(e,t),e.prototype.insertLiveRampPixel=function(t){var e=document.createElement("img");e.src=this.PIXEL_URL+t,document.body.appendChild(e)},e.prototype.call=function(){return t=this,e=void 0,r=function(){var t=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return this.isEnabled("icLiveRampPixel")?(qe.on(Ue.IDENTITY_PARTNER_DATA_OBTAINED,(function(e){"Google"===e.payload.partnerName&&t.insertLiveRampPixel(e.payload.partnerIdentityId)})),[2]):(Vn(this.logGroup,"pixel disabled"),[2])}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},e}(Yn),Ds=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ls=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},js=function(){function t(){this.reasons=[]}return t.prototype.isAdsMode=function(){return!this.reasons.length},t.prototype.getReasons=function(){return Ls([],Ds(this.reasons),!1)},t.prototype.addReason=function(t){this.reasons.unshift(t)},t.prototype.addReasons=function(t){var e;t&&(e=this.reasons).push.apply(e,Ls([],Ds(t),!1))},t.prototype.reset=function(){this.reasons=[]},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Vs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Us=function(){function t(t,e,n,r,o,i,a){this.pipeline=t,this.noAdsDetector=e,this.ats=n,this.audigent=r,this.identityHub=o,this.liveConnect=i,this.liveRampPixel=a}var e,n,r,o,i,a,s;return t.prototype.execute=function(){this.removeAdSlotsPlaceholders(),this.noAdsDetector.addReasons(window.ads.context.opts.noAdsReasons),this.dispatchJWPlayerSetupAction(),this.pipeline.add(this.liveRampPixel,this.ats,this.audigent,this.liveConnect,this.identityHub).execute().then((function(){qe.emit(Ue.AD_ENGINE_PARTNERS_READY)}))},t.prototype.removeAdSlotsPlaceholders=function(){document.querySelectorAll(".top-ads-container, .ad-slot-placeholder, .bottom-ads-container").forEach((function(t){t.remove()}))},t.prototype.dispatchJWPlayerSetupAction=function(){qe.dispatch(bs({showAds:!1,autoplayDisabled:!1}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Vs("design:paramtypes",["function"==typeof(e=void 0!==ms&&ms)?e:Object,"function"==typeof(n=void 0!==js&&js)?n:Object,"function"==typeof(r=void 0!==Ss&&Ss)?r:Object,"function"==typeof(o=void 0!==Xn&&Xn)?o:Object,"function"==typeof(i=void 0!==As&&As)?i:Object,"function"==typeof(a=void 0!==xs&&xs)?a:Object,"function"==typeof(s=void 0!==Ns&&Ns)?s:Object])],t)}(),Ms=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function zs(t){var e=qa.UAP_ADDITIONAL_SIZES.bfaSize,n=e.desktop,r=e.mobile;es.removeSlotSize("top_leaderboard",t?r:n)}var Bs=function(){function t(t,e){this.instantConfig=t,this.cookieAdapter=e}var e,n;return t.prototype.execute=function(){var t=this.instantConfig.get("icNoAdsExperimentConfig",[]),e=this.cookieAdapter.getItem("wikia_beacon_id");this.disableUnit(function(t,e){void 0===e&&(e="");var n=t.find((function(t){return e.match(t.beaconRegex)}));return null==n?void 0:n.unitName}(t,e))},t.prototype.disableUnit=function(t){var e=L.get("state.isMobile");if(t)switch(L.set("state.noAdsExperiment.unitName",t),t){case"uap":return void zs(e);case"interstitial_celtra":return void this.cookieAdapter.setItem("_ae_intrsttl_imp","1");case"interstitial_google":return void L.set("slots.interstitial.disabled",!0);case"top_leaderboard":return qe.on(Ue.AD_ENGINE_STACK_START,(function(){ja.finishFirstCall(),qe.emit(Ue.AD_ENGINE_UAP_LOAD_STATUS,{isLoaded:qa.isFanTakeoverLoaded(),adProduct:qa.getType()})})),L.set("slots.top_leaderboard.disabled",!0),void document.querySelectorAll(".top-ads-container").forEach((function(t){return t.remove()}));case"top_boxad":case"bottom_leaderboard":return zs(e),void L.set("slots.".concat(t,".disabled"),!0);case"incontent_player":return L.set("slots.".concat(t,".disabled"),!0),void L.set("services.anyclip.enabled",!1);default:return void L.set("slots.".concat(t,".disabled"),!0)}},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Ms("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object,"function"==typeof(n=void 0!==A&&A)?n:Object])],t)}(),Fs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gs=function(){function t(t){this.instantConfig=t}var e;return t.prototype.execute=function(){var t=On.make();Fn.set("labrador",t.mapSamplingResults(this.instantConfig.get("icLABradorGamKeyValues")))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Fs("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object])],t)}(),Hs=function(){function t(){}return t.emit=function(t){L.get("options.tracking.kikimora.player")&&t.ad_product&&t.player&&t.event_name&&qe.emit(Ue.VIDEO_PLAYER_TRACKING,{eventInfo:t})},t.emitVideoEvent=function(t){qe.emit(Ue.VIDEO_EVENT,{videoEvent:t})},t}(),qs=function(){function t(){}return t.getEventData=function(t){var e=new Date,n=Oa.get(t.position);if(!n)throw new Error("Slot ".concat(t.position," is not registered."));return{ad_error_code:t.ad_error_code,ad_product:t.ad_product,audio:t.audio?1:0,browser:"".concat(gn.getOperatingSystem()," ").concat(gn.getBrowser()),content_type:t.content_type||"",country:kn.getCountryCode()||"",creative_id:t.creative_id||"",ctp:t.ctp?1:0,event_name:t.event_name,line_item_id:t.line_item_id||"",player:t.player,position:n.getSlotName().toLowerCase(),pv_number:L.get("wiki.pvNumber"),rv:n.getTargetingProperty("rv")||"",skin:Fn.get("skin")||"",timestamp:e.getTime(),tz_offset:e.getTimezoneOffset(),user_block_autoplay:t.user_block_autoplay,video_id:t.video_id||"",video_number:t.video_number||""}},t}(),Ws=new(function(){function t(){}return t.prototype.register=function(){var t={onEvent:function(t,e,n){var r=qs.getEventData(n);Hs.emit(r)}};L.push("listeners.porvata",t)},t}()),Ks=function(){function t(){this.disabled=!1,this.compilers=[]}return t.prototype.disable=function(){this.disabled=!0},t.prototype.addCompiler=function(t){this.compilers.push(t)},t.prototype.compileData=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n={});var r={bid:e,slot:t,data:n};return this.compilers.forEach((function(t){r=t(r)})),r},t}(),Ys=function(){return Ys=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ys.apply(this,arguments)},$s=function(t){var e=t.data,n=t.slot;return{slot:n,data:Ys(Ys({},e),{ad_status:e.ad_status||n.getStatus(),advertiser_id:n.advertiserId||"",creative_id:n.creativeId||"",kv_pos:n.getMainPositionName(),kv_rv:n.getTargetingProperty("rv")||"",order_id:n.orderId||"",product_lineitem_id:n.lineItemId||"",slot_id:n.getUid()||"",slot_size:n.getCreativeSize()||""})}},Qs=function(){return Qs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qs.apply(this,arguments)},Js=function(t){var e=t.data,n=t.slot,r=On.make(),o=new Date,i=o.getTime(),a=n.getTargetingProperty("uap")&&"none"!==n.getTargetingProperty("uap"),s=Fn.dump();return{slot:n,data:Qs(Qs({},e),{timestamp:i,browser:"".concat(gn.getOperatingSystem()," ").concat(gn.getBrowser()),country:(kn.getCountryCode()||"").toUpperCase(),device:gn.getDeviceType(),is_uap:a?1:0,kv_ah:window.document.body.scrollHeight,kv_lang:s.lang||"",kv_s0v:s.s0v||"",kv_s1:s.s1||"",kv_s2:s.s2||"",kv_skin:s.skin||"",labrador:r.getSamplingResults().join(";"),opt_in:L.get("options.geoRequiresConsent")?L.get("options.trackingOptIn")?"yes":"no":"",opt_out_sale:L.get("options.geoRequiresSignal")?L.get("options.optOutSale")?"yes":"no":"",page_width:window.document.body.scrollWidth&&window.document.body.scrollWidth.toString()||"",ppid:s.ppid,pv:L.get("wiki.pvNumber")||window.pvNumber||"",pv_unique_id:L.get("wiki.pvUID")||window.pvUID||"",scroll_y:window.scrollY||window.pageYOffset,tz_offset:o.getTimezoneOffset(),viewport_height:window.innerHeight||0})}},Xs=function(){return Xs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Xs.apply(this,arguments)},Zs=function(t){var e,n=t.data;return{slot:t.slot,data:Xs(Xs({},n),{word_count:Fn.get("word_count")||-1,short_page:null!==(e=L.get("custom.short_page"))&&void 0!==e&&e})}},tc=function(){return tc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},tc.apply(this,arguments)},ec=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},nc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function rc(t,e){return ec(this,void 0,Promise,(function(){function n(t){return r&&r[t]?r[t]:o&&o[t]?"".concat(o[t],"not_used"):""}var r,o;return nc(this,(function(i){switch(i.label){case 0:return r=e.getDfpSlotPrices(t),[4,e.getCurrentSlotPrices(t)];case 1:return o=i.sent(),[2,{bidder_0:n("wikia"),bidder_1:n("indexExchange"),bidder_2:n("appnexus"),bidder_4:n("rubicon"),bidder_8:n("wikiaVideo"),bidder_10:n("appnexusAst"),bidder_11:n("rubicon_display"),bidder_12:n("a9"),bidder_14:n("pubmatic"),bidder_17:n("kargo"),bidder_19:n("gumgum"),bidder_21:n("triplelift"),bidder_23:n("oneVideo"),bidder_25:n("nobid"),bidder_28:n("verizon"),bidder_30:n("medianet"),bidder_31:n("roundel"),bidder_32:n("ogury"),bidder_33:n("criteo"),bidder_34:n("yahoossp"),bidder_35:n("freewheel")}]}}))}))}var oc=function(t,e){var n=t.data,r=t.slot;return ec(void 0,void 0,Promise,(function(){var t,o;return nc(this,(function(i){switch(i.label){case 0:return e?(o={slot:r},t=[tc(tc({},n),{bidder_won:r.winningBidderDetails?r.winningBidderDetails.name:"",bidder_won_price:r.winningBidderDetails?r.winningBidderDetails.price:""})],[4,rc(r.getSlotName(),e)]):[2,{slot:r,data:n}];case 1:return[2,(o.data=tc.apply(void 0,t.concat([i.sent()])),o)]}}))}))},ic=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ac=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},sc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},cc=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRenderEndedStatusToTrack=[Ra.STATUS_COLLAPSE,Ra.STATUS_FORCED_COLLAPSE,Ra.STATUS_MANUAL,Ra.STATUS_SUCCESS],e.onChangeStatusToTrack=[Ra.STATUS_BLOCKED,Ra.STATUS_REQUESTED,Ra.STATUS_CLICKED,Ra.STATUS_ERROR,Ra.STATUS_VIEWPORT_CONFLICT,Ra.STATUS_HIVI_COLLAPSE,Ra.STATUS_HEAVY_AD_INTERVENTION,Ra.STATUS_UNKNOWN_INTERVENTION],e.compilers=[$s,Js,Zs],e}return ic(e,t),e.prototype.isEnabled=function(){return L.get("options.tracking.slot.status")},e.prototype.register=function(t,e){var n=this,r=e.bidders;this.isEnabled()&&(qe.onSlotEvent(Ra.SLOT_RENDERED_EVENT,(function(t){t.slot.trackStatusAfterRendered=!0})),qe.onSlotEvent(Ra.SLOT_STATUS_CHANGED,(function(e){var o=e.slot;return ac(n,void 0,void 0,(function(){var e,n,i;return sc(this,(function(a){switch(a.label){case 0:return e=o.getStatus(),o.trackStatusAfterRendered?(delete o.trackStatusAfterRendered,this.onRenderEndedStatusToTrack.includes(e)||o.getConfigProperty("trackEachStatus")?(n=t,[4,oc(this.compileData(o),r)]):[3,2]):[3,2];case 1:return n.apply(void 0,[a.sent()]),[2];case 2:return this.onChangeStatusToTrack.includes(e)||o.getConfigProperty("trackEachStatus")?(i=t,[4,oc(this.compileData(o),r)]):[3,4];case 3:i.apply(void 0,[a.sent()]),a.label=4;case 4:return[2]}}))}))})),qe.onSlotEvent(Ra.CUSTOM_EVENT,(function(e){var o=e.slot,i=e.payload;return ac(n,void 0,void 0,(function(){var e;return sc(this,(function(n){switch(n.label){case 0:return e=t,[4,oc(this.compileData(o,null,{ad_status:null==i?void 0:i.status}),r)];case 1:return e.apply(void 0,[n.sent()]),[2]}}))}))})))},e}(Ks)),uc=function(){return uc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},uc.apply(this,arguments)},lc=function(t){var e=t.data,n=t.slot,r=new Date;return{slot:n,data:uc(uc({},e),{timestamp:r.getTime(),tz_offset:r.getTimezoneOffset()})}},fc=function(){return fc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fc.apply(this,arguments)},pc=function(t){var e=t.data,n=t.slot;return{slot:n,data:fc(fc({},e),{creative_id:n.creativeId||"",line_item_id:n.lineItemId||"",rv:n.getTargetingProperty("rv")||"",slot_id:n.getUid()||""})}},dc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hc=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.compilers=[lc,pc],e}return dc(e,t),e.prototype.isEnabled=function(){return L.get("options.tracking.slot.viewability")},e.prototype.register=function(t){var e=this;this.isEnabled()&&qe.onSlotEvent(Ra.SLOT_VIEWED_EVENT,(function(n){var r=n.slot;t(e.compileData(r))}))},e}(Ks)),yc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vc=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.compilers=[Js],e}return yc(e,t),e.prototype.register=function(t){var e=this;qe.on(Ue.AD_ENGINE_MESSAGE_BOX_EVENT,(function(n){var r=n.adSlotName,o=n.ad_status;t(e.compileData(Oa.get(r),null,{ad_status:o}))}),!1)},e}(Ks)),gc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bc="ad-click-tracker",mc=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventsToRegister=[Ue.AD_ENGINE_VIDEO_LEARN_MORE_CLICKED,Ue.AD_ENGINE_VIDEO_OVERLAY_CLICKED,Ue.AD_ENGINE_VIDEO_TOGGLE_UI_OVERLAY_CLICKED],e.compilers=[Js],e}return gc(e,t),e.prototype.register=function(t){var e=this;qe.onSlotEvent(Ra.SLOT_RENDERED_EVENT,(function(n){var r=n.adSlotName;e.addClickTrackingListeners(t,r)})),this.eventsToRegister.map((function(n){return e.addToTracking(n,t)}))},e.prototype.addToTracking=function(t,e){var n=this;qe.on(t,(function(t){var r=t.adSlotName,o=t.ad_status;e(n.compileData(Oa.get(r),null,{ad_status:o}))}),!1)},e.prototype.addClickTrackingListeners=function(t,e){var n,r,o=this,i=Oa.get(e),a=i.getIframe(),s=i.getAdContainer();if(i&&a)if("safe"!==i.getFrameType()){var c=null===(r=null===(n=null==a?void 0:a.contentWindow)||void 0===n?void 0:n.document)||void 0===r?void 0:r.body;c&&s&&(s.firstElementChild.addEventListener("click",(function(){o.handleClickEvent(t,i)})),c.addEventListener("click",(function(e){o.handleClickEvent(t,i,e)})))}else Vn(bc,"Slot ".concat(e," is served in safeframe."));else Vn(bc,"Slot ".concat(e," has no iframe."))},e.prototype.handleClickEvent=function(t,e,n){var r={ad_status:Ra.STATUS_CLICKED};if(n){var o=n.target,i={click:{x:n.clientX,y:n.clientY},size:{x:o.offsetWidth,y:o.offsetHeight}};r.click_position=JSON.stringify(i)}t(this.compileData(e,null,r))},e}(Ks)),wc=function(){return wc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},wc.apply(this,arguments)},Sc=function(t){var e,n,r,o=t.bid,i=t.data,a=(new Date).getTime(),s=Oa.getSlotId(o.slotName),c=[];return o.buyerId&&c.push("buyer_id=".concat(o.buyerId)),{bid:o,data:wc(wc({},i),{timestamp:a,slot_id:s,name:o.bidderName,size:o.size,price:o.price,response_time:o.timeToRespond,status:(e=o.slotName,n=o.responseTimestamp,r=Oa.get(e),!r||!r.getPushTime()||r.getPushTime()>n?"on_time":"too_late"),additional_flags:c.join(";")})}},_c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ec=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.compilers=[Sc],e}return _c(e,t),e.prototype.isEnabled=function(){return L.get("options.tracking.slot.bidder")},e.prototype.register=function(t){var e=this;this.isEnabled()&&qe.on(Ue.BIDDERS_BIDS_RESPONSE,(function(n){var r=n.bidResponse;t(e.compileData(null,r))}),!1)},e}(Ks)),Oc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Tc=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ac=function(){function t(t){this.adapter=t,this.steps=[]}return t.prototype.add=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.steps).push.apply(t,Tc([],Oc(e),!1)),this},t.prototype.execute=function(t,e){var n=this.createFinalNext(e);return this.createExecutor(n)(t)},t.prototype.createFinalNext=function(t){var e=this;return t?function(n){return e.adapter.execute(t,n)}:function(t){return n=e,r=void 0,i=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return[2,t]}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{c(i.next(t))}catch(t){e(t)}}function s(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i}},t.prototype.createExecutor=function(t){var e=this;return this.steps.reduceRight((function(t,n){return function(r){return e.adapter.execute(n,r,t)}}),t)},t}(),Pc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cc=function(){function t(){}return t.prototype.execute=function(t,e,n){return r=this,o=void 0,a=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){return[2,t(e,n)]}))},new((i=Promise)||(i=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,s)}c((a=a.apply(r,o||[])).next())}));var r,o,i,a},t}(),Ic=function(t){function e(){return t.call(this,new Cc)||this}return Pc(e,t),e}(Ac),kc=function(){return kc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kc.apply(this,arguments)},xc={DataWarehouse:"DW",GoogleAnalytics:"GA"},Rc=function(t,e){if(Object.values(xc).includes(t.target)&&t.payload)return e({payload:t.payload,target:t.target})},Nc=function(){function t(t){this.requiredKeys=t,this.pipeline=new Ic,this.pipeline.add(Rc)}return t.prototype.register=function(t,e){var n=this;if(this.isEnabled())return _o.register({origin:e,keys:this.requiredKeys,infinite:!0},(function(e){n.pipeline.execute(kc({},e),t)})),this},t.prototype.isEnabled=function(){return!!L.get("options.tracking.postmessage")},t}(),Dc="intervention-tracker",Lc=new(function(){function t(){}return t.prototype.register=function(){var t=this;L.get("services.interventionTracker.enabled")?qe.action$.pipe(Fe(qe.getGlobalAction(Ue.GAM_AD_INTERVENTION)),Hi((function(e){return t.handleIntervention(e)}))).subscribe():Vn(Dc,"Intervention tracker is disabled")},t.prototype.handleIntervention=function(t){var e=Oa.get(t.slotName);Vn(Dc,t),e&&(e.setStatus(this.getInterventionStatus(t.id)),Gn.log("Ad intervention",{interventionId:t.id,interventionMessage:t.message,lineItemId:e.lineItemId,slotName:t.slotName}))},t.prototype.getInterventionStatus=function(t){return"HeavyAdIntervention"===t?Ra.STATUS_HEAVY_AD_INTERVENTION:Ra.STATUS_UNKNOWN_INTERVENTION},t}()),jc=new(function(){function t(){}return Object.defineProperty(t.prototype,"exists",{get:function(){return!!window.__uspapi},enumerable:!1,configurable:!0}),t.prototype.getSignalData=function(t){return new Promise((function(e){window.__uspapi("getUSPData",t,(function(t){return e(t)}))}))},t.prototype.override=function(t){window.__uspapi=t},t}()),Vc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Uc(t){var e,n=t;return 0!==Object.entries(L.get("slots.".concat(n))||{}).length||(n=(e=t,Object.entries(Oa.slotConfigsMap).filter((function(t){return Vc(t,2)[1].bidderAlias===e})).map((function(t){return Vc(t,1)[0]}))).shift())?n:""}var Mc=function(){function t(t,e,n){void 0===n&&(n=wa),this.name=t,this.bidderConfig=e,this.timeout=n,this.called=!1,this.response=!1,this.logGroup="".concat(t,"-bidder"),this.resetState(),Vn(this.logGroup,"created")}return t.prototype.resetState=function(){var t=this;this.called=!1,this.response=!1,this.onResponseCallbacks=new ir,this.onResponseCallbacks.onItemFlush((function(e){e(t.name)}))},t.prototype.call=function(){var t=this;this.response=!1,this.called=!0,this.callBids((function(){return t.onBidResponse()})),Vn(this.logGroup,"called")},t.prototype.onBidResponse=function(){this.response=!0,this.calculatePrices(),this.onResponseCallbacks.flush(),Vn(this.logGroup,"respond")},t.prototype.getSlotAlias=function(t){return L.get("slots.".concat(t,".bidderAlias"))||t},t.prototype.getSlotBestPrice=function(t){return this.getBestPrice(t)},t.prototype.getSlotTargetingParams=function(t){return this.called&&this.isSlotSupported(t)?this.getTargetingParams(t):Promise.resolve({})},t.prototype.isSlotSupported=function(t){return this.isSupported(t)},t.prototype.waitForResponse=function(){var t=this;return Pi((function(e){t.hasResponse()?e():t.addResponseListener(e)}),this.timeout)},t.prototype.hasResponse=function(){return this.response},t.prototype.addResponseListener=function(t){this.onResponseCallbacks.push(t)},t.prototype.wasCalled=function(){return this.called},t}();function zc(t){var e;return{cancel:function(){clearTimeout(e)},promise:new Promise((function(n){e=setTimeout((function(){return n(t)}),t)}))}}var Bc=new(function(){function t(){}return t.prototype.sample=function(t,e,n){return void 0===n&&(n=100),!!function(t){return-1!==(_.get("ignored_samplers")||"").split(",").indexOf(t)}(t)||function(t,e){return Math.floor(Math.random()*(e-0))+0}(0,n)<e},t}());function Fc(){return["fandom.com","muthead.com","futhead.com"].find((function(t){return window.location.hostname.includes(t)}))?"https://services.fandom.com/":"https://services.fandom-dev."+(location.hostname.match(/(?!\.)(pl|us)$/)||["us"])[0]+"/"}var Gc=function(){return Gc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Gc.apply(this,arguments)},Hc=["preroll","midroll","postroll"];function qc(){return Math.round(1e10*Math.random())}function Wc(t,e,n){void 0===n&&(n={});var r=["output=vast","env=vp","gdfp_req=1","impl=s","unviewed_position_start=1","url=".concat(encodeURIComponent(window.location.href)),"description_url=".concat(encodeURIComponent(window.location.href)),"correlator=".concat(qc())],o=Oa.get(e),i=Fn.get("ppid"),a=Fn.get("over18");if(a&&r.push("over_18=".concat(a)),i&&r.push("ppid=".concat(i)),bi.rollout.coppaFlag().gam&&Pr.isWikiDirectedAtChildren()&&r.push("tfcd=1"),o)r.push("iu=".concat(o.getVideoAdUnit())),r.push("sz=".concat(function(t){var e=t.getVideoSizes();return e?e.map((function(t){return t.join("x")})).join("|"):"640x480"}(o))),r.push("cust_params=".concat(function(t,e){void 0===e&&(e={});var n=Fn.dump()||{},r={};Object.keys(n).forEach((function(t){!function(t,e){"function"==typeof e?r[t]=e():"undefined"!==e&&null!==e&&(r[t]=e)}(t,n[t])})),qe.emit(Ue.AD_ENGINE_INVALIDATE_SLOT_TARGETING,{slot:t});var o=Gc(Gc(Gc({},r),t.getTargeting()),e);return encodeURIComponent(Object.keys(o).filter((function(t){return o[t]})).map((function(t){return"".concat(t,"=").concat(o[t])})).join("&"))}(o,n.targeting)));else{if(!n.videoAdUnitId||!n.customParams)throw Error("Slot does not exist!");r.push("iu=".concat(n.videoAdUnitId)),r.push("sz=640x480"),r.push("cust_params=".concat(encodeURIComponent(n.customParams)))}return n.contentSourceId&&n.videoId&&(r.push("cmsid=".concat(n.contentSourceId)),r.push("vid=".concat(n.videoId))),n.vpos&&Hc.indexOf(n.vpos)>-1&&r.push("vpos=".concat(n.vpos)),void 0!==n.numberOfAds&&r.push("pmad=".concat(n.numberOfAds)),r.push("rdp=".concat(wr()?1:0)),"https://pubads.g.doubleclick.net/gampad/ads?"+r.join("&")}function Kc(t){void 0===t&&(t={});var e=Fn.get("ppid"),n=Fn.get("over18"),r=["c=".concat(qc()),"tile=1","d_imp=1"];return r.push("iu=".concat(t.adUnit)),r.push("sz=".concat(t.size)),n&&r.push("over_18=".concat(n)),e&&r.push("ppid=".concat(e)),bi.rollout.coppaFlag().gam&&Pr.isWikiDirectedAtChildren()&&r.push("tfcd=1"),t.targeting&&r.push("t=".concat(encodeURIComponent(Object.keys(t.targeting).filter((function(e){return t.targeting[e]})).map((function(e){return"".concat(e,"=").concat(t.targeting[e])})).join("&")))),r.push("rdp=".concat(wr()?1:0)),"https://securepubads.g.doubleclick.net/gampad/adx?"+r.join("&")}function Yc(t,e){if(void 0===t&&(t={}),void 0===e&&(e=[]),t)return e.find((function(e){if("string"!=typeof e)throw new Error("property name must be a string");return e in t}))}function $c(t,e){void 0===e&&(e=[]);var n=Yc(t,e);if(n){var r=t[n];return"function"==typeof r?r.bind(t):r}}const Qc={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Jc;const Xc=new Uint8Array(16);function Zc(){if(!Jc&&(Jc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jc(Xc)}const tu=[];for(let t=0;t<256;++t)tu.push((t+256).toString(16).slice(1));const eu=function(t,e,n){if(Qc.randomUUID&&!e&&!t)return Qc.randomUUID();const r=(t=t||{}).random||(t.rng||Zc)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(tu[t[e+0]]+tu[t[e+1]]+tu[t[e+2]]+tu[t[e+3]]+"-"+tu[t[e+4]]+tu[t[e+5]]+"-"+tu[t[e+6]]+tu[t[e+7]]+"-"+tu[t[e+8]]+tu[t[e+9]]+"-"+tu[t[e+10]]+tu[t[e+11]]+tu[t[e+12]]+tu[t[e+13]]+tu[t[e+14]]+tu[t[e+15]]).toLowerCase()}(r)};var nu=new(function(){function t(){}return t.prototype.v4=function(){return eu()},t}()),ru={addListener:function(t,e,n){void 0===n&&(n={});var r={element:t,callback:e,offsetTop:n.offsetTop||0,offsetBottom:n.offsetBottom||0,areaThreshold:n.areaThreshold,inViewport:!1},o=function(){!function(t){var e=ko(t.element,{topOffset:t.offsetTop,bottomOffset:t.offsetBottom,areaThreshold:t.areaThreshold});e!==t.inViewport&&(t.callback(e),t.inViewport=e)}(r)};return r.id=Ro.addCallback(o),o(),r.id},removeListener:function(t){Ro.removeCallback(t)}},ou=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},iu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},au=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},su=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},cu=function(){function t(){this.renderImpEndCallbacks=[],this.utils=e,this.insertScript(),this.configure(),this.addRenderImpHook()}return t.make=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.insertScript=function(){this.script=this.utils.scriptLoader.loadScript("//c.amazon-adsystem.com/aax2/apstag.js","text/javascript",!0,"first")},t.prototype.configure=function(){var t=this;window.apstag=window.apstag||{_Q:[]},void 0===window.apstag.init&&(window.apstag.init=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.configureCommand("i",e)}),void 0===window.apstag.fetchBids&&(window.apstag.fetchBids=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.configureCommand("f",e)})},t.prototype.addRenderImpHook=function(){return ou(this,void 0,Promise,(function(){var t,e=this;return iu(this,(function(n){switch(n.label){case 0:return[4,this.script];case 1:return n.sent(),t=window.apstag.renderImp,window.apstag.renderImp=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.apply(void 0,su([],au(n),!1));var o=au(n,2),i=o[0],a=o[1];e.renderImpEndCallbacks.forEach((function(t){return t(i,a)}))},[2]}}))}))},t.prototype.configureCommand=function(t,e){window.apstag._Q.push([t,e])},t.prototype.init=function(t){return ou(this,void 0,Promise,(function(){return iu(this,(function(e){switch(e.label){case 0:return[4,this.script];case 1:return e.sent(),window.apstag.init(t),[2]}}))}))},t.prototype.fetchBids=function(t){return ou(this,void 0,Promise,(function(){return iu(this,(function(e){switch(e.label){case 0:return[4,this.script];case 1:return e.sent(),[2,new Promise((function(e){window.apstag.fetchBids(t,(function(t){return e(t)}))}))]}}))}))},t.prototype.targetingKeys=function(){return ou(this,void 0,Promise,(function(){return iu(this,(function(t){switch(t.label){case 0:return[4,this.script];case 1:return t.sent(),[2,window.apstag.targetingKeys()]}}))}))},t.prototype.enableDebug=function(){return ou(this,void 0,Promise,(function(){return iu(this,(function(t){switch(t.label){case 0:return[4,this.script];case 1:return t.sent(),window.apstag.debug("enable"),[2]}}))}))},t.prototype.disableDebug=function(){return ou(this,void 0,Promise,(function(){return iu(this,(function(t){switch(t.label){case 0:return[4,this.script];case 1:return t.sent(),window.apstag.debug("disable"),[2]}}))}))},t.prototype.onRenderImpEnd=function(t){return ou(this,void 0,Promise,(function(){return iu(this,(function(e){if("function"!=typeof t)throw new Error("onRenderImpEnd used with callback not being a function");return this.renderImpEndCallbacks.push(t),[2]}))}))},t}(),uu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lu=function(){return lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},lu.apply(this,arguments)},fu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},pu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},du="A9Provider",hu=function(t){function e(e,n){void 0===n&&(n=wa);var r=t.call(this,"a9",e,n)||this;return r.bidderConfig=e,r.timeout=n,r.loaded=!1,r.apstag=cu.make(),r.bids={},r.usp=jc,r.priceMap={},r.targetingKeys=[],r.amazonId=r.bidderConfig.amazonId,r.slots=r.bidderConfig.slots,r.slotsNames=Object.keys(r.slots),r.bidsRefreshing=L.get("bidders.a9.bidsRefreshing")||{},r}return uu(e,t),e.getCcpaIfApplicable=function(t){return t&&t.uspString?{params:{us_privacy:t.uspString}}:{}},e.mapResponseToTrackingBidDefinition=function(t,e,n,r){return{responseTimestamp:n,timeToRespond:r,bidderName:"a9",buyerId:e.amznp,price:e.amznbid,size:e.amznsz,slotName:Uc(t)}},e.isEnabled=function(){var t=L.get("bidders.a9.enabled"),e=L.get("bidders.coppaA9");return t&&(!e||!L.get("wiki.targeting.directedAtChildren"))},e.prototype.getTargetingKeys=function(){return this.targetingKeys},e.prototype.init=function(t){void 0===t&&(t={}),this.initIfNotLoaded(t),this.bids={},this.priceMap={};var e=this.getA9SlotsDefinitions(this.slotsNames);this.fetchBids(e)},e.prototype.initIfNotLoaded=function(t){var e=this;this.loaded||(L.get("custom.hasFeaturedVideo")&&(qe.onSlotEvent(Ra.VIDEO_AD_IMPRESSION,(function(t){var n=t.slot;return e.removeBids(n)})),qe.onSlotEvent(Ra.VIDEO_AD_ERROR,(function(t){var n=t.slot;return e.removeBids(n)})),qe.on(Ue.AD_ENGINE_INVALIDATE_SLOT_TARGETING,(function(t){var n=t.slot;return e.invalidateSlotTargeting(n)}),!1)),this.apstag.init(this.getApstagConfig(t)),this.loaded=!0)},e.prototype.removeBids=function(t){var e=this.getSlotAlias(t.getSlotName());delete this.bids[e],t.isVideo()&&t.emit(Ra.VIDEO_AD_USED)},e.prototype.invalidateSlotTargeting=function(t){if(Date.parse(Fn.get("amznExpirationDate",t.getSlotName()))<(new Date).getTime()){var e=this.getSlotAlias(t.getSlotName());delete this.bids[e],this.targetingKeys.forEach((function(e){Fn.remove(e,t.getSlotName())}))}},e.prototype.getApstagConfig=function(t){return lu({pubID:this.amazonId,videoAdServer:"DFP",deals:!0},e.getCcpaIfApplicable(t))},e.prototype.getA9SlotsDefinitions=function(t){var e=this;return t.map((function(t){return e.getSlotAlias(t)})).filter((function(t){return e.isSlotEnabled(t)})).map((function(t){return e.createSlotDefinition(t)})).filter((function(t){return null!==t}))},e.prototype.fetchBids=function(t,n){return void 0===n&&(n=!1),fu(this,void 0,Promise,(function(){var r,o,i,a,s,c=this;return pu(this,(function(u){switch(u.label){case 0:return Vn(du,"fetching bids for slots",t),t&&0!==t.length?(r=(new Date).getTime(),[4,this.apstag.fetchBids({slots:t,timeout:this.timeout})]):(Vn(du,"there is no slots to fetch bids"),[2]);case 1:return o=u.sent(),i=(new Date).getTime(),a=new Date(i+e.VIDEO_TTL),Vn(du,"bids fetched for slots",t,"bids",o),this.configureApstagOnce(),[4,Promise.all(o.map((function(t){return fu(c,void 0,void 0,(function(){var n,o,s,c;return pu(this,(function(u){switch(u.label){case 0:return n=t.slotID,[4,this.getBidTargetingWithKeys(t)];case 1:return o=u.sent(),s=o.keys,c=o.bidTargeting,this.updateBidSlot(n,s,c,a),qe.emit(Ue.BIDDERS_BIDS_RESPONSE,{bidResponse:e.mapResponseToTrackingBidDefinition(t.slotID,c,i,i-r)}),[2]}}))}))})))];case 2:return u.sent(),this.onBidResponse(),n&&(s=t.map((function(t){return t.slotName})),qe.emit(Ue.BIDDERS_BIDS_REFRESH,{refreshedSlotNames:s})),[2]}}))}))},e.prototype.configureApstagOnce=function(){e.isApstagConfigured||(e.isApstagConfigured=!0,this.addApstagRenderImpHook(),this.registerVideoBidsRefreshing())},e.prototype.addApstagRenderImpHook=function(){var t=this;Vn(du,"overwriting window.apstag.renderImp"),this.apstag.onRenderImpEnd((function(n,r){if(r){var o=t.getRenderedSlot(r),i=o.getSlotName();o.addClass(e.A9_CLASS),Vn(du,"bid used for slot ".concat(i)),delete t.bids[t.getSlotAlias(i)],t.refreshBid(o),o.updateWinningA9BidderDetails()}else Vn(du,"apstag.renderImp() called with 1 argument only")}))},e.prototype.getRenderedSlot=function(t){return Object.values(Oa.slots).filter((function(e){return e.getTargeting().amzniid===t}))[0]},e.prototype.refreshBid=function(t){if(this.shouldRefreshSlot(t)){var e=this.createSlotDefinition(this.getSlotAlias(t.getSlotName()));e&&(Vn(du,"refresh bids for slot",e),this.fetchBids([e],!0))}},e.prototype.shouldRefreshSlot=function(t){return this.bidsRefreshing.slots.includes(this.getSlotAlias(t.getSlotName()))},e.prototype.createSlotDefinition=function(t){var e=this.slots[t],n={slotName:t,slotID:t};return!e||!this.bidderConfig.videoEnabled&&"video"===e.type?null:("video"===e.type?n.mediaType="video":n.sizes=e.sizes,n)},e.prototype.registerVideoBidsRefreshing=function(){var t=this;qe.onSlotEvent(Ra.VIDEO_AD_IMPRESSION,(function(e){var n=e.slot;return t.refreshVideoBids(n)})),qe.onSlotEvent(Ra.VIDEO_AD_ERROR,(function(e){var n=e.slot;return t.refreshVideoBids(n)}))},e.prototype.refreshVideoBids=function(t){this.shouldRefreshSlot(t)&&(this.removeBids(t),this.refreshBid(t))},e.prototype.getBidTargetingWithKeys=function(t){return fu(this,void 0,Promise,(function(){return pu(this,(function(e){switch(e.label){case 0:return[4,this.apstag.targetingKeys()];case 1:return e.sent(),[2,{keys:t.helpers.targetingKeys,bidTargeting:t.targeting}]}}))}))},e.prototype.updateBidSlot=function(t,e,n,r){var o=this;this.bids[t]={},e.forEach((function(e){-1===o.targetingKeys.indexOf(e)&&o.targetingKeys.push(e),o.bids[t][e]=n[e]})),L.get("slots.".concat(t,".isVideo"))&&(this.bids[t].amznExpirationDate=r.toString(),this.targetingKeys.push("amznExpirationDate"))},e.prototype.callBids=function(){return fu(this,void 0,Promise,(function(){var t;return pu(this,(function(e){switch(e.label){case 0:return t=null,this.usp.exists?[4,this.usp.getSignalData()]:[3,2];case 1:t=e.sent(),e.label=2;case 2:return this.init(t),[2]}}))}))},e.prototype.calculatePrices=function(){var t=this;Object.keys(this.bids).forEach((function(e){t.priceMap[e]=t.bids[e].amznbid}))},e.prototype.getBestPrice=function(t){return fu(this,void 0,Promise,(function(){var e;return pu(this,(function(n){return e=this.getSlotAlias(t),[2,this.priceMap[e]?{a9:this.priceMap[e]}:{}]}))}))},e.prototype.getTargetingParams=function(t){return fu(this,void 0,Promise,(function(){return pu(this,(function(e){return[2,this.bids[this.getSlotAlias(t)]||{}]}))}))},e.prototype.isSupported=function(t){return!!this.slots[this.getSlotAlias(t)]},e.prototype.isSlotEnabled=function(t){var e=Object.keys(L.get("slots")).some((function(e){return L.get("slots.".concat(e,".bidderAlias"))===t&&Oa.getState(e)})),n=L.get("slots.".concat(t));return n&&Object.keys(n).length>0?Oa.getState(t):e},e.A9_CLASS="a9-ad",e.VIDEO_TTL=6e5,e.isApstagConfigured=!1,e}(Mc),yu=new(function(){function t(){this.defaultVersion=2}return Object.defineProperty(t.prototype,"exists",{get:function(){return!!window.__tcfapi},enumerable:!1,configurable:!0}),t.prototype.getTCData=function(t){var e=this;return new Promise((function(n){window.__tcfapi("getTCData",t||e.defaultVersion,(function(t){return n(t)}))}))},t.prototype.override=function(t){window.__tcfapi=t},t}()),vu=function(){function t(){}return t.getPrebidNativeMediaTypes=function(e){return{sendTargetingKeys:!1,adTemplate:t.getPrebidNativeTemplate(),title:{required:!0,len:t.getMaxTitleLength(e)},body:{required:!0,len:t.getMaxBodyLength(e)},clickUrl:{required:!0},displayUrl:{required:!1},image:{required:!1,aspect_ratios:[{min_width:t.getMinImageSize(e),min_height:t.getMinImageSize(e),ratio_width:1,ratio_height:1}]}}},t.getPrebidNativeTemplate=function(){return'<div id="native-prebid-ad" class="ntv-ad">\n\t\t\t\t\t<div class="ntv-wrapper">\n\t\t\t\t\t\t<a href="##hb_native_linkurl##" class="ntv-link" style="flex-shrink: 0;">\n\t\t\t\t\t\t\t<img src="##hb_native_image##" id="ntv-img" class="ntv-img">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class="ntv-content">\n\t\t\t\t\t\t\t<p class="ntv-ad-label">Ad</p>\n\t\t\t\t\t\t\t<a href="##hb_native_linkurl##" class="ntv-link">\n\t\t\t\t\t\t\t\t<p class="ntv-ad-title ntv-headline">##hb_native_title##</p>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<p class="ntv-ad-offer">##hb_native_body##</p>\n\t\t\t\t\t\t\t<a href="##hb_native_linkurl##" class="ntv-link">\n\t\t\t\t\t\t\t\t<button class="ntv-ad-button">##hb_native_displayUrl##</button>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'},t.getMinImageSize=function(t){return"mobile"==t?Io()<=320?90:120:126},t.getMaxTitleLength=function(t){return"mobile"==t?40:60},t.getMaxBodyLength=function(t){return"mobile"==t?30:120},t.assetsMap={title:"hb_native_title",body:"hb_native_body",image:"hb_native_image",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayUrl"},t}(),gu=function(){return gu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},gu.apply(this,arguments)},bu=function(){function t(t){var e=t.enabled,n=t.slots,r=this;this.isCustomBidAdapter=!1,this.maxCpm=20,this.enabled=e,this.slots=n,this.pageTargeting=gu({},Fn.dump()||{}),Object.keys(this.pageTargeting).forEach((function(t){Array.isArray(r.pageTargeting[t])||(r.pageTargeting[t]=[r.pageTargeting[t]])}))}return t.prototype.prepareAdUnits=function(){var t=this;return Object.keys(this.slots).map((function(e){return t.prepareConfigForAdUnit(e,t.slots[e])}))},t.prototype.getTargeting=function(t,e){return void 0===e&&(e={}),gu(gu(gu({},this.pageTargeting),{src:L.get("src")||[""],pos:[t]}),e)},t}(),mu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wu=function(){return wu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},wu.apply(this,arguments)},Su=function(t){function e(e){var n=t.call(this,e)||this;return n.placements=e.placements,n}return mu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.isNativeModeOn=function(){return L.get("bidders.prebid.appnexusNative.enabled")},e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.placementId,o=e.position,i=void 0===o?"mobile":o;return L.get("slots.".concat(t,".isNative"))&&L.get("bidders.prebid.native.enabled")&&this.isNativeModeOn()?this.prepareNativeConfig(t,{sizes:n,placementId:r,position:i}):this.prepareStandardConfig(t,{sizes:n,placementId:r,position:i})},e.prototype.prepareStandardConfig=function(t,e){var n=e.sizes,r=e.placementId,o=e.position;return{code:t,mediaTypes:{banner:{sizes:n}},bids:this.getBids(t,{sizes:n,placementId:r,position:o})}},e.prototype.prepareNativeConfig=function(t,e){var n=e.sizes,r=e.placementId,o=e.position;return{code:t,mediaTypes:{native:vu.getPrebidNativeMediaTypes(o)},bids:this.getBids(t,{sizes:n,placementId:r,position:o})}},e.prototype.getBids=function(t,e){var n=this,r=e.placementId,o=e.position,i=void 0===o?"mobile":o;return Array.isArray(r)&&r.length>0?r.map((function(e){return{bidder:n.bidderName,params:{placementId:e,keywords:wu({},n.getTargeting(t))}}})):[{bidder:this.bidderName,params:{placementId:r||this.getPlacement(i),keywords:wu({},this.getTargeting(t))}}]},e.prototype.getPlacement=function(t){var e=t;if("mobile"===t){var n=Fn.get("mappedVerticalName");e=n&&this.placements[n]?n:"other"}return this.placements[e]},e.bidderName="appnexus",e}(bu),_u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eu=function(){return Eu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Eu.apply(this,arguments)},Ou=function(t){function e(n){var r=t.call(this,n)||this;return r.aliases={appnexus:[e.bidderName]},r.maxCpm=50,r.debugPlacementId=n.debugPlacementId,r.isDebugMode="1"===_.get("appnexusast_debug_mode"),r}return _u(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.placementId;return{code:t,mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:{placementId:this.isDebugMode?this.debugPlacementId:n,keywords:Eu({},this.getTargeting(t)),video:{skippable:!1,playback_method:["auto_play_sound_off"]}}}]}},e.bidderName="appnexusAst",e}(bu),Tu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Au=function(t){function e(e){var n=t.call(this,e)||this;return n.networkId=e.networkId,n}return Tu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes;return this.getStandardConfig(t,n)},e.prototype.getStandardConfig=function(t,e){return{code:t,mediaTypes:{banner:{sizes:e}},bids:[{bidder:this.bidderName,params:{networkId:this.networkId}}]}},e.bidderName="criteo",e}(bu),Pu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cu=function(t){function e(n){var r=t.call(this,n)||this;return r.aliases={"freewheel-ssp":[e.bidderName]},r}return Pu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.zoneId;return{code:t,mediaTypes:{video:{playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:{format:"instream",zoneId:n}}]}},e.bidderName="freewheel",e}(bu),Iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ku=function(t){function e(e){return t.call(this,e)||this}return Iu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.inScreen;return{code:t,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:{inScreen:r}}]}},e.bidderName="gumgum",e}(bu),xu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ru=function(t){function e(n){var r=t.call(this,n)||this;return r.aliases={ix:[e.bidderName]},r.maxCpm=50,r}return xu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.siteId;return L.get("slots.".concat(t,".isVideo"))?this.getVideoConfig(t,r):this.getStandardConfig(t,{sizes:n,siteId:r})},e.prototype.getGPIDValue=function(t){return Kr.build(L.get("adUnitId"),{slotConfig:{adProduct:t,group:"PB",slotNameSuffix:""}})},e.prototype.getVideoConfig=function(t,e){return{code:t,mediaTypes:{video:{context:"instream",playerSize:[640,480]}},ortb2Imp:{ext:{gpid:this.getGPIDValue(t)}},bids:[{bidder:this.bidderName,params:{siteId:e,size:[640,480],video:{mimes:["video/mp4","video/x-flv","video/webm","video/ogg","application/javascript"],minduration:1,maxduration:30,protocols:[2,3,5,6],api:[2]}}}]}},e.prototype.getStandardConfig=function(t,e){var n=e.sizes,r=e.siteId;return{code:t,mediaTypes:{banner:{sizes:n}},ortb2Imp:{ext:{gpid:this.getGPIDValue(t)}},bids:this.getBids(n,r)}},e.prototype.getBids=function(t,e){var n=this;return Array.isArray(e)&&e.length>0?this.getBidsForMultipleSiteIds(t,e):t.map((function(t){return{bidder:n.bidderName,params:{siteId:e,size:t}}}))},e.prototype.getBidsForMultipleSiteIds=function(t,e){var n=this;return e.map((function(e,r){return{bidder:n.bidderName,params:{size:t[r],siteId:e}}}))},e.bidderName="indexExchange",e}(bu),Nu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Du=function(t){function e(e){return t.call(this,e)||this}return Nu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.placementId;return{code:t,mediaTypes:{banner:{sizes:n}},bids:this.getBids(r)}},e.prototype.getBids=function(t){var e=this;return Array.isArray(t)&&t.length>0?t.map((function(t){return{bidder:e.bidderName,params:{placementId:t}}})):[{bidder:this.bidderName,params:{placementId:t}}]},e.bidderName="kargo",e}(bu),Lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju=function(t){function e(e){return t.call(this,e)||this}return Lu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.cid,o=e.crid;return L.get("slots.".concat(t,".isVideo"))?this.getVideoConfig(t,r,o):this.getStandardConfig(t,n,r,o)},e.prototype.getVideoConfig=function(t,e,n){return{code:t,mediaTypes:{video:{playerSize:[640,480],context:"instream",api:[2],linearity:1,mimes:["video/mp4","video/x-flv","video/webm","video/ogg"],maxduration:30,protocols:[2,3,5,6],playbackmethod:[2,3]}},bids:[{bidder:this.bidderName,params:{cid:e,crid:n,video:{w:"640",h:"480",mimes:["video/mp4","video/x-flv","video/webm","video/ogg"],playbackmethod:[2,3],maxduration:30,minduration:1,startdelay:0}}}]}},e.prototype.getStandardConfig=function(t,e,n,r){return{code:t,mediaTypes:{banner:{sizes:e}},bids:[{bidder:this.bidderName,params:{cid:n,crid:r}}]}},e.bidderName="medianet",e}(bu),Vu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uu=function(t){function e(e){return t.call(this,e)||this}return Vu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.siteId;return{code:t,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:{siteId:r}}]}},e.bidderName="nobid",e}(bu),Mu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zu=function(t){function e(e){return t.call(this,e)||this}return Mu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.adUnitId,r=e.assetKey;return{code:t,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:this.bidderName,params:{assetKey:r,adUnitId:n,skipSizeCheck:!0}}]}},e.bidderName="ogury",e}(bu),Bu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fu=function(t){function e(e){return t.call(this,e)||this}return Bu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.site,r=e.pubId;return{code:t,mediaTypes:{video:{playerSize:[640,480],context:"instream"}},bids:[{bidder:this.bidderName,params:{site:n,pubId:r,video:{playerWidth:640,playerHeight:480,mimes:["video/mp4","application/javascript","video/x-flv","video/webm","video/ogg"],protocols:[2,3,5,6],delivery:[2],api:[2]}}}]}},e.bidderName="oneVideo",e}(bu),Gu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hu=function(){return Hu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Hu.apply(this,arguments)},qu=function(t){function e(e){var n=t.call(this,e)||this;return n.publisherId=e.publisherId,n}return Gu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.ids;return L.get("slots.".concat(t,".isVideo"))?this.getVideoConfig(t,r):this.getStandardConfig(t,n,r)},e.prototype.getVideoConfig=function(t,e){return{code:t,mediaTypes:{video:{playerSize:[640,480],context:"instream"}},bids:this.getBids(e,{video:{mimes:["video/mp4","video/x-flv","video/webm","video/ogg"],skippable:!0,minduration:1,maxduration:30,startdelay:0,playbackmethod:[2,3],api:[2],protocols:[2,3,5,6],linearity:1,placement:1}})}},e.prototype.getStandardConfig=function(t,e,n){return{code:t,mediaTypes:{banner:{sizes:e}},bids:this.getBids(n)}},e.prototype.getBids=function(t,e){var n=this;return void 0===e&&(e={}),t.map((function(t){return{bidder:n.bidderName,params:Hu({adSlot:t,publisherId:n.publisherId},e)}}))},e.bidderName="pubmatic",e}(bu),Wu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ku=function(t){function e(n){var r=t.call(this,n)||this;return r.aliases={ix:[e.bidderName]},r}return Wu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.siteId;return L.get("slots.".concat(t,".isVideo"))?this.getVideoConfig(t,r):this.getStandardConfig(t,{sizes:n,siteId:r})},e.prototype.getVideoConfig=function(t,e){return{code:t,mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:{siteId:e,size:[640,480],video:{mimes:["video/mp4","video/x-flv","video/webm","video/ogg","application/javascript"],minduration:1,maxduration:30,protocols:[2,3,5,6],api:[2]}}}]}},e.prototype.getStandardConfig=function(t,e){var n=this,r=e.sizes,o=e.siteId;return{code:t,mediaTypes:{banner:{sizes:r}},bids:r.map((function(t){return{bidder:n.bidderName,params:{siteId:o,size:t}}}))}},e.bidderName="roundel",e}(bu),Yu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$u=function(){return $u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$u.apply(this,arguments)},Qu=function(t){function e(e){var n=t.call(this,e)||this;return n.maxCpm=50,n.accountId=e.accountId,n.customTargeting={s1:[L.get("wiki.targeting.wikiIsTop1000")?Fn.get("s1")||"":"not a top1k wiki"],lang:[Fn.get("wikiLanguage")||Fn.get("lang")||"en"]},n}return Yu(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.siteId,r=e.zoneId,o=e.sizeId,i=e.position;return"featured"!==t||L.get("custom.hasFeaturedVideo")?{code:t,mediaTypes:{video:{playerSize:[640,480],context:"instream",api:[2],linearity:1,mimes:["video/mp4","video/x-flv","video/webm","video/ogg"],maxduration:30,protocols:[2,3,5,6]}},bids:[{bidder:this.bidderName,params:{position:i,siteId:n,zoneId:r,accountId:this.accountId,name:t,inventory:$u({},this.getTargeting(t,this.customTargeting)),video:{playerWidth:"640",playerHeight:"480",size_id:o,language:this.customTargeting.lang[0]}}}]}:null},e.bidderName="rubicon",e}(bu),Ju=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=function(){return Xu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Xu.apply(this,arguments)},Zu=function(t){function e(n){var r=t.call(this,n)||this;return r.aliases={rubicon:[e.bidderName]},r.accountId=n.accountId,r.customTargeting={s1:[L.get("wiki.targeting.wikiIsTop1000")?Fn.get("s1")||"":"not a top1k wiki"],lang:[Fn.get("wikiLanguage")||Fn.get("lang")||"en"]},r}return Ju(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.siteId,r=e.zoneId,o=e.sizes,i=e.position,a=e.targeting;return{code:t,mediaTypes:{banner:{sizes:o}},bids:this.getBids(t,i,n,r,a)}},e.prototype.getBids=function(t,e,n,r,o){var i=this;return Array.isArray(r)&&r.length>0?r.map((function(r){return{bidder:i.bidderName,params:{position:e,siteId:n,zoneId:r,accountId:i.accountId,name:t,keywords:["rp.fastlane"],inventory:Xu({},i.getTargeting(t,Xu(Xu({},o||{}),i.customTargeting)))}}})):[{bidder:this.bidderName,params:{position:e,siteId:n,zoneId:r,accountId:this.accountId,name:t,keywords:["rp.fastlane"],inventory:Xu({},this.getTargeting(t,Xu(Xu({},o||{}),this.customTargeting)))}}]},e.bidderName="rubicon_display",e}(bu),tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),el=function(){return el=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},el.apply(this,arguments)},nl=function(t){function e(n){var r=t.call(this,n)||this;return r.aliases={},r.aliases[L.get("bidders.prebid.testBidder.name")]=[e.bidderName],r}return tl(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.parameters;return L.get("slots.".concat(t,".isVideo"))?this.getVideoConfig(t,r):this.getStandardConfig(t,{sizes:n,parameters:r})},e.prototype.getVideoConfig=function(t,e){return{code:t,mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:el({},e)}]}},e.prototype.getStandardConfig=function(t,e){var n=e.sizes,r=e.parameters;return{code:t,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:el({},r)}]}},e.bidderName="testBidder",e}(bu),rl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ol=function(t){function e(e){return t.call(this,e)||this}return rl(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=this;return{code:t,mediaTypes:{banner:{sizes:e.sizes}},bids:e.inventoryCodes.map((function(t){return{bidder:n.bidderName,params:{inventoryCode:t}}}))}},e.bidderName="triplelift",e}(bu),il=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),al=function(t){function e(e){var n=t.call(this,e)||this;return n.dcn=e.dcn,n}return il(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.pos;return{code:t,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:{pos:r,dcn:this.dcn}}]}},e.bidderName="verizon",e}(bu),sl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cl=_.get("wikia_adapter"),ul=parseInt(_.get("wikia_adapter_limit"),10)||99,ll=parseInt(_.get("wikia_adapter_timeout"),10)||100,fl="1"===_.get("wikia_adapter_random"),pl=function(t){function e(e){var n=t.call(this,e)||this;return n.maxCpm=50,n.enabled=!!cl,n.limit=ul,n.timeout=ll,n.useRandomPrice=fl,n.isCustomBidAdapter=!0,n}return sl(e,t),e.getCreative=function(t,e){var n=document.createElement("div");n.style.background="#00b7e0",n.style.color="#fff",n.style.fontFamily="sans-serif",n.style.width="".concat(t[0],"px"),n.style.height="".concat(t[1],"px"),n.style.textAlign="center";var r=document.createElement("p");r.innerText="Wikia Creative",r.style.fontWeight="bold",r.style.margin="0",r.style.paddingTop="10px";var o=document.createElement("small");return o.innerText="cpm: ".concat(e,", size: ").concat(t.join("x")),n.appendChild(r),n.appendChild(o),n.outerHTML},Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes;return L.get("slots.".concat(t,".isNative"))?this.prepareNativeConfig(vu.getPrebidNativeTemplate(),t):this.prepareStandardConfig(t,{sizes:n})},e.prototype.prepareNativeConfig=function(t,e){return{code:e,mediaTypes:{native:{sendTargetingKeys:!1,adTemplate:t,title:{required:!0},body:{required:!0},clickUrl:{required:!0},displayUrl:{required:!1},image:{required:!1,aspect_ratios:[{min_width:100,min_height:100,ratio_width:1,ratio_height:1}]}}},bids:[{bidder:this.bidderName,params:{}}]}},e.prototype.prepareStandardConfig=function(t,e){return{code:t,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:this.bidderName,params:{}}]}},e.prototype.getSpec=function(){return{code:this.bidderName,supportedMediaTypes:["banner","native"]}},e.prototype.getPrice=function(){return this.useRandomPrice?Math.floor(2e3*Math.random())/100:parseInt(cl,10)/100},e.prototype.callBids=function(t,e,n){this.addBids(t,e,n)},e.prototype.addBids=function(t,e,n){var r=this;setTimeout((function(){return o=r,i=void 0,s=function(){var r,o=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(i){switch(i.label){case 0:return[4,Bn.init()];case 1:return r=i.sent(),t.bids.map((function(n){0!==o.limit&&(e(n.adUnitCode,n.mediaTypes.native?o.createNativeBidResponse(r,n,t):o.createStandardBidResponse(r,n,t)),o.limit-=1)})),n(),[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{c(s.next(t))}catch(t){e(t)}}function r(t){try{c(s.throw(t))}catch(t){e(t)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof a?o:new a((function(t){t(o)}))).then(n,r)}c((s=s.apply(o,i||[])).next())}));var o,i,a,s}),this.timeout)},e.prototype.createNativeBidResponse=function(t,e,n){var r=t.createBid(1),o=this.getPrice();return r.bidderCode=n.bidderCode,r.cpm=o,r.ttl=300,r.mediaType="native",r.native={body:"Wikia is an old name of Fandom. Haven't heard of Fandom?",clickTrackers:["https://track-click.url"],clickUrl:"https://fandom.com",url:"https://fandom.com",image:{url:"https://placekitten.com/100/100",height:100,width:100},impressionTrackers:["https://track-impression.url"],title:"Wikia Native Creative"},r},e.prototype.createStandardBidResponse=function(t,n,r){var o=t.createBid(1),i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(n.sizes[0],2),a=i[0],s=i[1],c=this.getPrice();return o.ad=e.getCreative(n.sizes[0],c),o.bidderCode=r.bidderCode,o.cpm=c,o.ttl=300,o.mediaType="banner",o.width=a,o.height=s,o},e.bidderName="wikia",e}(bu),dl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hl=_.get("wikia_video_adapter"),yl=parseInt(_.get("wikia_adapter_limit"),10)||99,vl=parseInt(_.get("wikia_adapter_timeout"),10)||100,gl="1"===_.get("wikia_adapter_random"),bl=function(t){function e(e){var n=t.call(this,e)||this;return n.maxCpm=50,n.enabled=!!hl,n.limit=yl,n.timeout=vl,n.useRandomPrice=gl,n.isCustomBidAdapter=!0,n}return dl(e,t),e.getVastUrl=function(t,e,n){return Wc(0,n,{videoAdUnitId:L.get("bidders.prebid.wikiaVideo.slots.".concat(n,".videoAdUnitId")),customParams:L.get("bidders.prebid.wikiaVideo.slots.".concat(n,".customParams"))})},Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t){return{code:t,mediaTypes:{video:{context:"outstream",playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:{}}]}},e.prototype.getSpec=function(){return{code:this.bidderName,supportedMediaTypes:["video"]}},e.prototype.getPrice=function(){return this.useRandomPrice?Math.floor(20*Math.random()):parseInt(hl,10)/100},e.prototype.callBids=function(t,e,n){this.addBids(t,e,n)},e.prototype.addBids=function(t,n,r){var o=this;setTimeout((function(){return i=o,a=void 0,c=function(){var o,i=this;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(a){switch(a.label){case 0:return[4,Bn.init()];case 1:return o=a.sent(),t.bids.forEach((function(r){if(0!==i.limit){var a=o.createBid(1),s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(r.sizes[0],2),c=s[0],u=s[1],l=r.adUnitCode;a.bidderCode=t.bidderCode,a.cpm=i.getPrice(),a.creativeId="foo123_wikiaVideoCreativeId",a.ttl=300,a.mediaType="video",a.width=c,a.height=u,a.vastUrl=e.getVastUrl(c,u,l),a.videoCacheKey="123foo_wikiaVideoCacheKey",n(r.adUnitCode,a),i.limit-=1}})),r(),[2]}}))},new((s=void 0)||(s=Promise))((function(t,e){function n(t){try{o(c.next(t))}catch(t){e(t)}}function r(t){try{o(c.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(t){t(o)}))).then(n,r)}o((c=c.apply(i,a||[])).next())}));var i,a,s,c}),this.timeout)},e.bidderName="wikiaVideo",e}(bu),ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wl=function(t){function e(e){return t.call(this,e)||this}return ml(e,t),Object.defineProperty(e.prototype,"bidderName",{get:function(){return e.bidderName},enumerable:!1,configurable:!0}),e.prototype.prepareConfigForAdUnit=function(t,e){var n=e.sizes,r=e.pubId;return this.getStandardConfig(t,n,r)},e.prototype.getStandardConfig=function(t,e,n){return{code:t,mediaTypes:{banner:{sizes:e}},bids:this.getBids(n)}},e.prototype.getBids=function(t){var e=this;return t.map((function(t){return{bidder:e.bidderName,params:{pubId:t}}}))},e.bidderName="yahoossp",e}(bu),Sl=function(){return Sl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Sl.apply(this,arguments)},_l=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},El=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Ol(){var t=[];return Rl.getAdapters().forEach((function(e){e&&e.enabled&&e.prepareAdUnits().forEach((function(e){var n;e&&(n=e.code,L.get("slots.".concat(n))?Oa.getState(n):function(t){return Object.keys(L.get("slots")).some((function(e){return L.get("slots.".concat(e,".bidderAlias"))===t&&Oa.getState(e)}))}(n))&&t.push(e)}))})),t}function Tl(t,e){return _l(this,void 0,Promise,(function(){var n;return El(this,(function(r){switch(r.label){case 0:return[4,Al(t,e)];case 1:return(n=r.sent())&&"video"===n.mediaType?[2,n.videoCacheKey]:[2,"disabled"]}}))}))}function Al(t,e){return _l(this,void 0,Promise,(function(){var n,r,o;return El(this,(function(i){switch(i.label){case 0:return[4,Bn.init()];case 1:return n=i.sent(),r=n.getBidResponsesForAdUnitCode(t).bids,[2,(o=r.filter((function(t){return e===t.adId}))).length?o[0]:null]}}))}))}function Pl(t,e){return void 0===e&&(e=null),_l(this,void 0,Promise,(function(){var n,r,o,i,a,s,c;return El(this,(function(u){switch(u.label){case 0:return n={},r={},o=L.get("bidders.prebid.priceFloor"),[4,Cl(t)];case 1:return(i=u.sent()).length&&(a=null,i.forEach((function(t){var n,i;e&&e!==t.bidderCode||o&&"object"==typeof o&&o["".concat(t.width,"x").concat(t.height)]&&t.cpm<parseFloat(o["".concat(t.width,"x").concat(t.height)])||(a=a?a.cpm===t.cpm?a.timeToRespond>t.timeToRespond?t:a:a.cpm<t.cpm?t:a:t),r=Sl(Sl({},r),(n=t,i={},Object.keys(n.adserverTargeting).forEach((function(t){0===t.indexOf("hb_deal_")&&(i[t]=n.adserverTargeting[t])})),i))})),a&&(n=Sl(Sl({},r),a.adserverTargeting))),(s=n.hb_adid)?[4,Tl(t,s)]:[3,3];case 2:(c=u.sent())&&(n.hb_uuid=c),u.label=3;case 3:return[2,n||{}]}}))}))}function Cl(t){return _l(this,void 0,Promise,(function(){return El(this,(function(e){switch(e.label){case 0:return[4,Bn.init()];case 1:return[2,(e.sent().getBidResponsesForAdUnitCode(t).bids||[]).filter((function(t){return function(t){return t.getStatusCode&&1===t.getStatusCode()}(t)&&"rendered"!==t.status}))]}}))}))}var Il=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},kl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},xl=function(){function t(){this.adapters=new Map,this.availableAdapters=[Su,Ou,Au,Cu,ku,Ru,Du,ju,Uu,zu,Fu,qu,Ku,Qu,Zu,nl,ol,al,pl,bl,wl]}return t.prototype.getAdapter=function(t){return this.getAdapters().get(t)},t.prototype.getAdapters=function(){var t=this;if(!this.adapters.size){var e=L.get("bidders.prebid");this.availableAdapters.forEach((function(n){var r=e[n.bidderName];(function(t){if("object"!=typeof t)return!1;var e="boolean"==typeof t.enabled,n="object"==typeof t.slots;return e&&n})(r)&&t.adapters.set(n.bidderName,new n(r))}))}return this.adapters},t.prototype.configureAdapters=function(){var t=this;this.getAdapters().forEach((function(e){var n=e.aliases;n&&t.configureAliases(n),e.isCustomBidAdapter&&t.configureCustomAdapter(e.bidderName,e)}))},t.prototype.configureAliases=function(t){return Il(this,void 0,Promise,(function(){var e;return kl(this,(function(n){switch(n.label){case 0:return[4,Bn.init()];case 1:return e=n.sent(),Object.keys(t).forEach((function(n){return t[n].forEach((function(t){return e.aliasBidder(n,t)}))})),[2]}}))}))},t.prototype.configureCustomAdapter=function(t,e){return Il(this,void 0,Promise,(function(){return kl(this,(function(n){switch(n.label){case 0:return[4,Bn.init()];case 1:return[2,n.sent().registerBidAdapter((function(){return e}),t)]}}))}))},t}(),Rl=new xl,Nl="LiveRamp",Dl=new(function(){function t(){}return t.prototype.getConfig=function(){return this.isEnabled()?(Vn(Nl,"enabled"),{userSync:{userIds:[{name:"identityLink",params:{pid:"2161"},storage:{type:"cookie",name:"idl_env",expires:1}}]}}):(Vn(Nl,"disabled"),{})},t.prototype.isEnabled=function(){return L.get("bidders.liveRampId.enabled")&&!L.get("options.optOutSale")&&!L.get("wiki.targeting.directedAtChildren")},t}());function Ll(t){return e=this,n=void 0,o=function(){var e,n,r,o,i,a,s,c,u,l;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(f){switch(f.label){case 0:e={},n=Rl.getAdapters(),f.label=1;case 1:f.trys.push([1,6,7,8]),r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(n.entries())),o=r.next(),f.label=2;case 2:return o.done?[3,5]:(i=o.value,[4,Pl(t,i[1].bidderName)]);case 3:a=f.sent(),s=a.hb_pb,e[i[1].bidderName]=function(t){return t?parseFloat(t).toFixed(2):""}(s),f.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return c=f.sent(),u={error:c},[3,8];case 7:try{o&&!o.done&&(l=r.return)&&l.call(r)}finally{if(u)throw u.error}return[7];case 8:return[2,e]}}))},new((r=Promise)||(r=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o}var jl=function(){return jl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},jl.apply(this,arguments)};function Vl(){return jl({standard:{adserverTargeting:[{key:"hb_bidder",val:function(t){return t.bidderCode}},{key:"hb_adid",val:function(t){return t.adId}},{key:"hb_pb",val:function(t){return e=t,r=20,(n=Rl.getAdapter(e.bidderCode))&&n.maxCpm&&(r=n.maxCpm),function(t,e){return void 0===e&&(e=20),function(t,e){var n=Math.floor(e);return 0===t?n=0:t<.05?n=.01:t<5?n=Math.floor(20*t)/20:t<10?n=Math.floor(10*t)/10:t<20?n=Math.floor(2*t)/2:t<e&&(n=Math.floor(t)),n}(t,Math.max(e,20)).toFixed(2)}(e.cpm,r);var e,n,r}},{key:"hb_size",val:function(t){return t.size}}],suppressEmptyKeys:!0,allowZeroCpmBids:!0}},(t=Rl.getAdapters(),e={},t.forEach((function(t){var n=t.bidderName;n&&(e[n]={adserverTargeting:[{key:"hb_deal_".concat(n),val:function(t){return t.dealId}}],suppressEmptyKeys:!0,allowZeroCpmBids:!0})})),e));var t,e}var Ul=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ml=function(){return Ml=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ml.apply(this,arguments)},zl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Bl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Fl="prebid";function Gl(t){return zl(this,void 0,Promise,(function(){var e;return Bl(this,(function(n){switch(n.label){case 0:return(e=Fn.get("hb_adid",t.getSlotName()))?[4,Bn.init()]:[3,2];case 1:n.sent().markWinningBidAsUsed({adId:e}),t.emit(Ra.VIDEO_AD_USED),n.label=2;case 2:return[2]}}))}))}qe.onSlotEvent(Ra.VIDEO_AD_IMPRESSION,(function(t){return Gl(t.slot)})),qe.onSlotEvent(Ra.VIDEO_AD_ERROR,(function(t){return Gl(t.slot)}));var Hl=function(t){function e(e,n){void 0===n&&(n=wa);var r=t.call(this,"prebid",e,n)||this;return r.bidderConfig=e,r.timeout=n,r.tcf=yu,Rl.configureAdapters(),r.adUnits=Ol(),r.bidsRefreshing=L.get("bidders.prebid.bidsRefreshing")||{},r.prebidConfig={bidderSequence:"random",bidderTimeout:r.timeout,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},debug:["1","true"].includes(_.get("pbjs_debug")),rubicon:{singleRequest:!0},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"},image:{bidders:"*",filter:"include"}},syncsPerBidder:3,syncDelay:6e3}},bi.rollout.coppaFlag().prebid&&Pr.isWikiDirectedAtChildren()&&(r.prebidConfig.coppa=!0),r.prebidConfig=Ml(Ml(Ml(Ml({},r.prebidConfig),r.configureTargeting()),r.configureLiveRamp()),r.configureTCF()),r.applyConfig(r.prebidConfig),r.configureAdUnits(),r.registerBidsRefreshing(),r.registerBidsTracking(),r.enableATSAnalytics(),Vn(Fl,"prebid created",r.prebidConfig),r}return Ul(e,t),e.prototype.configureTargeting=function(){return L.get("bidders.prebid.disableSendAllBids")?{enableSendAllBids:!1,targetingControls:{alwaysIncludeDeals:!0,allowTargetingKeys:["AD_ID","BIDDER","DEAL","PRICE_BUCKET","SIZE","UUID"]}}:{enableSendAllBids:!0,sendBidsControl:{bidLimit:2,dealPrioritization:!0},targetingControls:{alwaysIncludeDeals:!0,allowTargetingKeys:["AD_ID","PRICE_BUCKET","UUID","SIZE","DEAL"],allowSendAllBidsTargetingKeys:["AD_ID","PRICE_BUCKET","UUID","SIZE","DEAL"]}}},e.prototype.configureLiveRamp=function(){return Dl.getConfig()},e.prototype.configureTCF=function(){return this.tcf.exists?{consentManagement:{gdpr:{cmpApi:"iab",timeout:this.timeout,allowAuctionWithoutConsent:!1,defaultGdprScope:!1},usp:{cmpApi:"iab",timeout:100}}}:{}},e.prototype.configureAdUnits=function(t){return void 0===t&&(t=[]),zl(this,void 0,Promise,(function(){return Bl(this,(function(e){switch(e.label){case 0:return[4,Bn.init()];case 1:return e.sent(),t.length?this.adUnits=t:this.adUnits||(this.adUnits=Ol()),[2]}}))}))},e.prototype.applyConfig=function(t){return zl(this,void 0,Promise,(function(){return Bl(this,(function(e){switch(e.label){case 0:return[4,Bn.init()];case 1:return[2,e.sent().setConfig(t)]}}))}))},e.prototype.applySettings=function(){return zl(this,void 0,Promise,(function(){return Bl(this,(function(t){switch(t.label){case 0:return[4,Bn.init()];case 1:return t.sent().bidderSettings=Vl(),[2]}}))}))},e.prototype.callBids=function(t){this.adUnits||(this.adUnits=Ol()),0!==this.adUnits.length&&(this.applySettings(),this.removeAdUnits(),this.requestBids(this.adUnits,(function(){t(),qe.emit(Ue.BIDDERS_AUCTION_DONE)})),qe.emit(Ue.BIDDERS_BIDS_CALLED))},e.prototype.removeAdUnits=function(){return zl(this,void 0,Promise,(function(){var t;return Bl(this,(function(e){switch(e.label){case 0:return[4,Bn.init()];case 1:return((t=e.sent()).adUnits||[]).forEach((function(e){return t.removeAdUnit(e.code)})),[2]}}))}))},e.prototype.getBestPrice=function(t){return Ll(this.getSlotAlias(t))},e.prototype.getTargetingKeys=function(t){return Object.keys(Fn.dump(t)||{}).filter((function(t){return 0===t.indexOf("hb_")}))},e.prototype.getTargetingParams=function(t){return zl(this,void 0,Promise,(function(){var e,n,r;return Bl(this,(function(o){switch(o.label){case 0:return[4,Bn.init()];case 1:return e=o.sent(),n=this.getSlotAlias(t),r=[Ml({},e.getAdserverTargetingForAdUnitCode(n))],[4,Pl(n)];case 2:return[2,Ml.apply(void 0,r.concat([o.sent()]))]}}))}))},e.prototype.isSupported=function(t){var e=this.getSlotAlias(t);return this.adUnits&&this.adUnits.some((function(t){return t.code===e}))},e.prototype.registerBidsRefreshing=function(){return zl(this,void 0,Promise,(function(){var t,e,n=this;return Bl(this,(function(r){switch(r.label){case 0:return[4,Bn.init()];case 1:return t=r.sent(),this.bidsRefreshing=L.get("bidders.prebid.bidsRefreshing")||{},e=function(t){if(-1!==n.bidsRefreshing.slots.indexOf(t.adUnitCode)){qe.emit(Ue.BIDDERS_BIDS_REFRESH,{refreshedSlotNames:[t.adUnitCode]});var e=n.adUnits.filter((function(e){return e.code===t.adUnitCode&&e.bids&&e.bids[0]&&e.bids[0].bidder===t.bidderCode}));n.requestBids(e,n.bidsRefreshing.bidsBackHandler)}},t.onEvent("bidWon",e),[2]}}))}))},e.prototype.registerBidsTracking=function(){return zl(this,void 0,Promise,(function(){var t,e,n=this;return Bl(this,(function(r){switch(r.label){case 0:return[4,Bn.init()];case 1:return t=r.sent(),e=function(t){qe.emit(Ue.BIDDERS_BIDS_RESPONSE,{bidResponse:n.mapResponseToTrackingBidDefinition(t)})},t.onEvent("bidResponse",e),[2]}}))}))},e.prototype.mapResponseToTrackingBidDefinition=function(t){return{bidderName:t.bidderCode,price:t.cpm.toString(),responseTimestamp:t.responseTimestamp,slotName:Uc(t.adUnitCode),size:t.size,timeToRespond:t.timeToRespond}},e.prototype.requestBids=function(t,e,n){return void 0===n&&(n=this.timeout),zl(this,void 0,Promise,(function(){return Bl(this,(function(r){switch(r.label){case 0:return[4,Bn.init()];case 1:return r.sent().requestBids({adUnits:t,bidsBackHandler:e,timeout:n}),[2]}}))}))},e.prototype.enableATSAnalytics=function(){L.get("bidders.liveRampATSAnalytics.enabled")&&(Vn(Fl,"prebid enabling ATS Analytics"),window.pbjs.que.push((function(){window.pbjs.enableAnalytics([{provider:"atsAnalytics",options:{pid:"2161",host:"https://analytics.openlog.in"}}])})))},e.prototype.calculatePrices=function(){},e}(Mc),ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Kl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Yl="bidders",$l=function(t){function e(){var e=t.call(this)||this;return e.biddersProviders={},e.realSlotPrices={},qe.onSlotEvent(Ra.VIDEO_AD_REQUESTED,(function(t){t.slot.updateWinningPbBidderDetails()})),qe.onSlotEvent(Ra.VIDEO_AD_USED,(function(t){var n=t.slot;e.updateSlotTargeting(n.getSlotName())})),qe.on(Ue.BIDDERS_BIDS_REFRESH,(function(t){t.refreshedSlotNames.forEach((function(t){return e.updateSlotTargeting(t)}))}),!1),e}return ql(e,t),e.prototype.getName=function(){return"bidders"},e.prototype.isEnabled=function(){return L.get("bidders.prebid.enabled")||L.get("bidders.a9.enabled")},e.prototype.applyTargetingParams=function(t,e){Object.keys(e).forEach((function(n){return Fn.set(n,e[n],t)}))},e.prototype.getBiddersProviders=function(){return Object.values(this.biddersProviders)},e.prototype.getBidParameters=function(t){return Wl(this,void 0,Promise,(function(){var e,n=this;return Kl(this,(function(r){switch(r.label){case 0:return e={},[4,Promise.all(this.getBiddersProviders().map((function(r){return Wl(n,void 0,void 0,(function(){var n;return Kl(this,(function(o){switch(o.label){case 0:return r&&r.wasCalled()?[4,r.getSlotTargetingParams(t)]:[3,2];case 1:n=o.sent(),Object.assign(e,n),o.label=2;case 2:return[2]}}))}))})))];case 1:return r.sent(),[2,e]}}))}))},e.prototype.getCurrentSlotPrices=function(t){return Wl(this,void 0,Promise,(function(){var e,n=this;return Kl(this,(function(r){switch(r.label){case 0:return e={},[4,Promise.all(this.getBiddersProviders().map((function(r){return Wl(n,void 0,void 0,(function(){var n;return Kl(this,(function(o){switch(o.label){case 0:return r&&r.isSlotSupported(t)?[4,r.getSlotBestPrice(t)]:[3,2];case 1:n=o.sent(),Object.keys(n).forEach((function(t){e[t]=n[t]})),o.label=2;case 2:return[2]}}))}))})))];case 1:return r.sent(),[2,e]}}))}))},e.prototype.getDfpSlotPrices=function(t){return this.realSlotPrices[t]||{}},e.prototype.resetTargetingKeys=function(t){this.getBiddersProviders().forEach((function(e){e.getTargetingKeys(t).forEach((function(e){Fn.remove(e,t)}))})),Vn(Yl,"resetTargetingKeys",t)},e.prototype.call=function(){var t=this,e=L.get("bidders")||{},n=Ci();return e.prebid&&e.prebid.enabled&&(this.biddersProviders.prebid=new Hl(e.prebid,e.timeout)),hu.isEnabled()?this.biddersProviders.a9=new hu(e.a9,e.timeout):Vn(Yl,"A9 has been disabled"),this.getBiddersProviders().length?(this.getBiddersProviders().forEach((function(e){e.addResponseListener((function(){t.hasAllResponses()&&(Vn(Yl,"resolving call() promise because of having all responses"),n.resolve(null))})),e.call()})),Vn(Yl,"returning call() promise"),n):(Vn(Yl,"resolving call() promise because of no bidder providers"),Promise.resolve())},e.prototype.storeRealSlotPrices=function(t){return Wl(this,void 0,Promise,(function(){var e,n;return Kl(this,(function(r){switch(r.label){case 0:return e=this.realSlotPrices,n=t,[4,this.getCurrentSlotPrices(t)];case 1:return e[n]=r.sent(),[2]}}))}))},e.prototype.updateSlotTargeting=function(t){return Wl(this,void 0,Promise,(function(){var e;return Kl(this,(function(n){switch(n.label){case 0:return[4,this.getBidParameters(t)];case 1:return e=n.sent(),[4,this.storeRealSlotPrices(t)];case 2:return n.sent(),this.resetTargetingKeys(t),this.applyTargetingParams(t,e),Vn(Yl,"updateSlotTargeting",t,e),qe.emit(Ue.BIDDERS_BIDDING_DONE,{slotName:t,provider:"prebid"}),[2,e]}}))}))},e.prototype.hasAllResponses=function(){var t=this;return 0===Object.keys(this.biddersProviders).filter((function(e){return!t.biddersProviders[e].hasResponse()})).length},e}(Yn),Ql=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Jl=function(){function t(t){this.dwTracker=t}var e;return t.prototype.init=function(){var t=this;qe.on(Ue.AD_ENGINE_AD_RESIZED,(function(e){var n=e.slot,r=e.sizes;t.track(n,r.width,r.height)}),!1)},t.prototype.track=function(t,e,n){this.dwTracker.track({ad_width:e,ad_height:n,slot_id:t.getUid()||"",creative_id:t.creativeId||"",line_item_id:t.lineItemId||"",rv:t.getTargetingProperty("rv")||"",position:t.getMainPositionName(),slot_size:t.getCreativeSize()||""},"https://beacon.wikia-services.com/__track/special/adengadsizeinfo")},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Ql("design:paramtypes",["function"==typeof(e=void 0!==_r&&_r)?e:Object])],t)}(),Xl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zl=function(){function t(t){this.dwTracker=t}var e;return t.prototype.track=function(t){var e=new Date;this.dwTracker.track({prop_value:t,timestamp:e.getTime(),tz_offset:e.getTimezoneOffset()},"https://beacon.wikia-services.com/__track/special/adenglabradorinfo")},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Xl("design:paramtypes",["function"==typeof(e=void 0!==_r&&_r)?e:Object])],t)}(),tf=function(){return tf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},tf.apply(this,arguments)},ef=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nf="https://beacon.wikia-services.com/__track/special/adengadinfo",rf=q("[AdEngine] Ad clicked",{_as:"props",_p:void 0}),of=function(){function t(t,e,n,r){this.labradorTracker=t,this.adSizeTracker=e,this.dwTracker=n,this.bidders=r}var e,n,r,o;return t.prototype.execute=function(){this.porvataTracker(),this.slotTracker(),this.viewabilityTracker(),this.bidderTracker(),this.postmessageTrackingTracker(),this.experimentGroupsTracker(),this.interventionTracker(),this.adClickTracker(),this.ctaTracker(),this.identityTracker(),this.keyValsTracker(),this.adSizeTracker.init()},t.prototype.porvataTracker=function(){var t=this;qe.on(Ue.VIDEO_PLAYER_TRACKING,(function(e){var n=e.eventInfo;t.dwTracker.track(n,"https://beacon.wikia-services.com/__track/special/adengplayerinfo")}),!1),Ws.register()},t.prototype.slotTracker=function(){var t=this,e=null;(L.get("bidders.prebid.enabled")||L.get("bidders.a9.enabled"))&&(e=this.bidders),cc.onChangeStatusToTrack.push("top-conflict"),cc.register((function(e){var n=e.data;t.dwTracker.track(n,nf)}),{bidders:e})},t.prototype.viewabilityTracker=function(){var t=this;hc.register((function(e){var n=e.data;return t.dwTracker.track(n,"https://beacon.wikia-services.com/__track/special/adengviewability"),n}))},t.prototype.ctaTracker=function(){var t=this;vc.register((function(e){var n=e.data;t.dwTracker.track(n,nf)}))},t.prototype.adClickTracker=function(){var t=this;mc.register((function(e){var n=e.data;qe.dispatch(rf(n)),t.dwTracker.track(n,nf)}))},t.prototype.bidderTracker=function(){var t=this;(L.get("bidders.prebid.enabled")||L.get("bidders.a9.enabled"))&&Ec.register((function(e){var n=e.data;t.dwTracker.track(n,"https://beacon.wikia-services.com/__track/special/adengbidders")}))},t.prototype.postmessageTrackingTracker=function(){var t=this;new Nc(["payload","target"]).register((function(e){return n=t,r=void 0,i=function(){var t,n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(t=e.target,n=e.payload,t){case xc.GoogleAnalytics:window.ga("tracker1.send","event",n.category,n.action,n.label,"number"==typeof n.value?n.value.toString():n.value);break;case xc.DataWarehouse:this.dwTracker.track(n)}return[2,e]}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{c(i.next(t))}catch(t){e(t)}}function s(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i}),function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([window.origin],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(Vi),!1))},t.prototype.experimentGroupsTracker=function(){var t=On.make().getSamplingResults().join(";");t&&this.labradorTracker.track(t)},t.prototype.interventionTracker=function(){Lc.register()},t.prototype.identityTracker=function(){var t=this;qe.on(Ue.IDENTITY_PARTNER_DATA_OBTAINED,(function(e){t.dwTracker.track({partner_name:e.payload.partnerName,partner_identity_id:e.payload.partnerIdentityId},"https://beacon.wikia-services.com/__track/special/identityinfo")}),!1)},t.prototype.keyValsTracker=function(){var t=tf({},Fn.dump());delete t.AU_SEG,this.dwTracker.track({keyvals:JSON.stringify(t)},"https://beacon.wikia-services.com/__track/special/keyvals")},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),ef("design:paramtypes",["function"==typeof(e=void 0!==Zl&&Zl)?e:Object,"function"==typeof(n=void 0!==Jl&&Jl)?n:Object,"function"==typeof(r=void 0!==_r&&_r)?r:Object,"function"==typeof(o=void 0!==$l&&$l)?o:Object])],t)}(),af=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sf=function(){function t(t){this.bidders=t}var e;return t.prototype.execute=function(){var t=this;qe.on(Ue.AD_ENGINE_SLOT_ADDED,(function(e){var n=e.slot;Vn("ad-engine","Added ad slot ".concat(n.getSlotName())),t.bidders.updateSlotTargeting(n.getSlotName())}),!1)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),af("design:paramtypes",["function"==typeof(e=void 0!==$l&&$l)?e:Object])],t)}(),cf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uf=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},lf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ff=function(){function t(t){this.container=t}var e;return t.prototype.execute=function(t,e,n){return r=this,o=void 0,a=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:return this.isCompoundProcessStep(t)?[4,this.container.get(t.process).execute(t.payload)]:[3,2];case 1:case 3:case 5:return e.sent(),[2,n()];case 2:return this.isDiProcess(t)?[4,this.container.get(t).execute()]:[3,4];case 4:return[4,t()]}}))},new((i=Promise)||(i=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,s)}c((a=a.apply(r,o||[])).next())}));var r,o,i,a},t.prototype.isCompoundProcessStep=function(t){return"object"==typeof t&&"process"in t&&"function"==typeof t.process.prototype.execute},t.prototype.isDiProcess=function(t){return"function"==typeof t.prototype.execute},uf([h({scope:"Transient"}),lf("design:paramtypes",["function"==typeof(e=void 0!==S&&S)?e:Object])],t)}(),pf=function(t){function e(e){return t.call(this,e.get(ff))||this}var n;return cf(e,t),uf([h({scope:"Transient"}),lf("design:paramtypes",["function"==typeof(n=void 0!==S&&S)?n:Object])],e)}(Ac),df=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},hf=function(){function t(t){this.container=t}var e;return t.prototype.execute=function(t){var e=this;return Promise.all(t.map((function(t){return e.container.get(pf).add(t).execute()}))).then()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({scope:"Transient"}),df("design:paramtypes",["function"==typeof(e=void 0!==S&&S)?e:Object])],t)}(),yf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vf=function(){function t(t){this.container=t}var e;return t.prototype.execute=function(t){return e=this,n=void 0,o=function(){var e,n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:return[4,this.getResult(t.condition)];case 1:return e=r.sent(),(n=e?t.yesStep:t.noStep)?[2,this.container.get(pf).add(n).execute()]:[2]}}))},new((r=Promise)||(r=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o},t.prototype.getResult=function(t){return this.isDiCondition(t)?this.container.get(t).execute():t()},t.prototype.isDiCondition=function(t){return"function"==typeof t.prototype.execute},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({scope:"Transient"}),yf("design:paramtypes",["function"==typeof(e=void 0!==S&&S)?e:Object])],t)}(),gf={adUnitId:"/{custom.dfpId}/{custom.serverPrefix}.{slotConfig.group}/{slotConfig.adProduct}{slotConfig.slotNameSuffix}/{state.deviceType}/{targeting.skin}-{targeting.original_host}-{targeting.s2}/{custom.wikiIdentifier}-{targeting.s0}",bidders:{enabled:!1,timeout:2e3,a9:{enabled:!1,videoEnabled:!1,amazonId:"3115",bidsRefreshing:{slots:["featured","incontent_boxad_1"]}},prebid:{enabled:!1,bidsRefreshing:{slots:["incontent_boxad_1"]}}},custom:{dbNameForAdUnit:"_not_a_top1k_wiki",dfpId:"5441",serverPrefix:"wka1b",wikiIdentifier:"_not_a_top1k_wiki"},events:{pushOnScroll:{ids:[],threshold:100,nativoThreshold:200}},slots:{},vast:{adUnitId:"/{custom.dfpId}/{custom.serverPrefix}.{slotConfig.group}/{slotConfig.adProduct}{slotConfig.slotNameSuffix}/{state.deviceType}/{targeting.skin}-{targeting.original_host}-{targeting.s2}/{custom.wikiIdentifier}-{targeting.s0}",adUnitIdWithDbName:"/{custom.dfpId}/{custom.serverPrefix}.{slotConfig.group}/{slotConfig.adProduct}{slotConfig.slotNameSuffix}/{state.deviceType}/{targeting.skin}-{targeting.original_host}-{targeting.s2}/{custom.dbNameForAdUnit}-{targeting.s0}"},templates:{ignoreNavbarHeight:!0},services:{durationMedia:{libraryUrl:"//tag.durationmedia.net/sites/10651/dm.js"},iasPublisherOptimization:{slots:["top_leaderboard","top_boxad","incontent_boxad_1","bottom_leaderboard","featured","incontent_player"]},externalLogger:{endpoint:"/wikia.php?controller=AdEngine&method=postLog"},instantConfig:{endpoint:"https://services.fandom.com",appName:"fandomdesktop",fallback:"https://script.wikia.nocookie.net/fandom-ae-assets/icbm/prod/icbm_state_fandomdesktop.json"}},slotGroups:{VIDEO:["FEATURED","OUTSTREAM","UAP_BFAA","UAP_BFAB","VIDEO"]},src:["gpt"],options:{customAdLoader:{globalMethodName:"loadCustomAd"},video:{iasTracking:{enabled:!1,config:{anId:"930616",campId:"640x480"}}},wad:{enabled:!1,blocking:!1,btRec:{enabled:!1}}}},bf="Anyclip",mf=function(){return void 0!==window[wf.SUBSCRIBE_FUNC_NAME]},wf=function(){function t(t,e,n,r,o,i,a){void 0===t&&(t="fandomcom"),void 0===e&&(e="001w000001Y8ud2_19593"),void 0===n&&(n="//player.anyclip.com/anyclip-widget/lre-widget/prod/v1/src/lre.js"),void 0===i&&(i=250),void 0===a&&(a=4),this.pubname=t,this.widgetname=e,this.libraryUrl=n,this.isApplicable=r,this.tracker=o,this.timeoutForGlobal=i,this.retriesForGlobal=a,Vn(bf,"Anyclip initialized",this.pubname,this.widgetname,this.libraryUrl)}return Object.defineProperty(t.prototype,"params",{get:function(){return{pubname:this.pubname,widgetname:this.widgetname}},enumerable:!1,configurable:!0}),t.prototype.loadPlayerAsset=function(){var e=this;if("function"!=typeof this.isApplicable||this.isApplicable()){Vn(bf,"loading Anyclip asset",this.libraryUrl);var n=document.getElementById("incontent_player");return zn.loadScript(this.libraryUrl,"text/javascript",!0,n,this.params).then((function(){null==n||n.classList.remove("hide"),Vn(bf,"ready"),e.waitForSubscribeReady().then((function(n){Vn(bf,"Anyclip global subscribe function set",n,window[t.SUBSCRIBE_FUNC_NAME]),n?e.tracker.register():Vn(bf,"Anyclip global subscribe function not set")}))}))}Vn(bf,"Anyclip is not applicable - aborting")},t.prototype.waitForSubscribeReady=function(){return new Hn(mf,this.retriesForGlobal,this.timeoutForGlobal).until()},t.SUBSCRIBE_FUNC_NAME="lreSubscribe",t}(),Sf="Anyclip",_f=function(){function t(t){this.subscribeFuncName=t,this.trackingEvents={WidgetLoad:"ready",adImpression:"impression",adSkipped:"skipped",adFirstQuartile:"first_quartile",adMidpoint:"midpoint",adThirdQuartile:"third_quartile",adComplete:"completed",adClick:"clicked"}}return t.prototype.register=function(){this.setupAnyclipListeners()},t.prototype.setupAnyclipListeners=function(){var t=this,e=window[this.subscribeFuncName];"function"==typeof e?Object.keys(this.trackingEvents).map((function(n){e((function(e){return t.track(n,e)}),n)})):Vn(Sf,"Given subscribe function is not a function",this.subscribeFuncName,e)},t.prototype.track=function(t,e){var n=qs.getEventData(this.getVideoData(t));Vn(Sf,"Anyclip ".concat(t," event data: "),e,this.getVideoData(t),n),Hs.emit(n),Hs.emitVideoEvent(n)},t.prototype.getVideoData=function(t){return{ad_error_code:0,event_name:this.trackingEvents[t],player:"anyclip",ad_product:"outstream",position:"incontent_player",line_item_id:"unknown",creative_id:"unknown"}},t}(),Ef=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ef(e,t),e.prototype.call=function(){L.get("services.anyclip.loadOnPageLoad")?this.loadAnyclipIfEnabled():this.registerAnyclipToLoadOnUapLoadStatus()},e.prototype.loadAnyclipIfEnabled=function(){!L.get("custom.hasFeaturedVideo")&&this.isEnabled("services.anyclip.enabled",!1)&&new wf(L.get("services.anyclip.pubname"),L.get("services.anyclip.widgetname"),L.get("services.anyclip.libraryUrl"),L.get("services.anyclip.isApplicable"),new _f(wf.SUBSCRIBE_FUNC_NAME)).loadPlayerAsset()},e.prototype.registerAnyclipToLoadOnUapLoadStatus=function(){var t=this,e="incontent_player";qe.on(Ue.AD_ENGINE_UAP_LOAD_STATUS,(function(n){var r=n.isLoaded,o=n.adProduct;if(!r&&"ruap"!==o){if(!L.get("services.anyclip.latePageInject"))return void t.initIncontentPlayer(Oa.get(e));qe.on(Ue.ANYCLIP_LATE_INJECT,(function(){t.initIncontentPlayer(Oa.get(e))}))}}))},e.prototype.initIncontentPlayer=function(t){t?(mi.updateOnCreate(t),this.loadAnyclipIfEnabled()):Vn("AnyclipPlayerSetup","No incontent player - aborting")},e}(Yn),Tf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tf(e,t),e.prototype.call=function(){Vn("GPT Setup","Called"),Vn("gpt-provider","loading GPT..."),zn.loadScript("//www.googletagservices.com/tag/js/gpt.js"),(new Sa).init(),qe.onSlotEvent(Ra.SLOT_RENDERED_EVENT,(function(t){t.slot.removeClass("default-height")}))},e}(Yn),Pf=function(){function t(){}return t.prototype.isEnabled=function(t){return t.isIasTrackingEnabled()},t.prototype.load=function(){return this.scriptPromise||(this.scriptPromise=zn.loadScript("//static.adsafeprotected.com/vans-adapter-google-ima.js","text/javascript",!0,"first")),this.scriptPromise},t.prototype.init=function(t,e){return this.load().then((function(){var n=L.get("options.video.iasTracking.config"),r=e.getSlotName(),o=Oa.get(r).getTargeting(),i=o.src,a=o.pos,s=o.loc;n.custom=i,n.custom2=a,n.custom3=s,Vn("ias-video-tracking","ready"),window.googleImaVansAdapter.init(window.google,t.getAdsManager(),t.dom.getVideoContainer(),n)}))},t}(),Cf=new Pf;function If(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ee(t);return Qt((function(e,r){for(var o=t.length,i=new Array(o),a=t.map((function(){return!1})),s=!1,c=function(e){ye(t[e]).subscribe(Jt(r,(function(t){i[e]=t,s||a[e]||(a[e]=!0,(s=a.every(qt))&&(a=null))}),xt))},u=0;u<o;u++)c(u);e.subscribe(Jt(r,(function(t){if(s){var e=dt([t],pt(i));r.next(n?n.apply(void 0,dt([],pt(e))):e)}})))}))}var kf=new(function(){function t(){}return t.prototype.getLastNumber=function(t){var e="";return t.forEach((function(t){isNaN(parseInt(t,10))||(e=t)})),e},t.prototype.getAdInfo=function(t){var e={lineItemId:void 0,creativeId:void 0,contentType:void 0};if(!t)return e;e.lineItemId=t.getAdId(),e.creativeId=t.getCreativeId(),e.contentType=t.getContentType();var n=t.getWrapperAdIds()||[];n&&n.length&&(e.lineItemId=this.getLastNumber(n));var r=t.getWrapperCreativeIds()||[];r&&r.length&&(e.creativeId=this.getLastNumber(r));var o=t.getWrapperAdSystems()||[];return o&&-1!==o.indexOf("AdSense/AdX")&&(e.lineItemId=ji,e.creativeId=ji),e},t.prototype.parse=function(t,e){var n,r,o;void 0===e&&(e={});var i=_.getValues(t?t.substr(1+t.indexOf("?")):"?"),a=_.getValues(encodeURI(i.cust_params));if(e.imaAd){var s=this.getAdInfo(e.imaAd);n=s.contentType,r=s.creativeId,o=s.lineItemId}return{contentType:n,creativeId:r,customParams:a,lineItemId:o,position:i.vpos,size:i.sz}},t}()),xf=Array.isArray,Rf=Object.getPrototypeOf,Nf=Object.prototype,Df=Object.keys;function Lf(t){if(1===t.length){var e=t[0];if(xf(e))return{args:e,keys:null};if((r=e)&&"object"==typeof r&&Rf(r)===Nf){var n=Df(e);return{args:n.map((function(t){return e[t]})),keys:n}}}var r;return{args:t,keys:null}}function jf(t,e){return t.reduce((function(t,n,r){return t[n]=e[r],t}),{})}function Vf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oe(t),r=Ee(t),o=Lf(t),i=o.args,a=o.keys;if(0===i.length)return Ie([],n);var s=new Kt(Uf(i,n,a?function(t){return jf(a,t)}:qt));return r?s.pipe(ee(r)):s}function Uf(t,e,n){return void 0===n&&(n=qt),function(r){Mf(e,(function(){for(var o=t.length,i=new Array(o),a=o,s=o,c=function(o){Mf(e,(function(){var c=Ie(t[o],e),u=!1;c.subscribe(Jt(r,(function(t){i[o]=t,u||(u=!0,s--),s||r.next(n(i.slice()))}),(function(){--a||r.complete()})))}),r)},u=0;u<o;u++)c(u)}),r)}}function Mf(t,e,n){t?ge(n,t,e):e()}function zf(){return me(1)}function Bf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return zf()(Ie(t,Oe(t)))}function Ff(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oe(t);return Qt((function(e,r){(n?Bf(t,e,n):Bf(t,e)).subscribe(r)}))}function Gf(t,e,n,r,o){return function(i,a){var s=n,c=e,u=0;i.subscribe(Jt(a,(function(e){var n=u++;c=s?t(c,e,n):(s=!0,e),r&&a.next(c)}),o&&function(){s&&a.next(c),a.complete()}))}}function Hf(t,e){return Qt(Gf(t,e,arguments.length>=2,!0))}function qf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oe(t);return Ie(t,n)}function Wf(){return Qt((function(t,e){var n=null;t._refCount++;var r=Jt(e,void 0,void 0,void 0,(function(){if(!t||t._refCount<=0||0<--t._refCount)n=null;else{var r=t._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),e.unsubscribe()}}));t.subscribe(r),r.closed||(n=t.connect())}))}var Kf=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,$t(e)&&(r.lift=e.lift),r}return ut(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},e.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new wt;var n=this.getSubject();e.add(this.source.subscribe(Jt(n,void 0,(function(){t._teardown(),n.complete()}),(function(e){t._teardown(),n.error(e)}),(function(){return t._teardown()})))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e},e.prototype.refCount=function(){return Wf()(this)},e}(Kt),Yf={connector:function(){return new oe}};function $f(t,e){void 0===e&&(e=Yf);var n=e.connector;return Qt((function(e,r){var o,i=n();ye(t((o=i,new Kt((function(t){return o.subscribe(t)}))))).subscribe(r),r.add(e.subscribe(i))}))}function Qf(t){return t?function(e){return $f(t)(e)}:function(t){return function(t,e){var n=vt(t)?t:function(){return t};return vt(e)?$f(e,{connector:n}):function(t){return new Kf(t,n)}}(new oe)(t)}}function Jf(t,e){return t===e}function Xf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.pipe(Le((function(e){var n=e.name;return t.includes(n)})))}}function Zf(t){var e=qf({name:"init",payload:void 0}),n=function(t){return t.getConfig().itemReady?qf({name:"lateReady",payload:void 0}):qf()}(t),r=tp(t,"adRequest"),o=tp(t,"adError").pipe(ep(t),function(t){var e=ke(qf({payload:{tag:null}}),t.pipe(Zt((function(t){return t.payload}))));return function(t){return t.pipe(If(e),Zt((function(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),n=e[0],r=e[1];return Object.assign({},r,function(t){for(var e in t)void 0===t[e]&&delete t[e];return t}(n))})))}}(r));return ke(e,n,o,r,tp(t,"adImpression"),tp(t,"adBlock"),tp(t,"adsManager"),tp(t,"beforePlay").pipe(ep(t)),tp(t,"videoMidPoint"),tp(t,"beforeComplete"),tp(t,"complete"),tp(t,"ready"),tp(t,"adClick"),tp(t,"adStarted"),tp(t,"adViewableImpression"),tp(t,"adFirstQuartile"),tp(t,"adMidPoint"),tp(t,"adThirdQuartile"),tp(t,"adComplete"),tp(t,"adSkipped"),tp(t,"videoStart"),tp(t,"error"))}function tp(t,e){return new Kt((function(n){t.on(e,(function(t){n.next({name:e,payload:t})}))})).pipe(Qf(),Wf())}function ep(t){return function(e){return e.pipe(Zt((function(e){return{event:e,playlistItem:t.getPlaylistItem()||{}}})),(void 0===r&&(r=qt),n=null!=(n=function(t,e){return t.playlistItem.mediaid===e.playlistItem.mediaid})?n:Jf,Qt((function(t,e){var o,i=!0;t.subscribe(Jt(e,(function(t){var a=r(t);!i&&n(o,a)||(i=!1,o=a,e.next(t))})))}))),Zt((function(t){return t.event})));var n,r}}var np=function(){return np=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},np.apply(this,arguments)},rp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};var op=function(){return op=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},op.apply(this,arguments)};function ip(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.pipe(Le((function(e){var n=e.name;return t.includes(n)})))}}var ap,sp=function(){function t(){}return t.prototype.handle=function(t){var e=this,n=t.stream$;return this.isEnabled()?n.pipe(ip("adStarted"),Le((function(t){return"preroll"===t.state.adInVideo})),Hi((function(){e.track({c1:"1",c2:6177433,c5:"09"})}))):we},t.prototype.isEnabled=function(){return!!L.get("options.video.comscoreJwpTracking")&&(L.get("options.geoRequiresConsent")?L.get("options.trackingOptIn"):!L.get("options.geoRequiresSignal")||L.get("options.optOutSale"))},t.prototype.track=function(t){var e;null===(e=window.COMSCORE)||void 0===e||e.beacon(t)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({scope:"Transient"})],t)}(),cp=function(){function t(){}return t.prototype.getVastAttributesFromVastParams=function(t,e){var n=e.customParams,r={};return Object.keys(n).forEach((function(t){var e=n[t];if("string"==typeof e){var o=e.split(",");o.length>1&&(e=o)}r[t]=e})),{"data-vast-content-type":e.contentType,"data-vast-creative-id":e.creativeId,"data-vast-line-item-id":e.lineItemId,"data-vast-position":e.position,"data-vast-size":e.size,"data-vast-status":t,"data-vast-params":JSON.stringify(r)}},t.prototype.getVastAttributes=function(t,e,n){var r=kf.parse(t,{imaAd:n});return this.getVastAttributesFromVastParams(e,r)},t}(),up=new cp,lp=function(){return lp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},lp.apply(this,arguments)},fp=function(){function t(t,e,n){this.adSlot=t,this.jwplayer=e,this.targeting=n,this.calledOnce=!1}return t.prototype.awaitIasTracking=function(t){return e=this,n=void 0,o=function(){var e;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:if(!this.isIasTrackingEnabled())return[2,t];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Cf.load()];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),console.error(e),[3,4];case 4:return[2,t]}}))},new((r=Promise)||(r=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o},t.prototype.isIasTrackingEnabled=function(){return L.get("options.video.iasTracking.enabled")},t.prototype.initIasVideoTracking=function(t){var e=t.adsManager,n=t.videoElement,r=L.get("options.video.iasTracking.config");window.googleImaVansAdapter.init(google,e,n,r)},t.prototype.setSlotParams=function(t){this.adSlot.lineItemId=t.lineItemId,this.adSlot.creativeId=t.creativeId,this.adSlot.creativeSize=t.size},t.prototype.setSlotElementAttributes=function(t,e){var n=up.getVastAttributesFromVastParams(t,e),r=this.adSlot.element;Object.keys(n).forEach((function(t){return r.setAttribute(t,n[t])}))},t.prototype.emitVideoAdError=function(t){21009===t?this.adSlot.setStatus(Ra.STATUS_COLLAPSE):this.adSlot.setStatus(Ra.STATUS_ERROR),this.adSlot.emit(Ra.VIDEO_AD_ERROR)},t.prototype.emitVideoAdRequest=function(){this.adSlot.emit(Ra.VIDEO_AD_REQUESTED)},t.prototype.emitVideoAdImpression=function(){this.adSlot.setStatus(Ra.STATUS_SUCCESS),this.adSlot.emit(Ra.VIDEO_AD_IMPRESSION)},t.prototype.updateVideoProperties=function(t){this.adSlot.setConfigProperty("videoDepth",t.depth),this.adSlot.setTargetingConfigProperty("rv",t.rv)},t.prototype.shouldPlayPreroll=function(t,e){return void 0===e&&(e=null),this.canAdBePlayed(t,e)},t.prototype.shouldPlayMidroll=function(t,e){return void 0===e&&(e=null),L.get("options.video.isMidrollEnabled")&&this.canAdBePlayed(t,e)},t.prototype.shouldPlayPostroll=function(t,e){return void 0===e&&(e=null),L.get("options.video.isPostrollEnabled")&&this.canAdBePlayed(t,e)},t.prototype.canAdBePlayed=function(t,e){void 0===e&&(e=null);var n=t>1;return this.adSlot.isEnabled()&&(!n||n&&this.shouldPlayAdOnNextVideo(t,e))},t.prototype.shouldPlayAdOnNextVideo=function(e,n){void 0===n&&(n=null);var r=L.get("options.video.adsOnNextVideoFrequency");return Vn(t.LOG_GROUP_NAME,e,n),L.get("options.video.playAdsOnNextVideo")&&r>0&&(e-1)%r==0},t.prototype.playVideoAd=function(t,e){var n=this;this.adSlot.setConfigProperty("audio",!e.mute);var r=this.getVastUrl(t,e);L.get("options.video.pauseJWPlayerAd")&&document.addEventListener("visibilitychange",(function(){n.jwplayer.pauseAd("visible"!==document.visibilityState)}),!1),this.jwplayer.playAd(r)},t.prototype.getVastUrl=function(t,e){return this.calledOnce?(e.rv++,this.updateVideoProperties(e)):this.calledOnce=!0,Wc(0,this.adSlot.getSlotName(),{correlator:e.correlator,vpos:t,targeting:lp({rv:this.getRvKeyVal(e.rv),v1:e.playlistItem.mediaid||""},this.targeting)})},t.prototype.getRvKeyVal=function(t){return 1===t?"1":[t.toString(),"2+"]},t.LOG_GROUP_NAME="jwplayer-helper",t}(),pp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dp=function(t){function e(e,n,r,o){void 0===o&&(o=window.sponsoredVideos);var i=t.call(this,e,n,r)||this;return i.adSlot=e,i.jwplayer=n,i.targeting=r,i.sponsoredVideos=o,i}return pp(e,t),e.prototype.shouldPlayPreroll=function(t,e){return this.canAdBePlayed(t,e)},e.prototype.shouldPlayMidroll=function(t,e){return L.get("options.video.isMidrollEnabled")&&this.canAdBePlayed(t,e)},e.prototype.shouldPlayPostroll=function(t,e){return L.get("options.video.isPostrollEnabled")&&this.canAdBePlayed(t,e)},e.prototype.canAdBePlayed=function(t,e){return this.adSlot.isEnabled()&&this.shouldPlayAdOnNextVideo(t,e)},e.prototype.shouldPlayAdOnNextVideo=function(t,e){Vn(fp.LOG_GROUP_NAME,t,e,this.sponsoredVideos);var n=_.get("force_sponsored_video");if(n&&(this.sponsoredVideos=[n],this.log("Overwritting window.sponsoredVideo!",this.sponsoredVideos)),!Array.isArray(this.sponsoredVideos)){this.log("Incorrect window.sponsoredVideos, using fallback to Pandora!",this.sponsoredVideos);var r=Fc()+"article-video/jw-platform-api/get-sponsored-videos";this.sponsoredVideos=JSON.parse(zn.loadSync(r))}return this.sponsoredVideos?L.get("options.video.playAdsOnNextVideo")&&-1===this.sponsoredVideos.indexOf(e):(Gn.log("JWPlayer - no sponsored videos",{currentMediaId:e,videoPlaysCounter:t}),!1)},e.prototype.log=function(t,e){Vn(fp.LOG_GROUP_NAME,t,e)},e}(fp),hp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yp=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.adSlot=e,o.jwplayer=n,o.targeting=r,o}return hp(e,t),e.prototype.shouldPlayAdOnNextVideo=function(t){return L.get("options.video.playAdsOnNextVideo")&&2!==t},e}(fp),vp=new(function(){function t(){this.logGroup="jwp-player-inhibitor",this.maxDelayTimeoutInMs=0,this.initialized=Ci()}return t.prototype.isEnabled=function(){return this.videoLines||(this.videoLines=L.get("options.video.uapJWPLineItemIds")||[]),this.maxDelayTimeoutInMs||(this.maxDelayTimeoutInMs=L.get("options.jwpMaxDelayTimeout")||0),L.get("custom.hasFeaturedVideo")&&L.get("options.video.isUAPJWPEnabled")&&this.maxDelayTimeoutInMs>0&&this.videoLines.length>0},t.prototype.get=function(){return this.isEnabled()||this.initialized.resolve(null),this.initialized},t.prototype.isRequiredToRun=function(){return this.isEnabled()},t.prototype.getDelayTimeoutInMs=function(){return this.isEnabled()?this.maxDelayTimeoutInMs:0},t.prototype.resolve=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.isEnabled()?(t&&e&&this.videoLines.includes(t)?(qa.updateSlotsTargeting(t,e),Vn(this.logGroup,"video ad is from UAP:JWP campaign - updating key-vals")):Vn(this.logGroup,"video ad is not from UAP:JWP campaign"),this.initialized.resolve(null)):Vn(this.logGroup,"is disabled")},t}()),gp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bp=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},mp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Vn.apply(e,bp(["jwplayer-ads-factory"],gp(t),!1))},wp=function(){function t(){}return t.prototype.handle=function(t){var e=t.jwplayer,n=t.adSlot,r=t.targeting,o=t.stream$;return this.stream$=o,this.helper=this.createHelper(n,e,r),ke(this.adError(),this.adRequest(),this.adImpression(),this.adsManager(),this.beforePlay(),this.videoMidPoint(),this.beforeComplete())},t.prototype.createHelper=function(t,e,n){var r=L.get("options.video.forceVideoAdsOnAllVideosExceptSecond");return L.get("options.video.forceVideoAdsOnAllVideosExceptSponsored")?(mp("Creating JwplayerHelperSkippingSponsoredVideo..."),new dp(t,e,n)):r?(mp("Creating JWPlayerHelperSkippingSecondVideo..."),new yp(t,e,n)):(mp("Creating JWPlayerHelper..."),new fp(t,e,n))},t.prototype.adRequest=function(){var t=this;return this.stream$.pipe(ip("adRequest"),Hi((function(e){var n=e.state;t.helper.emitVideoAdRequest(),t.helper.updateVideoProperties(n)})))},t.prototype.adImpression=function(){var t=this;return this.stream$.pipe(ip("adImpression"),Hi((function(e){var n=e.state;t.helper.setSlotParams(n.vastParams),t.helper.setSlotElementAttributes("success",n.vastParams),t.helper.emitVideoAdImpression(),vp.resolve(n.vastParams.lineItemId,n.vastParams.creativeId)})))},t.prototype.adError=function(){var t=this;return this.stream$.pipe(ip("adError"),Hi((function(e){var n=e.payload,r=e.state;mp("ad error message: ".concat(n.message)),t.helper.setSlotParams(r.vastParams),t.helper.setSlotElementAttributes("error",r.vastParams),t.helper.emitVideoAdError(n.adErrorCode),vp.resolve()})))},t.prototype.adsManager=function(){var t=this;return this.stream$.pipe(ip("adsManager"),Le((function(){return t.helper.isIasTrackingEnabled()})),Hi((function(e){var n=e.payload;return t.helper.initIasVideoTracking(n)})))},t.prototype.beforePlay=function(){var t=this;return this.stream$.pipe(ip("beforePlay"),Hi((function(e){var n=e.state;return t.helper.updateVideoProperties(n)})),Le((function(e){var n,r=e.state;return t.helper.shouldPlayPreroll(r.depth,null===(n=null==r?void 0:r.playlistItem)||void 0===n?void 0:n.mediaid)})),be((function(e){return t.helper.awaitIasTracking(e)})),Hi((function(e){var n=e.state;return t.helper.playVideoAd("preroll",n)})))},t.prototype.videoMidPoint=function(){var t=this;return this.stream$.pipe(ip("videoMidPoint"),Le((function(e){var n,r=e.state;return t.helper.shouldPlayMidroll(r.depth,null===(n=null==r?void 0:r.playlistItem)||void 0===n?void 0:n.mediaid)})),Hi((function(e){var n=e.state;return t.helper.playVideoAd("midroll",n)})))},t.prototype.beforeComplete=function(){var t=this;return this.stream$.pipe(ip("beforeComplete"),Le((function(e){var n,r=e.state;return t.helper.shouldPlayPostroll(r.depth,null===(n=null==r?void 0:r.playlistItem)||void 0===n?void 0:n.mediaid)})),Hi((function(e){var n=e.state;return t.helper.playVideoAd("postroll",n)})))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({scope:"Transient"})],t)}(),Sp={init:"init",lateReady:"late_ready",ready:"ready",adBlock:"blocked",adClick:"clicked",adRequest:"loaded",adError:"error",adImpression:"impression",adStarted:"started",adViewableImpression:"viewable_impression",adFirstQuartile:"first_quartile",adMidPoint:"midpoint",adThirdQuartile:"third_quartile",adComplete:"completed",adSkipped:"skipped",videoStart:"content_started",complete:"content_completed",error:"content_error"},_p=function(){function t(){this.lastKnownAdData={contentType:"",creativeId:"",lineItemId:""}}return t.prototype.handle=function(t){var e=this,n=t.adSlot,r=t.stream$;return this.adSlot=n,r.pipe(Le((function(t){return e.isTrackingEvent(t)})),Hi((function(t){return e.track(t)})))},t.prototype.track=function(t){var e=this.getVideoData(t),n=qs.getEventData(e);Hs.emit(n),Hs.emitVideoEvent(t)},t.prototype.isTrackingEvent=function(t){return Object.keys(Sp).includes(t.name)},t.prototype.getVideoData=function(t){return this.lastKnownAdData.contentType=t.state.vastParams.contentType||this.lastKnownAdData.contentType,this.lastKnownAdData.creativeId=t.state.vastParams.creativeId||this.lastKnownAdData.creativeId,this.lastKnownAdData.lineItemId=t.state.vastParams.lineItemId||this.lastKnownAdData.lineItemId,{ad_error_code:this.getErrorCode(t),ad_product:this.getAdProduct(t),audio:t.state.mute?0:1,ctp:this.getCtp(t),content_type:this.lastKnownAdData.contentType,creative_id:this.lastKnownAdData.creativeId,line_item_id:this.lastKnownAdData.lineItemId,event_name:Sp[t.name],player:"jwplayer",position:this.adSlot.config.slotName,user_block_autoplay:this.getUserBlockAutoplay(),video_id:t.state.playlistItem.mediaid||"",video_number:t.state.depth||""}},t.prototype.getErrorCode=function(t){return["adError","error"].includes(t.name)?t.payload&&t.payload.code:0},t.prototype.getAdProduct=function(t){switch(t.state.adInVideo){case"none":return this.adSlot.config.slotName;case"midroll":case"postroll":case"preroll":return"".concat(this.adSlot.config.trackingKey,"-").concat(t.state.adInVideo);default:return this.adSlot.config.trackingKey}},t.prototype.getCtp=function(t){return t.state.depth>1||t.state.config.autostart?0:1},t.prototype.getUserBlockAutoplay=function(){switch(T.get("featuredVideoAutoplay")||"-1"){case"1":return 1;case"0":return 0;default:return-1}},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({scope:"Transient"})],t)}(),Ep=function(){function t(){}return t.prototype.manage=function(){this.onPlayerReady().pipe(be((function(t){return ke((new wp).handle(t),(new _p).handle(t),(new sp).handle(t))}))).subscribe()},t.prototype.onPlayerReady=function(){var t,e=this;return qe.action$.pipe(Fe(gs),(t=function(){e.loadIasTrackerIfEnabled()},function(e){return ke(e.pipe(je(1),Hi(t,undefined,undefined),Le((function(){return!1}))),e)}),Zt((function(t){var n=t.options,r=t.targeting,o=t.playerKey,i=window[o],a=e.createAdSlot(n,i),s=function(t){var e=Zf(t),n=function(t,e){var n=t.pipe(Xf("beforePlay"),(function(t){return t.pipe(Hf((function(t){return{correlator:Math.round(1e10*Math.random()),depth:t.depth+1}}),{correlator:0,depth:0}))}),Ff({depth:0,correlator:0})),r=ke(t.pipe(Xf("adRequest"),(function(t){return t.pipe(Hf((function(t){return t+1}),0))}),Ff(1))),o=t.pipe(Xf("adRequest","adError","adImpression"),(function(t){return t.pipe(Zt((function(t){return kf.parse(t.payload.tag,{imaAd:t.payload.ima&&t.payload.ima.ad})})))}),Ff(kf.parse(null))),i=ke(t.pipe(Xf("beforePlay"),Zt((function(){return"preroll"}))),t.pipe(Xf("videoMidPoint"),Zt((function(){return"midroll"}))),t.pipe(Xf("beforeComplete"),Zt((function(){return"postroll"}))));return Vf([n,r,o,ke(t.pipe(Xf("adStarted"),If(i),Zt((function(t){return rp(t,2)[1]}))),t.pipe(Xf("complete"),Zt((function(){return"none"})),Ff("bootstrap"))),t.pipe(Zt((function(){return{playlistItem:e.getPlaylistItem()||{sources:[],tracks:[],variations:[],images:[],allSources:[]},config:e.getConfig(),mute:e.getMute()}})))]).pipe(Zt((function(t){var e=rp(t,5),n=e[0],r=e[1],o=e[2],i=e[3],a=e[4];return np(np(np({},a),n),{vastParams:o,adInVideo:i,rv:r})})),De(1))}(e,t);return e.pipe(If(n),Zt((function(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),n=e[0],r=e[1];return op(op({},n),{state:r})})))}(i);return{jwplayer:i,adSlot:a,targeting:r,stream$:s}})))},t.prototype.createAdSlot=function(t,e){var n=t.slotName||(t.featured?"featured":"video"),r=Oa.get(n)||new Ra({id:n}),o=e&&e.getContainer&&e.getContainer();return r.element=o&&o.parentNode,r.setConfigProperty("audio",!e.getMute()),r.setConfigProperty("autoplay",e.getConfig().autostart),Oa.get(n)||Oa.add(r),r},t.prototype.loadIasTrackerIfEnabled=function(){L.get("options.video.iasTracking.enabled")&&Cf.load()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Op=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tp=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ap=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Op(e,t),e.prototype.execute=function(){return Tp(this,void 0,Promise,(function(){var t=this;return Ap(this,(function(e){switch(e.label){case 0:return(new Ep).manage(),this.options?(Promise.all(this.options.dependencies).then((function(){return Tp(t,void 0,void 0,(function(){return Ap(this,(function(t){switch(t.label){case 0:return[4,this.call()];case 1:return t.sent(),this.setInitialized(),[2]}}))}))})),[3,3]):[3,1];case 1:return[4,this.call()];case 2:e.sent(),this.setInitialized(),e.label=3;case 3:return[2]}}))}))},e.prototype.call=function(){qe.dispatch(bs({showAds:!0,autoplayDisabled:!1}))},e}(Yn),Cp=function(){return Cp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Cp.apply(this,arguments)};!function(t){t.site="site",t.page="page",t.tracking="tracking",t.partners="partners"}(ap||(ap={}));var Ip,kp=new(function(){function t(){this.logGroup="GlobalContextService",window.fandomContext||this.createEmptyContext()}return t.prototype.createEmptyContext=function(){Vn(this.logGroup,"Creating empty fandomContext"),window.fandomContext={site:{},page:{},tracking:{},partners:{}}},t.prototype.isObject=function(t){return"object"==typeof t&&!Array.isArray(t)},t.prototype.merge=function(t,e){var n=this,r=Object.getOwnPropertyNames(e).map((function(r){var o;return(o={})[r]=function(r){return n.isObject(e[r])&&Object.prototype.hasOwnProperty.call(t,r)&&n.isObject(t[r])}(r)?n.merge(t[r],e[r]):e[r],o})).reduce((function(t,e){return Cp(Cp({},t),e)}),{});return Cp(Cp({},t),r)},t.prototype.setValue=function(t,e){window.fandomContext[t]||(window.fandomContext[t]={}),window.fandomContext[t]=this.merge(window.fandomContext[t],e)},t.prototype.getValue=function(t,e){var n=window.fandomContext[t];if(n)return n[e];Vn(this.logGroup,"Attempting to retrieve invalid category in context!")},t}()),xp="bt-loader",Rp=new(function(){function t(){}return t.prototype.run=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return this.isEnabled()?(this.insertSideUnits(),Vn(xp,"loading"),kp.setValue(ap.partners,{blockthrough:{directedAtChildren:!!L.get("wiki.targeting.directedAtChildren")}}),[4,this.loadScript().then((function(){Vn(xp,"ready")}))]):(Vn(xp,"disabled"),[2,Promise.resolve()]);case 1:return t.sent(),[2]}}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.isEnabled=function(){return L.get("options.wad.btRec.enabled")&&L.get("options.wad.blocking")},t.prototype.loadScript=function(){var t=L.get("options.wad.btRec.loaderUrl")||"//btloader.com/tag?h=wikia-inc-com&upapi=true";return zn.loadScript(t,"text/javascript",!0,document.head.lastChild)},t.prototype.insertSideUnits=function(){if(!L.get("state.isMobile")&&L.get("options.wad.btRec.sideUnits")&&!document.body.classList.contains("is-content-expanded")&&!document.documentElement.classList.contains("is-content-expanded")){var t=document.querySelector(".page.has-right-rail, .mainpage .page");if(t&&!((window.document.body.scrollWidth||0)<1542)){var e=document.createElement("div"),n=document.createElement("div");e.className="side-bt-container left",n.className="side-bt-container right",t.prepend(e,n);var r=document.createElement("div"),o=document.createElement("div");r.id="btbgleft",o.id="btbgright",e.append(r),n.append(o)}}},t}()),Np=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Dp=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Lp="bab-detection",jp=!1,Vp=new(function(){function t(){}return t.prototype.getName=function(){return Lp},t.prototype.isEnabled=function(){return L.get("options.wad.enabled")},t.prototype.isBlocking=function(){return L.get("options.wad.blocking")},t.prototype.run=function(){return Np(this,void 0,Promise,(function(){var t;return Dp(this,(function(e){switch(e.label){case 0:return[4,this.checkBlocking()];case 1:return t=e.sent(),Vn(Lp,"BAB detection, AB detected:",t),t?[3,3]:[4,this.checkDomainBlocking()];case 2:t=e.sent(),Vn(Lp,"GAM domain blocking detection - detected:",t),e.label=3;case 3:return this.setBodyClass(t),this.setRuntimeParams(t),this.updateSrcParameter(t),this.dispatchDetectionEvents(t),[2,t]}}))}))},t.prototype.checkBlocking=function(t,e){var n=this;return void 0===t&&(t=function(){}),void 0===e&&(e=function(){}),new Promise((function(t){if(!jp){if(!n.blockAdBlockExists())return void t(!0);n.setupBab()}Ip.onDetected((function(){return t(!0)})),Ip.onNotDetected((function(){return t(!1)})),Ip.check(!0)})).then((function(n){return n?t():e(),n}))},t.prototype.blockAdBlockExists=function(){return"undefined"!=typeof BlockAdBlock},t.prototype.checkDomainBlocking=function(){return Np(this,void 0,void 0,(function(){var t,e;return Dp(this,(function(n){switch(n.label){case 0:t=!1,e="https://www.doubleclick.net",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch(e,{method:"HEAD",mode:"no-cors",cache:"no-store"})];case 2:return n.sent(),[3,4];case 3:return n.sent(),t=!0,[3,4];case 4:return[2,t]}}))}))},t.prototype.setupBab=function(){Ip=this.createBlockAdBlock(),jp=!0},t.prototype.createBlockAdBlock=function(){return new BlockAdBlock({checkOnLoad:!1,resetOnEnd:!0,loopCheckTime:50,loopMaxNumber:5,debug:!!_.get("bt_rec_debug")||!1})},t.prototype.setRuntimeParams=function(t){window.ads.runtime=window.ads.runtime||{},window.ads.runtime.bab=window.ads.runtime.bab||{},window.ads.runtime.bab.blocking=t,L.set("options.wad.blocking",t)},t.prototype.updateSrcParameter=function(t){var e=L.get("options.wad.blockingSrc");t&&e&&L.set("src",e)},t.prototype.dispatchDetectionEvents=function(t){var e=document.createEvent("Event"),n=t?"bab.blocking":"bab.not_blocking";e.initEvent(n,!0,!1),document.dispatchEvent(e),qe.emit(Ue.AD_ENGINE_BAB_DETECTION,{detected:t})},t.prototype.setBodyClass=function(t){t&&document.body.classList.add("bab-detected")},t}()),Up=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mp=function(){ja.finishFirstCall(),Rp.run()},zp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.detector=Vp,e.onDetected=Mp,e}return Up(e,t),e.prototype.call=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:return this.detector.isEnabled()?[4,this.detector.run()]:[2,Promise.resolve()];case 1:return t=e.sent(),L.set("options.wad.blocking",t),function(t){(new _r).track({category:"ads-babdetector-detection",action:"impression",label:t?"Yes":"No",value:0})}(t),t&&this.onDetected(),[2]}}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},e}(Yn),Bp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fp="captify",Gp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.propertyId=12974,e}return Bp(e,t),e.prototype.call=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return this.isEnabled("icCaptify")?(this.overwritePropertyIdIfPresent(),this.createCaptifyWindowObject(),this.createAndInsertScript(),[2,Promise.resolve()]):(Vn(Fp,"disabled"),[2,Promise.resolve()])}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},e.prototype.overwritePropertyIdIfPresent=function(){var t=L.get("services.captify.propertyId");this.propertyId=t||this.propertyId},e.prototype.createCaptifyWindowObject=function(){window["captify_kw_query_".concat(this.propertyId)]=""},e.prototype.createAndInsertScript=function(){var t="https://p.cpx.to/p/".concat(this.propertyId,"/px.js"),e=document.getElementsByTagName("script")[0];zn.createScript(t,"text/javascript",!0,e).onload=function(){qe.emit(Ue.CAPTIFY_LOADED),Vn(Fp,"loaded")}},e}(Yn),Hp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qp="confiant";function Wp(t,e,n,r,o,i){if(i&&i.dfp){var a=i.dfp.s,s=Oa.get(a);s&&s.emitEvent("confiant-".concat(t))}}var Kp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scriptDomain="cdn.confiant-integrations.net",e.propertyId="d-aIf3ibf0cYxCLB1HTWfBQOFEA",e}return Hp(e,t),e.prototype.call=function(){return this.isEnabled("icConfiant",!1)?(this.overwritePropertyIdIfPresent(),Vn(qp,"loading"),window.confiant=window.confiant||{},window.confiant.callback=Wp,this.loadScript().then((function(){Vn(qp,"ready")}))):(Vn(qp,"disabled"),Promise.resolve())},e.prototype.overwritePropertyIdIfPresent=function(){var t=L.get("services.confiant.propertyId");this.propertyId=t||this.propertyId},e.prototype.loadScript=function(){var t="//".concat(this.scriptDomain,"/").concat(this.propertyId,"/gpt_and_prebid/config.js");return zn.loadScript(t,"text/javascript",!0,"first")},e}(Yn),Yp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$p="duration-media",Qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yp(e,t),e.prototype.call=function(){var t=L.get("services.durationMedia.libraryUrl");return this.isEnabled("icDurationMedia",!1)&&t?(Vn($p,"loading",t),zn.loadScript(t,"text/javascript",!0,null,{id:"dm-script"}).then((function(){Vn($p,"ready")}))):(Vn($p,"disabled"),Promise.resolve())},e}(Yn),Jp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xp=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Zp=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},td="eyeota",ed=function(t){function e(e){return t.call(this,e)||this}return Jp(e,t),e.prototype.call=function(){return Xp(this,void 0,Promise,(function(){var t,e;return Zp(this,(function(n){switch(n.label){case 0:return this.isEnabled("icEyeota")?(Vn(td,"loading"),e=(t=zn).loadScript,[4,this.createScriptSource()]):(Vn(td,"disabled"),[2,Promise.resolve()]);case 1:return[2,e.apply(t,[n.sent()]).then((function(){qe.emit(Ue.EYEOTA_STARTED),Vn(td,"ready")})).catch((function(){throw qe.emit(Ue.EYEOTA_FAILED),new Error("Error occurred while loading ".concat(td))}))]}}))}))},e.prototype.createScriptSource=function(){var t,e;return Xp(this,void 0,Promise,(function(){var n,r,o,i,a,s,c,u,l;return Zp(this,(function(f){switch(f.label){case 0:return[4,yu.getTCData()];case 1:return n=f.sent(),r=Fn.get("s0v"),(o=new URL("https://ps.eyeota.net/pixel")).searchParams.append("pid","r8rcb20"),o.searchParams.append("sid","fandom"),o.searchParams.append("t","ajs"),o.searchParams.append("s0v",r),i="",(null===(e=null===(t=window.fandomContext)||void 0===t?void 0:t.site)||void 0===e?void 0:e.tags)&&(a=window.fandomContext.site.tags,s=a.gnre,c=a.pform,u=a.pub,l=a.tv,p={gnre:s,pform:c,pub:u,tv:l},d="",Object.keys(p).forEach((function(t){return(p[t]||[]).forEach((function(e){return d+="&".concat(t,"=").concat(encodeURI(e))}))})),i=d),n.gdprApplies&&(o.searchParams.append("gdpr","1"),o.searchParams.append("gdpr_consent",n.tcString)),[2,o.toString()+i]}var p,d}))}))},e}(Yn),nd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rd=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},od="ias-publisher-optimization",id=["adt","alc","dlm","drg","hat","off","vio"],ad={veryLow:1,low:2,medium:3,high:4},sd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoaded=!1,e.slotList=[],e.IASReady=new Promise((function(t){e.resolveIASReady=t})),e}return nd(e,t),e.prototype.call=function(){var t=this;return this.isEnabled("icIASPublisherOptimization")?this.isLoaded?void 0:(Vn(od,"loading..."),this.isLoaded=!0,zn.loadScript("//cdn.adsafeprotected.com/iasPET.1.js","text/javascript",!0,"first").then((function(){Vn(od,"asset loaded"),t.setup()}))):(Vn(od,"disabled"),Promise.resolve())},e.prototype.setup=function(){var t=this,e=[];this.slotList=L.get("services.iasPublisherOptimization.slots"),this.setInitialTargeting(),this.slotList.forEach((function(n){var r=L.get("slots.".concat(n)),o={adUnitPath:Kr.build(r.adUnit||L.get("adUnitId"),{slotConfig:r}),adSlotId:n,size:t.getSlotSize(r)};r.isVideo&&(o.type="video"),e.push(o)})),window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="930616",window.__iasPET.queue.push({adSlots:e,dataHandler:this.iasDataHandler.bind(this)})},e.prototype.getSlotSize=function(t){return t.isVideo?[1,1]:t.sizes&&t.sizes.length?t.sizes[0].sizes:t.defaultSizes},e.prototype.setInitialTargeting=function(){Vn(od,"setting initial targeting..."),Fn.set("fr","-1"),Fn.set("b_ias","-1"),Fn.set("ias-kw","-1"),id.forEach((function(t){Fn.set(t,"-1")})),this.slotList.forEach((function(t){Fn.set("vw","-1",t)}))},e.prototype.iasDataHandler=function(t){var n,r;Vn(od,"handling IAS response...");var o=JSON.parse(t);Fn.set("fr",o.fr),e.setBrandSafetyKeyValuesInTargeting(o.brandSafety),e.setCustomKeyValuesInTargeting(o.custom);try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(o.slots)),a=i.next();!a.done;a=i.next()){var s=rd(a.value,2),c=s[0],u=s[1];Fn.set("vw",u.vw||u.vw_vv,c)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}Vn(od,"Done.",this),this.resolveIASReady()},e.setBrandSafetyKeyValuesInTargeting=function(t){if(t){var e="-1";id.forEach((function(n){t[n]&&(Fn.set(n,t[n]),("-1"===e||ad[e]<ad[t[n]])&&(e=t[n]))})),Fn.set("b_ias",e)}else Vn(od,"no brand safety data")},e.setCustomKeyValuesInTargeting=function(t){t["ias-kw"]?Fn.set("ias-kw",t["ias-kw"]):Vn(od,"no custom data")},e}(Yn),cd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ud="nielsen-dcr",ld={};var fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nlsnInstance=null,e}return cd(e,t),e.prototype.call=function(){var t=Fn.dump(),e=L.get("services.nielsen.customSection")||t.s0v,n=t.post_id||t.artid;if(!this.isEnabled("icNielsen",!1))return Vn(ud,"disabled"),null;this.nlsnInstance||(this.nlsnInstance=function(t){var e,n;return Vn(ud,"loading"),(e=window)[n="NOLBUNDLE"]=e[n]||{nlsQ:function(t,r,o,i,a,s){return(i=(a=e.document).createElement("script")).async=1,i.src=("http:"===e.location.protocol?"http:":"https:")+"//cdn-gl.imrworldwide.com/conf/"+t+".js#name="+r+"&ns="+n,(s=a.getElementsByTagName("script")[0]).parentNode.insertBefore(i,s),e[n][r]=e[n][r]||{g:o||{},ggPM:function(t,o,i,a,s){(e[n][r].q=e[n][r].q||[]).push([t,o,i,a,s])}},e[n][r]}},"1"===_.get("nielsen-dcr-debug")&&(ld.nol_sdkDebug="debug"),window.NOLBUNDLE.nlsQ(t,"nlsnInstance",ld)}("P26086A07-C7FB-4124-A679-8AC404198BA7")),Vn(ud,"ready");var r={type:"static",assetid:"fandom.com/".concat(e,"/").concat(t.s1,"/").concat(n),section:"FANDOM ".concat(e.replaceAll("_"," ").toUpperCase()," NETWORK")};return this.nlsnInstance.ggPM("static",r),Vn(ud,"called",r),this.nlsnInstance},e}(Yn),pd=function(){function t(){}return t.triggerPixel=function(e,n,r){var o=new Image;n&&t.isFunction(n)&&t.waitForElementToLoad(o,r).then(n),o.src=e,document.body.appendChild(o)},t.isFunction=function(t){return"[object 'Function']"===toString.call(t)},t.waitForElementToLoad=function(t,e){var n=null;return new Promise((function(r){var o=function(){t.removeEventListener("load",o),t.removeEventListener("error",o),null!=n&&window.clearTimeout(n),r()};t.addEventListener("load",o),t.addEventListener("error",o),null!=e&&(n=window.setTimeout(o,e))}))},t}(),dd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dd(e,t),e.prototype.call=function(){var t=this;this.isEnabled("bidders.prebid.native.enabled",!1)?qe.on(Ue.NO_NATIVO_AD,(function(e){var n=window.pbjs.getHighestUnusedBidResponseForAdUnitCode(e.slotName);n.native?t.renderPrebidNativeAd(e.slotName,n.native):qe.emit(Ue.NO_NATIVE_PREBID_AD,{slotName:e.slotName})})):Vn("prebid-native-provider","disabled")},e.prototype.renderPrebidNativeAd=function(t,n){var r=Oa.get(t);r.getElement().insertAdjacentHTML("afterend",this.getNativeAdTemplate(n)),this.fireNativeTrackers(e.ACTION_IMPRESSION,n),this.addClickTrackers(n);var o=r.getTargetingProperty("rv")||1;r.setTargetingConfigProperty("rv",o+1),r.setStatus(Ra.STATUS_SUCCESS)},e.prototype.getNativeAdTemplate=function(t){var e=vu.getPrebidNativeTemplate();return this.replaceAssetPlaceholdersWithData(e,t)},e.prototype.replaceAssetPlaceholdersWithData=function(t,e){for(var n in e)if(vu.assetsMap[n]){var r=this.getAssetValue(n,e);t=t.split("##"+vu.assetsMap[n]+"##").join(r)}return t.includes("##hb_native_image##")&&(t=this.removeImgFromTemplate(t)),t.includes("##hb_native_displayUrl##")&&(t=this.replaceDisplayUrlWithDefaultText(t)),t},e.prototype.removeImgFromTemplate=function(t){return t.split(/<img [^>]*src="##hb_native_image##"[^>]*>/gm).join("")},e.prototype.replaceDisplayUrlWithDefaultText=function(t){return t.split("##hb_native_displayUrl##").join("See more")},e.prototype.getAssetValue=function(t,e){return"icon"==t||"image"==t?e[t].url:e[t]},e.prototype.fireNativeTrackers=function(t,n){var r;t===e.ACTION_CLICK&&(r=n&&n.clickTrackers),t===e.ACTION_IMPRESSION&&(r=n&&n.impressionTrackers),(r||[]).forEach(pd.triggerPixel)},e.prototype.addClickTrackers=function(t){var n=this,r=document.getElementById("native-prebid-ad").getElementsByClassName("ntv-link");[].slice.call(r).forEach((function(r){r.addEventListener("click",(function(){n.fireNativeTrackers(e.ACTION_CLICK,t)}))}))},e.ACTION_CLICK="click",e.ACTION_IMPRESSION="impression",e}(Yn),yd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vd="stroer",gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yd(e,t),e.prototype.call=function(){if(!this.isEnabled("icStroer",!1))return Vn(vd,"disabled"),Promise.resolve();var t="//js.adscale.de/map.js";return Vn(vd,"loading",t),zn.loadScript(t).then((function(){Vn(vd,"ready")}))},e}(Yn),bd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logGroup="identity-setup",e.fallback=setTimeout((function(){Vn(e.logGroup,"Fallback launched"),e.identityReady()}),2500),e}return bd(e,t),e.prototype.call=function(){var t=this,e=new Promise((function(e){t.identityReady=e}));return qe.on(Ue.IDENTITY_ENGINE_READY,(function(){var e=kp.getValue("tracking","ppid");e&&Fn.set("ppid",e),clearTimeout(t.fallback),Vn(t.logGroup,"initialized"),t.identityReady()})),qe.on(Ue.IDENTITY_PARTNER_DATA_OBTAINED,(function(){var t=window.fandomContext.tracking.over_18;t&&Fn.set("over_18",t)})),e},e}(Yn),wd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sd=function(){function t(t,e,n,r,o,i,a,s,c,u,l,f,p,d,h,y,v,g,b,m){this.pipeline=t,this.anyclipPlayerSetup=e,this.ats=n,this.audigent=r,this.bidders=o,this.captify=i,this.confiant=a,this.durationMedia=s,this.eyeota=c,this.gptSetup=u,this.iasPublisherOptimization=l,this.identityHub=f,this.liveConnect=p,this.liveRampPixel=d,this.nielsen=h,this.playerSetup=y,this.prebidNativeProvider=v,this.stroer=g,this.wadRunner=b,this.identitySetup=m}var e,n,r,o,i,a,s,c,u,l,f,p,d,y,v,g,b,m,w,S;return t.prototype.execute=function(){this.pipeline.add(this.liveRampPixel,this.anyclipPlayerSetup,this.ats,this.audigent,this.bidders,this.liveConnect,this.wadRunner,this.eyeota,this.iasPublisherOptimization,this.confiant,this.durationMedia,this.stroer,this.identityHub,this.captify,this.nielsen,this.prebidNativeProvider,this.identitySetup,this.playerSetup.setOptions({dependencies:[this.bidders.initialized,this.wadRunner.initialized]}),this.gptSetup.setOptions({dependencies:[this.playerSetup.initialized,vp.isRequiredToRun()?vp.initialized:Promise.resolve(),this.iasPublisherOptimization.IASReady],timeout:vp.isRequiredToRun()?vp.getDelayTimeoutInMs():null})).execute().then((function(){qe.emit(Ue.AD_ENGINE_PARTNERS_READY)}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),wd("design:paramtypes",["function"==typeof(e=void 0!==ms&&ms)?e:Object,"function"==typeof(n=void 0!==Of&&Of)?n:Object,"function"==typeof(r=void 0!==Ss&&Ss)?r:Object,"function"==typeof(o=void 0!==Xn&&Xn)?o:Object,"function"==typeof(i=void 0!==$l&&$l)?i:Object,"function"==typeof(a=void 0!==Gp&&Gp)?a:Object,"function"==typeof(s=void 0!==Kp&&Kp)?s:Object,"function"==typeof(c=void 0!==Qp&&Qp)?c:Object,"function"==typeof(u=void 0!==ed&&ed)?u:Object,"function"==typeof(l=void 0!==Af&&Af)?l:Object,"function"==typeof(f=void 0!==sd&&sd)?f:Object,"function"==typeof(p=void 0!==As&&As)?p:Object,"function"==typeof(d=void 0!==xs&&xs)?d:Object,"function"==typeof(y=void 0!==Ns&&Ns)?y:Object,"function"==typeof(v=void 0!==fd&&fd)?v:Object,"function"==typeof(g=void 0!==Pp&&Pp)?g:Object,"function"==typeof(b=void 0!==hd&&hd)?b:Object,"function"==typeof(m=void 0!==gd&&gd)?m:Object,"function"==typeof(w=void 0!==zp&&zp)?w:Object,"function"==typeof(S=void 0!==md&&md)?S:Object])],t)}(),_d=function(){function t(){}return t.prototype.execute=function(){L.set("bidders.a9.slots",this.getA9Context())},t.prototype.getA9Context=function(){return{top_leaderboard:{sizes:[[728,90],[970,250]]},top_boxad:{sizes:[[300,250],[300,600]]},incontent_boxad_1:{sizes:[[300,250],[300,600]]},bottom_leaderboard:{sizes:[[728,90],[970,250]]},featured:{type:"video"}}},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Ed=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Od=function(){function t(t,e){this.instantConfig=t,this.noAdsDetector=e}var e,n;return t.prototype.execute=function(){var t;this.setBaseState(),this.setOptionsContext(),this.setServicesContext(),this.setMiscContext(),this.setupStickySlotContext(),t=mr()?0:1,Fn.set("npa",t.toString()),function(){var t=wr()?1:0;Fn.set("rdp",t.toString())}()},t.prototype.setBaseState=function(){if(bo()&&this.noAdsDetector.addReason("in_iframe"),gn.isSteamPlatform()){this.noAdsDetector.addReason("steam_browser");var t=document.querySelector(".top-leaderboard");null==t||t.classList.remove("is-loading");var e=document.querySelector(".bottom-leaderboard");null==e||e.classList.remove("is-loading")}_.get("noexternals")&&this.noAdsDetector.addReason("noexternals_querystring"),_.get("noads")&&this.noAdsDetector.addReason("noads_querystring"),L.set("state.showAds",this.noAdsDetector.isAdsMode()),L.set("state.deviceType",gn.getDeviceType()),L.set("state.isLogged",!!L.get("wiki.wgUserId")),this.instantConfig.get("icPrebidium")&&(L.set("state.provider","prebidium"),qe.emit(Ue.AD_ENGINE_UAP_LOAD_STATUS,{isLoaded:!1,adProduct:qa.DEFAULT_UAP_TYPE}))},t.prototype.setOptionsContext=function(){L.set("options.tracking.kikimora.player",this.instantConfig.get("icPlayerTracking")),L.set("options.tracking.slot.status",this.instantConfig.get("icSlotTracking")),L.set("options.tracking.slot.viewability",this.instantConfig.get("icViewabilityTracking")),L.set("options.tracking.slot.bidder",this.instantConfig.get("icBidsTracking")),L.set("options.tracking.postmessage",this.instantConfig.get("icPostmessageTracking")),L.set("options.performanceAds",this.instantConfig.get("icPerformanceAds")),L.set("options.stickyTbExperiment",this.instantConfig.get("icStickyTbExperiment")),L.set("options.uapExtendedSrcTargeting",this.instantConfig.get("icUAPExtendendSrcTargeting")),L.set("options.video.playAdsOnNextVideo",!!this.instantConfig.get("icFeaturedVideoAdsFrequency")),L.set("options.video.adsOnNextVideoFrequency",this.instantConfig.get("icFeaturedVideoAdsFrequency",3)),L.set("options.video.isMidrollEnabled",this.instantConfig.get("icFeaturedVideoMidroll")),L.set("options.video.isPostrollEnabled",this.instantConfig.get("icFeaturedVideoPostroll")),L.set("options.video.forceVideoAdsOnAllVideosExceptSecond",this.instantConfig.get("icFeaturedVideoForceVideoAdsEverywhereExcept2ndVideo")),L.set("options.video.forceVideoAdsOnAllVideosExceptSponsored",this.instantConfig.get("icFeaturedVideoForceVideoAdsEverywhereExceptSponsoredVideo")),L.set("options.floorAdhesionNumberOfViewportsFromTopToPush",this.instantConfig.get("icFloorAdhesionViewportsToStart")),L.set("options.rotatorDelay",this.instantConfig.get("icRotatorDelay",{})),L.set("options.maxDelayTimeout",this.instantConfig.get("icAdEngineDelay",2e3)),L.set("options.jwpMaxDelayTimeout",this.instantConfig.get("icUAPJWPlayerDelay",0)),L.set("options.video.iasTracking.enabled",this.instantConfig.get("icIASVideoTracking")),L.set("options.video.isUAPJWPEnabled",this.instantConfig.get("icUAPJWPlayer")),L.set("options.video.uapJWPLineItemIds",this.instantConfig.get("icUAPJWPlayerLineItemIds")),L.set("options.video.pauseJWPlayerAd",this.instantConfig.get("icPauseJWPlayerAd")),L.set("options.video.comscoreJwpTracking",this.instantConfig.get("icComscoreJwpTracking")),L.set("options.coppaGam",this.instantConfig.get("icCoppaGam")),L.set("options.coppaPrebid",this.instantConfig.get("icCoppaPrebid")),this.setWadContext()},t.prototype.setWadContext=function(){var t=this.instantConfig.get("icBabDetection");L.set("options.wad.enabled",t),t&&!L.get("state.isLogged")&&L.get("state.showAds")&&(L.set("options.wad.btRec.enabled",this.instantConfig.get("icBTRec")),L.set("options.wad.btRec.sideUnits",this.instantConfig.get("icBTRecSideUnits")))},t.prototype.setServicesContext=function(){L.set("services.anyclip.enabled",this.instantConfig.get("icAnyclipPlayer")),L.set("services.interventionTracker.enabled",this.instantConfig.get("icInterventionTracking")),L.set("services.liveConnect.enabled",this.instantConfig.get("icLiveConnect")),L.set("services.liveConnect.cachingStrategy",this.instantConfig.get("icLiveConnectCachingStrategy")),L.set("services.nativo.enabled",this.instantConfig.get("icNativo")),L.set("services.sailthru.enabled",this.instantConfig.get("icSailthru")),L.set("services.ppid.enabled",this.instantConfig.get("icPpid")),L.set("services.ppidRepository",this.instantConfig.get("icPpidRepository")),L.set("services.identityTtl",this.instantConfig.get("icIdentityTtl")),L.set("services.messageBox.enabled",this.instantConfig.get("icAdCollapsedMessageBox",!1)),L.set("services.slotRefresher.config",!this.instantConfig.get("icDurationMedia")&&this.instantConfig.get("icSlotRefresher"))},t.prototype.setMiscContext=function(){this.instantConfig.get("icLABradorTest");var t=this.instantConfig.get("icPrebidSizePriceFloorRule");L.set("bidders.prebid.priceFloor",t||null),L.set("bidders.prebid.disableSendAllBids",this.instantConfig.get("icPrebidDisableSendAllBids")),L.set("bidders.identityHub.enabled",this.instantConfig.get("icPubmaticIdentityHub")),L.set("bidders.liveRampId.enabled",this.instantConfig.get("icLiveRampId")),L.set("bidders.liveRampATS.enabled",this.instantConfig.get("icLiveRampATS")),L.set("bidders.liveRampATSAnalytics.enabled",this.instantConfig.get("icLiveRampATSAnalytics")),L.set("bidders.prebid.native.enabled",this.instantConfig.get("icPrebidNative")),L.set("templates.sizeOverwritingMap",qa.UAP_ADDITIONAL_SIZES.companionSizes)},t.prototype.setupStickySlotContext=function(){L.set("templates.stickyTlb.forced",this.instantConfig.get("icForceStickyTlb")),L.set("templates.stickyTlb.withFV",this.instantConfig.get("icStickyTlbWithFV"));var t=this.instantConfig.get("icStickySlotLineItemIds");t&&t.length&&L.set("templates.stickyTlb.lineItemIds",t)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Ed("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object,"function"==typeof(n=void 0!==js&&js)?n:Object])],t)}(),Td=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Td(e,t),e.prototype.execute=function(){t.prototype.execute.call(this),L.set("options.floatingMedrecDestroyable",this.instantConfig.get("icFloatingMedrecDestroyable")),L.set("options.userId",window.mw.config.get("wgTrackID")||window.mw.config.get("wgUserId")),L.set("events.pushOnScroll.nativoThreshold",this.instantConfig.get("icPushOnScrollNativoThreshold",200)),L.set("services.nativo.gamIncontentEnabled",!L.get("state.isMobile")&&this.instantConfig.get("icIncontentLeaderboard"))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],e)}(Od),Pd=function(){function t(){}return t.prototype.execute=function(){L.set("bidders.prebid.appnexus",{enabled:!1,slots:{top_leaderboard:{sizes:[[728,90],[970,250]],position:"atf"},top_boxad:{sizes:[[300,250],[300,600]],position:"atf"},bottom_leaderboard:{sizes:[[728,90],[970,250]],position:"btf"},incontent_boxad_1:{sizes:[[160,600],[300,600],[300,250]],position:"hivi"},ntv_ad:{position:"native"}},placements:{atf:"11977073",btf:"11977096",hivi:"11977016",native:"25450069",other:"11969927"}}),L.set("bidders.prebid.appnexusAst",{enabled:!1,debugPlacementId:"5768085",slots:{featured:{placementId:"13684967"},incontent_player:{placementId:"11543172"}}}),L.set("bidders.prebid.indexExchange",{enabled:!1,slots:{top_leaderboard:{sizes:[[728,90],[970,250]],siteId:"183423"},top_boxad:{sizes:[[300,250],[300,600]],siteId:"183567"},incontent_boxad_1:{sizes:[[160,600],[300,600],[300,250]],siteId:"185049"},bottom_leaderboard:{sizes:[[728,90],[970,250]],siteId:"209250"},featured:{siteId:"437502"}}}),L.set("bidders.prebid.freewheel",{enabled:!1,slots:{featured:{zoneId:"32563810"}}}),L.set("bidders.prebid.medianet",{enabled:!1,slots:{featured:{cid:"8CU5JOKX4",crid:"475658876"},top_leaderboard:{sizes:[[728,90],[970,90],[970,250]],cid:"8CU5JOKX4",crid:"648224147"},top_boxad:{sizes:[[300,250],[300,600]],cid:"8CU5JOKX4",crid:"307922149"},incontent_boxad_1:{sizes:[[300,250],[300,600]],cid:"8CU5JOKX4",crid:"210414245"},bottom_leaderboard:{sizes:[[728,90],[970,90],[970,250]],cid:"8CU5JOKX4",crid:"550202278"}}}),L.set("bidders.prebid.nobid",{enabled:!1,slots:{top_leaderboard:{sizes:[[728,90],[970,250]],siteId:21872987104},top_boxad:{sizes:[[300,250],[300,600]],siteId:21872987104},incontent_boxad_1:{sizes:[[300,250],[300,600],[160,600]],siteId:21872987104},bottom_leaderboard:{sizes:[[728,90],[970,250]],siteId:21872987104}}}),L.set("bidders.prebid.onevideo",{enabled:!1,slots:{featured:{pubId:"FandomIS"},incontent_player:{pubId:"FandomOS"}}}),L.set("bidders.prebid.pubmatic",{enabled:!1,publisherId:"156260",slots:{featured:{sizes:[[0,0]],ids:["1636185@0x0"]},incontent_player:{sizes:[[0,0]],ids:["1636186@0x0"]},top_leaderboard:{sizes:[[728,90],[970,250]],ids:["/5441/TOP_LEADERBOARD_728x90@728x90","/5441/TOP_LEADERBOARD_970x250@970x250"]},top_boxad:{sizes:[[300,250],[300,600]],ids:["/5441/TOP_RIGHT_BOXAD_300x250@300x250","/5441/TOP_RIGHT_BOXAD_300x600@300x600"]},incontent_boxad_1:{sizes:[[160,600],[300,600],[300,250]],ids:["/5441/INCONTENT_BOXAD_1_160x600@160x600","/5441/INCONTENT_BOXAD_1_300x250@300x250","/5441/INCONTENT_BOXAD_1_300x600@300x600"]},bottom_leaderboard:{sizes:[[728,90],[970,250]],ids:["/5441/BOTTOM_LEADERBOARD_728x90@728x90","/5441/BOTTOM_LEADERBOARD_970x250@970x250"]}}}),L.set("bidders.prebid.roundel",{enabled:!1,slots:{top_leaderboard:{sizes:[[728,90],[970,250]],siteId:"824040"},top_boxad:{sizes:[[300,250],[300,600]],siteId:"820933"},incontent_boxad_1:{sizes:[[160,600],[300,600],[300,250]],siteId:"820933"},bottom_leaderboard:{sizes:[[728,90],[970,250]],siteId:"824040"},featured:{siteId:"820935"},incontent_player:{siteId:"820935"}}}),L.set("bidders.prebid.rubicon",{enabled:!1,accountId:7450,slots:{featured:{siteId:"147980",sizeId:"201",zoneId:"699374"},incontent_player:{siteId:"55412",sizeId:"203",zoneId:"260296"}}}),L.set("bidders.prebid.rubicon_display",{enabled:!1,accountId:7450,slots:{top_leaderboard:{sizes:[[728,90],[970,250]],targeting:{loc:["top"]},position:"atf",siteId:"148804",zoneId:"704672"},top_boxad:{sizes:[[300,250],[300,600]],targeting:{loc:["top"]},position:"atf",siteId:"148804",zoneId:"704672"},incontent_boxad_1:{sizes:[[160,600],[300,600],[300,250]],targeting:{loc:["hivi"]},siteId:"148804",zoneId:"704676"},bottom_leaderboard:{sizes:[[728,90],[970,250]],targeting:{loc:["footer"]},siteId:"148804",zoneId:"704674"}}}),L.set("bidders.prebid.triplelift",{enabled:!1,slots:{top_leaderboard:{sizes:[[728,90],[970,250]],inventoryCodes:["Fandom_DT_LB_728x90_hdx_prebid","Fandom_DT_LB_970x250_hdx_prebid"]},top_boxad:{sizes:[[300,250],[300,600]],inventoryCodes:["Fandom_DT_MR_300x250_prebid","Fandom_DT_MR_300x600_prebid"]},incontent_boxad_1:{sizes:[[160,600],[300,600],[300,250]],inventoryCodes:["Fandom_DT_FMR_160x600_hdx_prebid","Fandom_DT_FMR_300x250_hdx_prebid","Fandom_DT_FMR_300x600_hdx_prebid"]},bottom_leaderboard:{sizes:[[728,90],[970,250]],inventoryCodes:["Fandom_DT_BLB_728x90_hdx_prebid","Fandom_DT_BLB_970x250_hdx_prebid"]}}}),L.set("bidders.prebid.verizon",{enabled:!1,dcn:"8a96945901757509a7551e039e180357",slots:{top_leaderboard:{sizes:[[728,90]],pos:"top_leaderboard"},top_boxad:{sizes:[[300,250]],pos:"top_boxad"},incontent_boxad_1:{sizes:[[300,250]],pos:"incontent_boxad_1"},bottom_leaderboard:{sizes:[[728,90]],pos:"bottom_leaderboard"}}}),L.set("bidders.prebid.wikia",{enabled:!1,slots:{top_leaderboard:{sizes:[[728,90]]},top_boxad:{sizes:[[300,250]]},incontent_boxad_1:{sizes:[[300,250]]},bottom_leaderboard:{sizes:[[970,250]]},ntv_ad:{position:"native"}}}),L.set("bidders.prebid.wikiaVideo",{enabled:!1,slots:{featured:{videoAdUnitId:"/5441/wka.life/_project43//article/test/outstream",customParams:"s1=_project43&artid=402&src=test&pos=outstream"},incontent_player:{videoAdUnitId:"/5441/wka.life/_project43//article/test/outstream",customParams:"s1=_project43&artid=402&src=test&pos=outstream"}}})},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Cd=function(){function t(){}return t.prototype.execute=function(){es.setupSlotVideoContext(),L.set("slots",{top_leaderboard:{aboveTheFold:!0,firstCall:!0,adProduct:"top_leaderboard",group:"LB",options:{},sizes:[{viewportSize:[1024,0],sizes:[[728,90],[970,66],[970,90],[970,150],[970,180],[970,250],[970,365],[1024,416],[1030,65],[1030,130],[1030,250]]}],defaultSizes:[[728,90]],defaultTemplates:[],targeting:{loc:"top",pos:["top_leaderboard","hivi_leaderboard"]},placeholder:{createLabel:!1,adLabelParent:".top-ads-container"}},top_boxad:{adProduct:"top_boxad",aboveTheFold:!0,group:"MR",options:{},defaultSizes:[[300,250],[300,600],[300,1050]],targeting:{loc:"top"}},incontent_leaderboard:{adProduct:"incontent_leaderboard",group:"ILB",options:{},defaultSizes:[[728,90]],targeting:{loc:"middle"}},incontent_boxad_1:{adProduct:"incontent_boxad_1",bidderAlias:"incontent_boxad_1",group:"HiVi",insertBeforeSelector:"#incontent_boxad_1",recirculationElementSelector:"#recirculation-rail",options:{},sizes:[],defaultSizes:[[120,600],[160,600],[300,250],[300,600]],targeting:{loc:"hivi"}},bottom_leaderboard:{adProduct:"bottom_leaderboard",group:"PF",options:{},sizes:[{viewportSize:[1024,0],sizes:[[728,90],[970,66],[970,90],[970,150],[970,180],[970,250],[970,365],[1024,416],[1030,65],[1030,130],[1030,250]]}],defaultSizes:[[728,90]],targeting:{loc:"footer"},placeholder:{createLabel:!1,adLabelParent:".bottom-ads-container"}},incontent_player:{adProduct:"incontent_player",autoplay:!0,audio:!1,isVideo:!0,insertBeforeSelector:"#mw-content-text > div > h2",group:"HiVi",defaultSizes:[[1,1]],targeting:{loc:"middle",pos:["outstream"]}},floor_adhesion:{adProduct:"floor_adhesion",group:"PF",options:{},targeting:{loc:"footer"},defaultTemplates:["floorAdhesion"],defaultSizes:[[728,90]]},featured:{adProduct:"featured",group:"VIDEO",videoSizes:[[640,480]],trackEachStatus:!0,trackingKey:"featured-video",isVideo:!0},ntv_ad:{providers:["nativo"],trackEachStatus:!0,isNative:!0},ntv_feed_ad:{providers:["nativo"],trackEachStatus:!0,isNative:!0},quiz_leaderboard_start:{adProduct:"quiz_leaderboard_start",defaultSizes:[[728,90],[728,150]],group:"quiz",options:{}},quiz_leaderboard_questions:{adProduct:"quiz_leaderboard_questions",defaultSizes:[[728,90],[728,150]],group:"quiz",options:{}},quiz_leaderboard_finish:{adProduct:"quiz_leaderboard_finish",defaultSizes:[[728,90],[728,150]],group:"quiz",options:{}},quiz_incontent:{adProduct:"quiz_incontent",defaultSizes:[[300,250]],group:"quiz",options:{}}}),L.set("slots.featured.videoAdUnit",L.get("vast.adUnitIdWithDbName")),L.set("slots.incontent_player.videoAdUnit",L.get("vast.adUnitIdWithDbName"))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Id=new na;function kd(t){t.filter((function(t){return!!t})).forEach((function(t){var e=t.slotCreatorConfig,n=t.slotCreatorWrapperConfig,r=t.activator;try{Id.createSlot(e,n),r&&r()}catch(t){Vn("insert-slot",t.message),(null==e?void 0:e.slotName)&&es.setState(e.slotName,!1)}}))}var xd=function(){var t=this;this.statusesToStopLoadingSlot=[Ra.SLOT_RENDERED_EVENT,Ra.STATUS_SUCCESS,Ra.HIDDEN_EVENT],this.statusesToCollapse=[Ra.HIDDEN_EVENT,Ra.STATUS_BLOCKED,Ra.STATUS_COLLAPSE],this.statusToHide=Ra.STATUS_FORCED_COLLAPSE,this.statusToUndoCollapse=Ra.SLOT_RENDERED_EVENT,this.isLoadingOrCollapsed=function(e){return t.statusesToStopLoadingSlot.includes(e.event)||t.statusesToCollapse.includes(e.event)||t.statusToUndoCollapse===e.event},this.displayPlaceholder=function(t){t.classList.remove("hide")},this.shouldKeepPlaceholder=function(e,n){return e===t.statusToUndoCollapse&&n===Ra.STATUS_FORCED_SUCCESS},this.stopLoading=function(e,n){t.shouldStopLoading(e,n)&&n.classList.remove("is-loading")},this.shouldStopLoading=function(e,n){return t.statusesToStopLoadingSlot.includes(e)&&n.classList.contains("is-loading")},this.hidePlaceholder=function(e){t.shouldHidePlaceholder&&(e.classList.add("hide"),t.hideWrapperIfExists(e))},this.hideWrapperIfExists=function(t){var e;(null===(e=null==t?void 0:t.parentElement)||void 0===e?void 0:e.className.includes("-ads-container"))&&t.parentElement.classList.add("hide")},this.shouldHidePlaceholder=function(t){return!t.classList.contains("hide")},this.hideAdLabel=function(e){t.shouldHideAdLabel&&e.classList.add("hide")},this.shouldHideAdLabel=function(t){return!t.classList.contains("hide")}},Rd=function(){function t(t){void 0===t&&(t=null),this.messageBoxService=t,this.placeholderHelper=new xd}return t.prototype.init=function(){this.registerUapChecker(),this.start()},t.prototype.start=function(){var t=this;qe.action$.pipe(Fe(qe.getGlobalAction(Ue.AD_ENGINE_SLOT_EVENT)),Le((function(e){return t.placeholderHelper.isLoadingOrCollapsed(e)}))).subscribe((function(e){var n,r,o,i=Oa.get(e.adSlotName);if(i){var a=i.getPlaceholder();if(a){var s=null===(n=i.getConfigProperty("placeholder"))||void 0===n?void 0:n.adLabelParent;if(t.placeholderHelper.stopLoading(e.event,a),t.placeholderHelper.shouldKeepPlaceholder(e.event,null===(r=e.payload)||void 0===r?void 0:r.adType))t.placeholderHelper.displayPlaceholder(a);else if(t.placeholderHelper.statusToHide===(null===(o=e.payload)||void 0===o?void 0:o.adType))i.isRepeatable()&&L.set("slots.".concat(i.getSlotName(),".repeat"),null),t.placeholderHelper.hidePlaceholder(a);else if(t.placeholderHelper.statusesToCollapse.includes(e.event))if(t.isUapLoaded)t.placeholderHelper.hidePlaceholder(a);else{var c=i.getAdLabel(s);c&&t.placeholderHelper.hideAdLabel(c),t.messageBoxService&&t.messageBoxService.shouldAddMessageBox(e.event,a)&&t.messageBoxService.addMessageBox(i)}}}}))},t.prototype.registerUapChecker=function(){var t=this;qe.on(Ue.AD_ENGINE_UAP_LOAD_STATUS,(function(e){t.isUapLoaded=e.isLoaded}))},t}(),Nd=new(function(){function t(){}return t.prototype.scrollTrigger=function(t,e,n,r){var o=this;n.scroll$.pipe(Le((function(){return o.isThresholdExceeded(t,e)})),je(1),Hi(r)).subscribe()},t.prototype.isThresholdExceeded=function(t,e){var n=window.scrollY||window.pageYOffset||document.documentElement.scrollTop,r=Ao(document.getElementById(t)),o=Co();return Vn("nativo-lazy-loader","Checking scroll threshold",t,n,o,r,e),n+o>r-e},t}()),Dd=["addListener","removeListener"],Ld=["addEventListener","removeEventListener"],jd=["on","off"];function Vd(t,e,n,r){if(vt(n)&&(r=n,n=void 0),r)return Vd(t,e,n).pipe(ee(r));var o=pt(function(t){return vt(t.addEventListener)&&vt(t.removeEventListener)}(t)?Ld.map((function(r){return function(o){return t[r](e,o,n)}})):function(t){return vt(t.addListener)&&vt(t.removeListener)}(t)?Dd.map(Ud(t,e)):function(t){return vt(t.on)&&vt(t.off)}(t)?jd.map(Ud(t,e)):[],2),i=o[0],a=o[1];if(!i&&ae(t))return be((function(t){return Vd(t,e,n)}))(ye(t));if(!i)throw new TypeError("Invalid event target");return new Kt((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return i(e),function(){return a(e)}}))}function Ud(t,e){return function(n){return function(r){return t[n](e,r)}}}var Md=function(t){function e(e,n){return t.call(this)||this}return ut(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(wt),zd={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=zd.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,dt([t,e],pt(n))):setInterval.apply(void 0,dt([t,e],pt(n)))},clearInterval:function(t){var e=zd.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Bd=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return ut(e,t),e.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),zd.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&zd.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,mt(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Md),Fd={schedule:function(t){var e=requestAnimationFrame,n=cancelAnimationFrame,r=Fd.delegate;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);var o=e((function(e){n=void 0,t(e)}));return new wt((function(){return null==n?void 0:n(o)}))},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Fd.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,dt([],pt(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Fd.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,dt([],pt(t)))},delegate:void 0},Gd=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return ut(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Fd.requestAnimationFrame((function(){return e.flush(void 0)}))))},e.prototype.recycleAsyncId=function(e,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);var i=e.actions;null!=n&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==n&&(Fd.cancelAnimationFrame(n),e._scheduled=void 0)},e}(Bd),Hd=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=xe.now,t}(),qd=function(t){function e(e,n){void 0===n&&(n=Hd.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return ut(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Hd),Wd=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var n,r=this.actions;t=t||r.shift();do{if(n=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,n){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw n}},e}(qd))(Gd),Kd=function(){function t(){this.scroll$=this.createSource(document,"scroll"),this.resize$=this.createSource(window,"resize")}return t.prototype.createSource=function(t,e){return Vd(t,e).pipe(Ae(Wd),Qf(),Wf())},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Yd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$d=function(){function t(t){this.domListener=t,this.nativo=new jo(L)}var e;return t.prototype.onAdEngineUapLoaded=function(t,e,n){var r=this;Nd.scrollTrigger(e,n,this.domListener,(function(){return r.nativo.scrollTriggerCallback(t,e)}))},t.prototype.getNativoIncontentAdConfig=function(t){var e=this;if(!L.get("services.nativo.gamIncontentEnabled")&&this.nativo.isEnabled())return{slotCreatorConfig:{slotName:jo.INCONTENT_AD_SLOT_NAME,anchorSelector:".mw-parser-output > h2:nth-of-type(".concat(t,")"),insertMethod:"before",classList:["ntv-ad","ad-slot"]},activator:function(){var t=L.get("events.pushOnScroll.nativoThreshold");qe.on(Ue.AD_ENGINE_UAP_LOAD_STATUS,(function(n){return e.onAdEngineUapLoaded(n,jo.INCONTENT_AD_SLOT_NAME,t)}))}}},t.prototype.getNativoFeedAdConfig=function(t){var e=this;if(void 0===t&&(t=null),this.nativo.isEnabled())return{slotCreatorConfig:t,activator:function(){var t;t=function(t){e.nativo.scrollTriggerCallback(t,jo.FEED_AD_SLOT_NAME)},Vf([qe.action$.pipe(Fe(qe.getGlobalAction(Ue.AD_ENGINE_UAP_LOAD_STATUS)),Zt((function(t){return{isLoaded:t.isLoaded,adProduct:t.adProduct}}))),qe.action$.pipe(Fe(qe.getGlobalAction(Ue.FAN_FEED_READY)),Zt((function(){return!0})))]).pipe(Zt((function(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),n=e[0],r=e[1];return{uapLoadStatusAction:n,shouldRenderNativeAd:!(n.isLoaded&&r)}}))).subscribe((function(e){e.shouldRenderNativeAd&&t(e.uapLoadStatusAction)}))}}},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Yd("design:paramtypes",["function"==typeof(e=void 0!==Kd&&Kd)?e:Object])],t)}(),Qd=function(){function t(){}return t.prototype.getQuizAdConfig=function(t){return{activator:function(){var e=Oa.get(t);e&&Oa.remove(e),L.push("state.adStack",{id:t})}}},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),Jd=function(){function t(){}return t.createDisplayContainer=function(e,n){void 0===n&&(n=null);var r=new window.google.ima.AdDisplayContainer(e),o=e.querySelector("div > iframe");return n&&qe.onSlotEvent(Ra.DESTROYED_EVENT,(function(){r.destroy()}),n.getSlotName()),t.reloadIframeOnNavigation(o),r},t.reloadIframeOnNavigation=function(t){window.performance&&window.performance.navigation&&window.performance.navigation.type===window.performance.navigation.TYPE_BACK_FORWARD&&(t.contentWindow.location.href=t.src)},t.createAdsLoader=function(t,e){var n=new window.google.ima.AdsLoader(t);return n.getSettings().setVpaidMode(e.getVpaidMode()),n},t.createAdsRequest=function(t){var e=new window.google.ima.AdsRequest,n=t.getWidth(),r=t.getHeight();return e.adTagUrl=t.getVastUrl()||Wc(0,t.getSlotName(),{targeting:t.getVastTargeting()}),e.linearAdSlotWidth=n,e.linearAdSlotHeight=r,e.setAdWillAutoPlay(t.isAutoPlay()),e.setAdWillPlayMuted(t.isAutoPlay()),e},t.getRenderingSettings=function(){var t=new window.google.ima.AdsRenderingSettings;return L.get("state.isMobile")||(t.bitrate=68e3),t.loadVideoTimeout=15e3,t.enablePreloading=!0,t.uiElements=[],t},t}(),Xd=function(){function t(e){var n=this;this.fullscreen=!1,this.enter=$c(e,t.enterEvents),this.exit=$c(e,t.exitEvents)||$c(document,t.exitEvents),this.fullscreenChangeEvent=(Yc(e,t.changeEvents)||"").replace(/^on/,"").replace("msfullscreenchange","MSFullscreenChange"),this.isSupported()&&this.addChangeListener((function(){n.fullscreen=!n.fullscreen}))}return t.prototype.addChangeListener=function(t){document.addEventListener(this.fullscreenChangeEvent,t)},t.prototype.removeChangeListener=function(t){document.removeEventListener(this.fullscreenChangeEvent,t)},t.prototype.toggle=function(){this.isSupported()&&(this.isFullscreen()?this.exit():this.enter())},t.prototype.isFullscreen=function(){return this.fullscreen},t.prototype.isSupported=function(){return Boolean(this.enter&&this.exit)},t.enterEvents=["webkitRequestFullscreen","webkitEnterFullscreen","mozRequestFullScreen","msRequestFullscreen","requestFullscreen"],t.exitEvents=["webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","exitFullscreen"],t.changeEvents=["onwebkitfullscreenchange","onmozfullscreenchange","onmsfullscreenchange","onfullscreenchange"],t}(),Zd=function(){function t(t){var e;this.playerContainer=t,this.videoContainer=t.querySelector("div"),this.videoElement=this.videoContainer.querySelector("video"),this.interfaceContainer=document.createElement("div"),this.playerContainer.classList.add("porvata","porvata-container"),this.videoContainer.classList.add("video-player","porvata-player","hide"),null===(e=this.videoElement)||void 0===e||e.classList.add("porvata-video"),this.interfaceContainer.classList.add("porvata-interface","hide"),this.playerContainer.appendChild(this.interfaceContainer)}return t.prototype.getInterfaceContainer=function(){return this.interfaceContainer},t.prototype.getPlayerContainer=function(){return this.playerContainer},t.prototype.getVideoContainer=function(){return this.videoContainer},t.prototype.getVideoElement=function(){return this.videoElement},t.prototype.setAttribute=function(t,e){this.playerContainer.setAttribute(t,e)},t.prototype.setVastAttributes=function(t,e,n){var r=this,o=up.getVastAttributes(t,e,n);Object.keys(o).forEach((function(t){return r.setAttribute(t,o[t])}))},t.prototype.setAutoPlayOnVideoElement=function(t){this.videoElement&&(this.videoElement.autoplay=t,this.videoElement.muted=t)},t.prototype.setAudioOnVideoElement=function(t){this.videoElement&&(this.videoElement.muted=0===t,this.videoElement.volume=t)},t}(),th="video-player-fullscreen",eh="stop-scrolling",nh=function(){function t(t,e,n,r){var o=this;this.adDisplayContainer=t,this.adsLoader=e,this.adsRequest=n,this.settings=r,this.isFloating=!1,this.state=null,this.adsManager=null,this.eventListeners={},this.destroyCallbacks=new ir;var i=r.getPlayerContainer();this.playCounter=0,this.dom=new Zd(i),this.container=i;var a=i.querySelector("video");this.nativeFullscreen=new Xd(a),this.registerStateListeners(),this.settings.isAutoPlay()&&(this.setAutoPlay(!0),this.updatePlayCounter()),this.destroyCallbacks.onItemFlush((function(t){return t()})),this.nativeFullscreen.isSupported()&&this.nativeFullscreen.addChangeListener((function(){return o.onFullscreenChange()}))}return t.prototype.registerStateListeners=function(){var t=this;this.addEventListener(window.google.ima.AdEvent.Type.LOADED,(function(e){return t.setAdStatus(Ra.STATUS_SUCCESS,e.getAd())})),this.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,(function(){return t.setAdStatus(Ra.STATUS_ERROR)})),this.addEventListener("resume",(function(){return t.setState("playing")})),this.addEventListener("start",(function(){return t.setState("playing")})),this.addEventListener("pause",(function(){return t.setState("paused")})),this.addEventListener("wikiaAdStop",(function(){return t.setState("stopped")})),this.addEventListener("allAdsCompleted",(function(){return t.setState("stopped")})),this.addEventListener("adCanPlay",(function(){return t.dom.getInterfaceContainer().classList.remove("hide")})),this.addEventListener("wikiaAdCompleted",(function(){return t.dom.getInterfaceContainer().classList.add("hide")}))},t.prototype.getAdsManager=function(){return this.adsManager},t.prototype.setAdsManager=function(t){this.adsManager=t},t.prototype.addEventListener=function(t,e){var n=this;if(-1!==t.indexOf("wikia"))return this.eventListeners[t]=this.eventListeners[t]||[],void this.eventListeners[t].push(e);null!==this.adsManager?this.adsManager.addEventListener(t,e):this.addEventListener("wikiaAdsManagerLoaded",(function(){return n.adsManager.addEventListener(t,e)}))},t.prototype.removeEventListener=function(t,e){},t.prototype.dispatchEvent=function(t){this.eventListeners[t]&&this.eventListeners[t].length>0&&this.eventListeners[t].forEach((function(t){t({})}))},t.prototype.setAutoPlay=function(t){this.dom.setAutoPlayOnVideoElement(t),this.settings.setAutoPlay(t)},t.prototype.setAdStatus=function(t,e){this.dom.setVastAttributes(this.adsRequest.adTagUrl,t,e)},t.prototype.requestAds=function(){this.adsLoader.requestAds(this.adsRequest)},t.prototype.play=function(t,e){void 0!==t&&void 0!==e&&(this.settings.setHeight(e),this.settings.setWidth(t)),this.settings.getWidth()&&this.settings.getHeight()&&!this.isFullscreen()||(this.settings.setHeight(this.dom.getPlayerContainer().offsetHeight),this.settings.setWidth(this.dom.getPlayerContainer().offsetWidth)),this.dispatchEvent("wikiaAdPlayTriggered"),this.adDisplayContainer.initialize(),this.adsManager.init(Math.round(this.settings.getWidth()),Math.round(this.settings.getHeight()),window.google.ima.ViewMode.NORMAL),this.adsManager.start(),this.updatePlayCounter()},t.prototype.reload=function(){var t=Jd.createAdsRequest(this.settings);this.adsManager.destroy(),this.adsLoader.contentComplete(),this.adsLoader.requestAds(t)},t.prototype.resize=function(t,e){var n=window.google.ima.ViewMode;isFinite(t)&&isFinite(e)&&(this.settings.setHeight(e),this.settings.setWidth(t)),this.adsManager&&(this.isFullscreen()?this.adsManager.resize(window.innerWidth,window.innerHeight,n.FULLSCREEN):this.adsManager.resize(Math.round(this.settings.getWidth()),Math.round(this.settings.getHeight()),n.NORMAL))},t.prototype.getRemainingTime=function(){return this.adsManager.getRemainingTime()},t.prototype.setState=function(t){this.state=t},t.prototype.getState=function(){return this.state},t.prototype.getPlayCounter=function(){return this.playCounter},t.prototype.updatePlayCounter=function(){this.playCounter++},t.prototype.isPaused=function(){return"paused"===this.getState()},t.prototype.isPlaying=function(){return"playing"===this.getState()},t.prototype.resume=function(){this.adsManager.resume()},t.prototype.rewind=function(){this.setAutoPlay(!1),this.dispatchEvent("wikiaAdRestart"),this.play()},t.prototype.pause=function(){this.adsManager.pause()},t.prototype.stop=function(){this.adsManager.stop(),this.dispatchEvent("wikiaAdStop")},t.prototype.toggleVolume=function(){this.isMuted()?(this.unmute(),this.dispatchEvent("wikiaAdUnmute")):(this.mute(),this.dispatchEvent("wikiaAdMute"))},t.prototype.isMuted=function(){return 0===this.adsManager.getVolume()},t.prototype.mute=function(){this.setVolume(0)},t.prototype.unmute=function(){this.setVolume(.75)},t.prototype.setVolume=function(t){this.dom.setAudioOnVideoElement(t),this.adsManager.setVolume(t),this.dispatchEvent("wikiaVolumeChange")},t.prototype.toggleFullscreen=function(){this.fullscreenMuteProtect=!0,this.nativeFullscreen.isSupported()?this.nativeFullscreen.toggle():this.onFullscreenChange()},t.prototype.onFullscreenChange=function(){this.isFullscreen()?(this.dom.getPlayerContainer().classList.add(th),document.documentElement.classList.add(eh)):(this.dom.getPlayerContainer().classList.remove(th),document.documentElement.classList.remove(eh),this.fullscreenMuteProtect?this.fullscreenMuteProtect=!1:this.isPlaying()&&!this.isMuted()&&this.mute()),this.resize(),this.dispatchEvent("wikiaFullscreenChange")},t.prototype.isFullscreen=function(){return this.nativeFullscreen.isFullscreen()},t.prototype.addOnDestroyCallback=function(t){this.destroyCallbacks.push(t)},t.prototype.destroy=function(){this.destroyCallbacks.flush()},t}(),rh=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},oh=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ih=function(){function t(){}return t.create=function(e){return rh(this,void 0,Promise,(function(){var n,r,o,i,a,s,c;return oh(this,(function(u){switch(u.label){case 0:return e.getPlayerContainer().style.opacity="0",[4,t.load()];case 1:return u.sent(),n=e.getSlotName(),function(t,e){t.setConfigProperty("autoplay",e.isAutoPlay()),t.setConfigProperty("audio",!e.isAutoPlay()),t.setTargetingConfigProperty("autoplay",e.isAutoPlay()?"yes":"no"),t.setTargetingConfigProperty("audio",e.isAutoPlay()?"no":"yes")}(r=Oa.get(n),e),o=Jd.createDisplayContainer(e.getPlayerContainer(),r),i=Jd.createAdsLoader(o,e),a=Jd.createAdsRequest(e),s=function(t){return[Cf].filter((function(e){return e.isEnabled(t)}))}(e),c=new nh(o,i,a,e),s.forEach((function(t){return t.load()})),this.registerAdsLoaderListeners(i,c,e,s),[4,c.requestAds()];case 2:return u.sent(),[2,c]}}))}))},t.load=function(){return rh(this,void 0,Promise,(function(){return oh(this,(function(e){return t.loadSdkPromise||(t.loadSdkPromise=window.google&&window.google.ima?new Promise((function(t){return t()})):zn.loadScript("//imasdk.googleapis.com/js/sdkloader/ima3.js")),[2,t.loadSdkPromise]}))}))},t.registerAdsLoaderListeners=function(t,e,n,r){t.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){var o,i=Jd.getRenderingSettings(),a=t.getAdsManager(((o=document.createElement("video")).setAttribute("preload","none"),o),i);e.setAdsManager(a),Promise.all(r.map((function(t){return t.init(e,n)}))).then((function(){e.dispatchEvent("wikiaAdsManagerLoaded"),n.getPlayerContainer().style.opacity="1"}))}),!1),t.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){var n=window.google.ima.AdError.ErrorCode.VAST_EMPTY_RESPONSE;"function"==typeof t.getError&&t.getError().getErrorCode()===n&&e.dispatchEvent("wikiaEmptyAd"),e.setAdStatus(Ra.STATUS_ERROR)}))},t}(),ah=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},sh=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ch=function(){function t(n){this.params=n,this.lastKnownAdData={contentType:"",creativeId:"",lineItemId:""},this.logger=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Vn.apply(e,sh([t.LOG_GROUP],ah(n),!1))},this.listeners=(L.get("listeners.porvata")||[]).filter((function(t){return!t.isEnabled||t.isEnabled()}))}return t.prototype.init=function(){this.dispatch("init")},t.prototype.registerVideoEvents=function(e){var n=this;this.video=e,this.dispatch("ready"),Object.keys(t.EVENTS).forEach((function(r){e.addEventListener(r,(function(e){var o,i;e.getError&&(o=e.getError().getErrorCode()),e.getAd&&(i=e.getAd()),n.dispatch(t.EVENTS[r],o,i)}))}))},t.prototype.dispatch=function(e,n,r){var o=this;void 0===n&&(n=0);var i=this.getVideoData(e,n,r);this.logger(e,i),this.listeners.forEach((function(t){t.onEvent(e,o.params,i)})),this.params.position&&e===t.EVENTS.viewable_impression?Oa.get(this.params.position).emit(Ra.VIDEO_VIEWED_EVENT):this.params.position&&e===t.EVENTS.wikiaXClick&&Oa.get(this.params.position).emit(t.EVENTS.wikiaXClick)},t.prototype.getVideoData=function(e,n,r){var o,i,a;if(r){var s=kf.getAdInfo(r);o=s.contentType,i=s.creativeId,a=s.lineItemId}else this.video&&this.video.container&&(o=this.video.container.getAttribute("data-vast-content-type"),i=this.video.container.getAttribute("data-vast-creative-id"),a=this.video.container.getAttribute("data-vast-line-item-id"));return this.lastKnownAdData.contentType=o||this.lastKnownAdData.contentType,this.lastKnownAdData.creativeId=i||this.lastKnownAdData.creativeId,this.lastKnownAdData.lineItemId=a||this.lastKnownAdData.lineItemId,{ad_error_code:n,ad_product:this.params.adProduct,audio:this.params.withAudio?1:0,content_type:this.lastKnownAdData.contentType||"(none)",creative_id:this.lastKnownAdData.creativeId||"",ctp:this.params.withCtp?1:0,event_name:e,line_item_id:this.lastKnownAdData.lineItemId||"",player:t.PLAYER_NAME,position:this.params.position?this.params.position.toLowerCase():"(none)"}},t.EVENTS={adCanPlay:"ad_can_play",complete:"completed",click:"clicked",firstquartile:"first_quartile",impression:"impression",loaded:"loaded",midpoint:"midpoint",pause:"paused",resume:"resumed",start:"started",thirdquartile:"third_quartile",viewable_impression:"viewable_impression",adError:"error",wikiaAdPlayTriggered:"play_triggered",wikiaAdStop:"closed",wikiaAdMute:"mute",wikiaAdUnmute:"unmute",wikiaXClick:"force_close",wikiaInViewportWithOffer:"in_viewport_with_offer",wikiaInViewportWithoutOffer:"in_viewport_without_offer",wikiaFullscreenChange:"fullscreen_change"},t.LOG_GROUP="porvata-listener",t.PLAYER_NAME="porvata",t}(),uh=function(){function t(t){this.params=t,this.adProduct=t.adProduct,this.autoPlay=!!t.autoPlay,this.height=t.height,this.iasTracking=function(t){return"boolean"==typeof t.iasTracking?t.iasTracking:!!L.get("options.video.iasTracking.enabled")}(t),this.playerContainer=t.container,this.slotName=t.slotName,this.src=t.src,this.width=t.width,this.vastUrl=t.vastUrl,this.vastTargeting=t.vastTargeting,this.vpaidMode=t.vpaidMode||lh.ENABLED}return t.prototype.getAdProduct=function(){return this.adProduct},t.prototype.getParams=function(){return this.params},t.prototype.getPlayerContainer=function(){return this.playerContainer},t.prototype.getSlotName=function(){return this.slotName},t.prototype.getSrc=function(){return this.src},t.prototype.getVpaidMode=function(){return this.vpaidMode},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(t){this.height=t},t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(t){this.width=t},t.prototype.isIasTrackingEnabled=function(){return this.iasTracking},t.prototype.isAutoPlay=function(){return this.autoPlay},t.prototype.setAutoPlay=function(t){this.autoPlay=t},t.prototype.getVastTargeting=function(){return this.vastTargeting},t.prototype.getVastUrl=function(){return this.vastUrl},t}(),lh={DISABLED:0,ENABLED:1,INSECURE:2},fh=function(){function t(){this.containerId="playerContainer",this.porvataParams={container:null,slotName:"",type:"porvata3",adProduct:"incontent_veles",autoPlay:!0,startInViewportOnly:!0,enableInContentFloating:!1,width:1,height:1,src:L.get("src"),lineItemId:"",creativeId:"",trackingDisabled:!1,loadVideoTimeout:3e4,vpaidMode:2,vastTargeting:{}}}return t.prototype.fill=function(t){var e=this,n=document.createElement("div");n.setAttribute("id",this.containerId),t.getElement().appendChild(n),this.porvataParams.vastTargeting.src=L.get("src"),this.porvataParams.container=n,this.porvataParams.slotName=t.getSlotName();var r=t.getConfigProperty("customFillerOptions");r&&Object.keys(r).forEach((function(t){e.porvataParams[t]=r[t]})),Ki.init(this.porvataParams.type,t,this.porvataParams),t.setConfigProperty("trackEachStatus",!0)},t.prototype.getContainer=function(){return document.getElementById(this.containerId)},t.prototype.getName=function(){return"porvata"},t}(),ph=function(){function t(){}return t.addOnViewportChangeListener=function(t,e){return ru.addListener(t.viewportHookElement||t.container,e,{offsetTop:t.viewportOffsetTop||0,offsetBottom:t.viewportOffsetBottom||0})},t.createVideoContainer=function(t){var e=document.createElement("div"),n=document.createElement("div");return e.classList.add("video-overlay"),n.classList.add("video-display-wrapper"),e.appendChild(n),t.appendChild(e),n},t.inject=function(e){var n=new ch({adProduct:e.adProduct,position:e.slotName,src:e.src,withAudio:!e.autoPlay,withCtp:!e.autoPlay}),r=!0,o=!1,i=null;e.vastTargeting=e.vastTargeting||{};var a=new uh(e);return n.init(),ih.create(a).then((function(a){function s(t){t&&!o&&e.autoPlay&&(a.dispatchEvent("wikiaFirstTimeInViewport"),a.play(),o=!0)}function c(){e.startInViewportOnly||!e.autoPlay||o?i=t.addOnViewportChangeListener(e,s):(o=!0,a.play())}var u;return n.registerVideoEvents(a),a.addEventListener("adCanPlay",(function(){var t;a.dispatchEvent("wikiaAdStarted"),null===(t=Oa.get(e.slotName))||void 0===t||t.emit(Ra.VIDEO_AD_IMPRESSION)})),a.addEventListener("allAdsCompleted",(function(){a.isFullscreen()&&a.toggleFullscreen(),a.setAutoPlay(!1),a.dispatchEvent("wikiaAdCompleted"),i&&(ru.removeListener(i),i=null),r=!1,n.params.withAudio=!0,n.params.withCtp=!0})),a.addEventListener("wikiaAdRestart",(function(){r=!1})),a.addEventListener("start",(function(){a.dispatchEvent("wikiaAdPlay"),i||o||c()})),a.addEventListener("resume",(function(){a.dispatchEvent("wikiaAdPlay")})),a.addEventListener("pause",(function(){a.dispatchEvent("wikiaAdPause")})),a.addOnDestroyCallback((function(){i&&(ru.removeListener(i),i=null)})),e.autoPlay&&(u=a).addEventListener("wikiaAdsManagerLoaded",(function(){r&&u.mute()})),e.onReady&&e.onReady(a),a.addEventListener("wikiaAdsManagerLoaded",(function(){c()})),a.addEventListener("wikiaEmptyAd",(function(){i=t.addOnViewportChangeListener(e,(function(){a.dispatchEvent("wikiaFirstTimeInViewport"),ru.removeListener(i)}))})),a}))},t.isVpaid=function(t){return"application/javascript"===t},t.isVideoAutoplaySupported=function(){var t="Android"===gn.getOperatingSystem(),e=gn.getBrowser().split(" "),n=-1!==e[0].indexOf("Chrome")&&parseInt(e[1],10)>=54;return!t||n},t}(),dh=function(){return dh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},dh.apply(this,arguments)},hh=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},yh=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},vh=".render-wiki-recommendations-right-rail .related-content-items-wrapper > a:first-of-type",gh="performance-ads",bh=function(){function t(){this.widgetData=null,this.taglessRequestParams={adUnit:"/5441/wka1b.ICW/incontent_widget/",size:"1x1",targeting:{loc:"middle",pos:"incontent_widget",src:L.get("src")}}}return t.prototype.setup=function(){return hh(this,void 0,Promise,(function(){var t=this;return yh(this,(function(e){switch(e.label){case 0:return L.get("options.performanceAds")?(this.popularPagesElement=document.querySelector("#recirculation-rail .rail-module__list .popular-pages__item a.sponsored-content"),this.taglessRequestParams.targeting=dh(dh({},this.taglessRequestParams.targeting),Fn.dump()),this.popularPagesElement?[4,this.getDataFromAdServer()]:[3,2]):(Vn(gh,"Performance Ads disabled"),[2]);case 1:e.sent(),this.fillPerformanceWidget("popularPages"),e.label=2;case 2:return new Hn((function(){return!!document.querySelector(vh)}),50,0,250).until().then((function(){return hh(t,void 0,void 0,(function(){return yh(this,(function(t){switch(t.label){case 0:return this.othersLikeYouElement=document.querySelector(vh),this.othersLikeYouElement?[4,this.getDataFromAdServer()]:[3,2];case 1:t.sent(),this.fillPerformanceWidget("othersLikeYou"),t.label=2;case 2:return[2]}}))}))})),[2]}}))}))},t.prototype.getDataFromAdServer=function(){return hh(this,void 0,Promise,(function(){var t,e=this;return yh(this,(function(n){switch(n.label){case 0:return this.widgetData?[2,Promise.resolve()]:(t=Kc(this.taglessRequestParams),Vn(gh,"Tagless Request URL built",t),[4,zn.loadAsset(t,"text").then((function(t){if(t)try{e.widgetData=JSON.parse(t)||{},Vn(gh,"Widget payload received",e.widgetData)}catch(t){return void(e.widgetData={})}else e.widgetData={}}))]);case 1:return n.sent(),this.widgetData=this.widgetData||{},[2,Promise.resolve()]}}))}))},t.prototype.fillPerformanceWidget=function(t){if(this.widgetData.type&&this.widgetData.type.includes(t))switch(this.widgetData.type){case"popularPages":this.fillPopularPages();break;case"othersLikeYou":this.fillOthersLikeYou();break;case"othersLikeYouWide":this.fillOthersLikeYou(!0)}},t.prototype.fillPopularPages=function(){Vn(gh,"Filling popularPages");var t=this.popularPagesElement.querySelector("img"),e=this.popularPagesElement.querySelector(".sponsored-content__title"),n=this.popularPagesElement.querySelector(".sponsored-content__attribution");this.popularPagesElement.setAttribute("href",this.widgetData.data.clickthrough),this.popularPagesElement.setAttribute("title",this.widgetData.data.title),this.popularPagesElement.setAttribute("target","_blank"),t.setAttribute("src",this.widgetData.data.image),t.setAttribute("alt",this.widgetData.data.title),e.innerHTML=this.widgetData.data.title,n.innerHTML=this.widgetData.data.description||"Sponsored",this.triggerImpressionPixels()},t.prototype.fillOthersLikeYou=function(t){var e;void 0===t&&(t=!1),Vn(gh,"Filling othersLikeYou");var n=this.othersLikeYouElement.querySelector("div:not(.recommendations__article-title)"),r=this.othersLikeYouElement.querySelector(".recommendations__article-title");this.othersLikeYouElement.setAttribute("href",this.widgetData.data.clickthrough),this.othersLikeYouElement.setAttribute("target","_blank"),this.othersLikeYouElement.classList.add("performance-ad"),n.setAttribute("src",this.widgetData.data.image),n.setAttribute("style","background-image: url(".concat(this.widgetData.data.image,");")),r.innerHTML=this.widgetData.data.title,t&&(null===(e=this.othersLikeYouElement.nextSibling)||void 0===e||e.remove(),this.othersLikeYouElement.setAttribute("style","width: 200px;"),n.setAttribute("style","background-image: url(".concat(this.widgetData.data.image,"); width: 200px;"))),this.triggerImpressionPixels()},t.prototype.triggerImpressionPixels=function(){zn.loadAsset(this.widgetData.data.impression,"blob")},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),mh=function(){function t(t,e,n){this.slotName=t,this.fmrPrefix=e,this.btRec=n,this.refreshInfo={recSlotViewed:2e3,refreshDelay:_.isUrlParamSet("fmr-debug")?2e3:1e4,startPosition:0}}return t.prototype.rotateSlot=function(){var t;this.nextSlotName=this.slotName,this.recirculationElement=document.querySelector(L.get("slots.".concat(this.slotName,".recirculationElementSelector"))),(null===(t=this.btRec)||void 0===t?void 0:t.isEnabled())?this.initializeBTRotation():this.initializeStandardRotation()},t.prototype.initializeStandardRotation=function(){var t=this;qe.on(Ue.AD_ENGINE_SLOT_ADDED,(function(e){var n=e.slot;if(n.getSlotName().substring(0,t.fmrPrefix.length)===t.fmrPrefix){if(qa.isFanTakeoverLoaded()||"prebidium"===L.get("state.provider"))return void qe.onSlotEvent(Ra.STATUS_SUCCESS,(function(){t.swapRecirculation(!1)}),n.getSlotName(),!0);qe.onSlotEvent(Ra.STATUS_SUCCESS,(function(){t.slotStatusChanged(Ra.STATUS_SUCCESS),qe.onSlotEvent(Ra.SLOT_VIEWED_EVENT,(function(){var e=L.get("options.rotatorDelay");setTimeout((function(){t.hideSlot()}),e[n.lineItemId]||t.refreshInfo.refreshDelay)}),n.getSlotName(),!0)}),n.getSlotName(),!0),qe.onSlotEvent(Ra.STATUS_COLLAPSE,(function(){t.slotStatusChanged(Ra.STATUS_COLLAPSE),t.scheduleNextSlotPush()}),n.getSlotName(),!0)}}),!1),setTimeout((function(){var e;t.refreshInfo.startPosition=Ao(t.recirculationElement)-((null===(e=document.querySelector(".fandom-sticky-header"))||void 0===e?void 0:e.clientHeight)||0),t.startFirstRotation()}),this.refreshInfo.refreshDelay)},t.prototype.initializeBTRotation=function(){var t=this;this.pushNextSlot();var e=!1;setInterval((function(){t.swapRecirculation(e),e=!e}),this.refreshInfo.refreshDelay+this.refreshInfo.recSlotViewed)},t.prototype.startFirstRotation=function(){var t=this;this.runNowOrOnScroll((function(){return t.isInViewport()&&t.isStartPositionReached()}),this.pushNextSlot.bind(this))},t.prototype.runNowOrOnScroll=function(t,e){var n=this;t()?(this.removeScrollListener(),e()):this.rotatorListener||(this.rotatorListener=Ro.addCallback((function(){return n.runNowOrOnScroll(t.bind(n),e.bind(n))})))},t.prototype.removeScrollListener=function(){this.rotatorListener&&(Ro.removeCallback(this.rotatorListener),this.rotatorListener=null)},t.prototype.isInViewport=function(){var t=ko(this.recirculationElement),e=this.currentAdSlot&&this.currentAdSlot.getElement()&&ko(this.currentAdSlot.getElement());return t||e},t.prototype.isStartPositionReached=function(){return this.refreshInfo.startPosition<=window.scrollY},t.prototype.pushNextSlot=function(){L.push("state.adStack",{id:this.nextSlotName})},t.prototype.hideSlot=function(){L.get("options.floatingMedrecDestroyable")?Oa.remove(this.currentAdSlot):this.currentAdSlot.hide(),this.swapRecirculation(!0),this.scheduleNextSlotPush()},t.prototype.slotStatusChanged=function(t){this.currentAdSlot=Oa.get(this.nextSlotName),this.nextSlotName=this.fmrPrefix+(this.currentAdSlot.getConfigProperty("repeat.index")+1),t===Ra.STATUS_SUCCESS&&this.swapRecirculation(!1)},t.prototype.swapRecirculation=function(t){this.recirculationElement.style.display=t?"block":"none"},t.prototype.scheduleNextSlotPush=function(){var t=this;this.isRefreshLimitAvailable()&&setTimeout((function(){t.tryPushNextSlot()}),this.refreshInfo.refreshDelay)},t.prototype.isRefreshLimitAvailable=function(){return this.currentAdSlot&&this.currentAdSlot.getConfigProperty("repeat.index")<this.currentAdSlot.getConfigProperty("repeat.limit")},t.prototype.tryPushNextSlot=function(){this.runNowOrOnScroll(this.isInViewport.bind(this),this.pushNextSlot.bind(this))},t}(),wh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sh=function(){function t(t){this.instantConfig=t}var e;return t.prototype.getTopLeaderboardConfig=function(){var t="top_leaderboard",e=L.get("slots.".concat(t,".placeholder"));return{slotCreatorConfig:{slotName:t,placeholderConfig:e,anchorSelector:".top-leaderboard",insertMethod:"prepend",classList:["hide","ad-slot"]},activator:function(){L.push("state.adStack",{id:t})}}},t.prototype.getTopBoxadConfig=function(){if(this.isRightRailApplicable()){var t="top_boxad";return{slotCreatorConfig:{slotName:t,anchorSelector:".main-page-tag-rcs, #rail-boxad-wrapper",insertMethod:"prepend",classList:["hide","ad-slot"]},activator:function(){L.push("state.adStack",{id:t})}}}},t.prototype.isIncontentLeaderboardApplicable=function(){return!!L.get("services.nativo.gamIncontentEnabled")&&Eo(document.querySelector("main.page__main #content"))>=768},t.prototype.getIncontentLeaderboardConfig=function(t){if(this.isIncontentLeaderboardApplicable()){var e="incontent_leaderboard";return{slotCreatorConfig:{slotName:e,anchorSelector:".mw-parser-output > h2:nth-of-type(".concat(t,")"),insertMethod:"before",classList:["hide","ad-slot"]},activator:function(){L.push("events.pushOnScroll.ids",e)}}}},t.prototype.getIncontentBoxadConfig=function(){if(this.isRightRailApplicable()){var t="incontent_boxad_",e="".concat(t,"1");return{slotCreatorConfig:{slotName:e,anchorSelector:"#WikiaAdInContentPlaceHolder",insertMethod:"append",classList:["hide","ad-slot"],repeat:{additionalClasses:"hide",index:1,limit:20,slotNamePattern:"".concat(t,"{slotConfig.repeat.index}"),updateProperties:{adProduct:"{slotConfig.slotName}","targeting.rv":"{slotConfig.repeat.index}"},insertBelowScrollPosition:!1,disablePushOnScroll:!0}},activator:function(){var n=new mh(e,t,Rp);qe.on(Ue.AD_ENGINE_STACK_START,(function(){n.rotateSlot()}))}}}},t.prototype.isRightRailApplicable=function(t){return void 0===t&&(t=1024),Io()>=t},t.prototype.getBottomLeaderboardConfig=function(){var t="bottom_leaderboard",e=L.get("slots.".concat(t,".placeholder"));return{slotCreatorConfig:{slotName:t,placeholderConfig:e,anchorSelector:".bottom-leaderboard",insertMethod:"prepend",classList:["ad-slot"]},activator:function(){L.push("events.pushOnScroll.ids",t)}}},t.prototype.getIncontentPlayerConfig=function(){if(this.isIncontentPlayerApplicable()){var t="incontent_player";return{slotCreatorConfig:{slotName:t,anchorSelector:L.get("slots.".concat(t,".insertBeforeSelector")),anchorPosition:"belowFirstViewport",insertMethod:"before"},activator:function(){L.get("services.anyclip.enabled")?L.push("state.adStack",{id:t}):L.push("events.pushOnScroll.ids",t)}}}},t.prototype.isIncontentPlayerApplicable=function(){return L.get("custom.hasIncontentPlayer")},t.prototype.getFloorAdhesionConfig=function(){var t=this;if(this.isFloorAdhesionApplicable()){var e="floor_adhesion";return{slotCreatorConfig:{slotName:e,anchorSelector:".page",insertMethod:"before",classList:["hide","ad-slot"]},activator:function(){var n=t.instantConfig.get("icFloorAdhesionViewportsToStart")||0;if(-1===n)L.push("state.adStack",{id:e});else{var r=n*Co();Ro.addSlot(e,{distanceFromTop:r})}}}}},t.prototype.isFloorAdhesionApplicable=function(){return this.instantConfig.get("icFloorAdhesion")&&!L.get("custom.hasFeaturedVideo")},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),wh("design:paramtypes",["function"==typeof(e=void 0!==Mn&&Mn)?e:Object])],t)}(),_h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Eh=function(){function t(t,e,n,r){this.slotsDefinitionRepository=t,this.nativoSlotDefinitionRepository=e,this.performanceAdsDefinitionRepository=n,this.quizSlotsDefinitionRepository=r}var e,n,r,o;return t.prototype.execute=function(){this.injectSlots(),this.configureTopLeaderboardAndCompanions(),this.configureIncontentPlayerFiller(),this.configureFloorAdhesionCodePriority(),this.registerAdPlaceholderService()},t.prototype.injectSlots=function(){var t=this;kd([this.nativoSlotDefinitionRepository.getNativoIncontentAdConfig(2),this.nativoSlotDefinitionRepository.getNativoFeedAdConfig(),this.slotsDefinitionRepository.getTopLeaderboardConfig(),this.slotsDefinitionRepository.getTopBoxadConfig(),this.slotsDefinitionRepository.getIncontentLeaderboardConfig(2),this.slotsDefinitionRepository.getBottomLeaderboardConfig(),this.slotsDefinitionRepository.getIncontentPlayerConfig(),this.slotsDefinitionRepository.getFloorAdhesionConfig()]),qe.on(Ue.RAIL_READY,(function(){kd([t.slotsDefinitionRepository.getIncontentBoxadConfig()]),qe.on(Ue.AD_ENGINE_STACK_START,(function(){t.performanceAdsDefinitionRepository.setup()}))})),qe.on(Ue.QUIZ_AD_INJECTED,(function(e){var n=e.slotId;kd([t.quizSlotsDefinitionRepository.getQuizAdConfig(n)])}),!1)},t.prototype.configureTopLeaderboardAndCompanions=function(){var t="top_leaderboard";es.addSlotSize("top_boxad",qa.UAP_ADDITIONAL_SIZES.companionSizes["5x5"].size),L.get("custom.hasFeaturedVideo")&&!L.get("templates.stickyTlb.withFV")||L.push("slots.".concat(t,".defaultTemplates"),"stickyTlb"),L.get("custom.hasFeaturedVideo")?(L.set("slots.".concat(t,".sizes"),[{viewportSize:[1024,0],sizes:[[728,90],[970,66],[970,90],[970,150],[970,180],[970,250]]}]),L.set("slots.incontent_boxad_1.defaultSizes",[[300,250]]),es.addSlotSize("incontent_boxad_1",qa.UAP_ADDITIONAL_SIZES.companionSizes["4x4"].size)):("special"!==L.get("wiki.targeting.pageType")&&(es.addSlotSize(t,qa.UAP_ADDITIONAL_SIZES.bfaSize.desktop),es.addSlotSize(t,qa.UAP_ADDITIONAL_SIZES.bfaSize.unified)),es.addSlotSize("incontent_boxad_1",qa.UAP_ADDITIONAL_SIZES.companionSizes["5x5"].size))},t.prototype.configureIncontentPlayerFiller=function(){var t="incontent_player";L.set("slots.".concat(t,".customFiller"),"porvata"),L.set("slots.".concat(t,".customFillerOptions"),{enableInContentFloating:!0}),wo.register(new fh)},t.prototype.configureFloorAdhesionCodePriority=function(){var t="floor_adhesion",e=!1;qe.onSlotEvent(Ra.STATUS_SUCCESS,(function(){e=!0,qe.onSlotEvent(Ra.VIDEO_AD_IMPRESSION,(function(){e&&(e=!1,Oa.disable(t))}))}),t),qe.onSlotEvent(Ra.HIDDEN_EVENT,(function(){e=!1}),t)},t.prototype.registerAdPlaceholderService=function(){(new Rd).init()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),_h("design:paramtypes",["function"==typeof(e=void 0!==Sh&&Sh)?e:Object,"function"==typeof(n=void 0!==$d&&$d)?n:Object,"function"==typeof(r=void 0!==bh&&bh)?r:Object,"function"==typeof(o=void 0!==Qd&&Qd)?o:Object])],t)}(),Oh=function(){function t(t){void 0===t&&(t={}),this.props=t}return t.prototype.render=function(){return document.createDocumentFragment()},t.prototype.getClassNames=function(){return this.props.classNames||[]},t}(),Th=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Th(e,t),e.prototype.render=function(){var t=document.createElement("div");return t.innerText=Qi("advertisement"),t.className="advertisement-label",t},e}(Oh),Ph={SLOT:Symbol("template ad slot"),NAME:Symbol("template name"),PARAMS:Symbol("template params")},Ch=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ih=function(){function t(t){this.adSlot=t}var e,n,r;return t.prototype.onEnter=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return t=new Ah,this.adSlot.getElement().appendChild(t.render()),[2]}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(n=0,r=y(Ph.SLOT),function(t,e){r(t,e,n)}),Ch("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object])],t)}(),kh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kh(e,t),e.prototype.render=function(){var t=this,e=document.createElement("button");return this.getClassNames().forEach((function(t){return e.classList.add(t)})),e.addEventListener("click",(function(e){return t.onClick(e)})),e},e.prototype.getClassNames=function(){return function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}(["button-control"],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t.prototype.getClassNames.call(this)),!1)},e.prototype.onClick=function(t){var e=this.props.onClick;"function"==typeof e&&e(t)},e}(Oh);const Rh=JSON.parse('{"CROSS":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M19.707 4.293a.999.999 0 0 0-1.414 0L12 10.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L10.586 12l-6.293 6.293a.999.999 0 1 0 1.414 1.414L12 13.414l6.293 6.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L13.414 12l6.293-6.293a.999.999 0 0 0 0-1.414\\" fill-rule=\\"evenodd\\"/></svg>","LEARN_MORE":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><g stroke=\\"none\\" stroke-width=\\"1\\" fill-rule=\\"evenodd\\"><g transform=\\"translate(-753.000000, -1764.000000)\\" fill-rule=\\"nonzero\\"><g transform=\\"translate(153.000000, 1746.000000)\\"><g transform=\\"translate(5.000000, 0.000000)\\"><g transform=\\"translate(459.000000, 0.000000)\\"><g transform=\\"translate(136.000000, 18.000000)\\"><polygon points=\\"24 0 15 0 18.4395 3.4395 9.033 12.846 11.154 14.967 20.5605 5.5605 24 9\\"></polygon><path d=\\"M19.5,24 L1.5,24 C0.672,24 0,23.328 0,22.5 L0,4.5 C0,3.672 0.672,3 1.5,3 L10.5,3 L10.5,6 L3,6 L3,21 L18,21 L18,13.5 L21,13.5 L21,22.5 C21,23.328 20.328,24 19.5,24 Z\\"></path></g></g></g></g></g></g></svg>","PAUSE":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><g fill-rule=\\"evenodd\\"><rect width=\\"7\\" height=\\"22\\" rx=\\"1\\" x=\\"3\\" y=\\"1\\"></rect><rect x=\\"14\\" width=\\"7\\" height=\\"22\\" rx=\\"1\\" y=\\"1\\"></rect></g></svg>","PLAY":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M19.69 12.6L5.143 22.867a.722.722 0 0 1-.753.05.733.733 0 0 1-.391-.65V1.733c0-.274.15-.524.391-.65a.724.724 0 0 1 .753.05l14.545 10.266a.734.734 0 0 1 0 1.201z\\" fill-rule=\\"evenodd\\"></path></svg>","REPLAY":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M12 23c6.065 0 11-4.863 11-10.84a.992.992 0 0 0-1-.985c-.553 0-1 .44-1 .986 0 4.89-4.037 8.868-9 8.868s-9-3.978-9-8.868c0-4.89 4.037-8.869 9-8.869a8.991 8.991 0 0 1 6.975 3.292l-3.794-.501a.996.996 0 0 0-1.124.845.987.987 0 0 0 .858 1.108l5.946.785a.996.996 0 0 0 1.124-.845l.797-5.86a.987.987 0 0 0-.858-1.107.994.994 0 0 0-1.124.846l-.446 3.28A10.997 10.997 0 0 0 12 1.322c-6.065 0-11 4.862-11 10.839C1 18.137 5.935 23 12 23\\" fill-rule=\\"evenodd\\"/></svg>","FULLSCREEN_OFF":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M5.5 9H8V2H5v4H1v3h4.5zm13 0H16V2h3v4h4v3h-4.5zm-13 6H8v7H5v-4H1v-3h4.5zm13 0H16v7h3v-4h4v-3h-4.5z\\" fill-rule=\\"evenodd\\"/></svg>","FULLSCREEN_ON":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M21.5 22H23v-7h-3v4h-4v3h5.5zM23 3.5V9h-3V5h-4V2h7v1.5zm-22 17V15h3v4h4v3H1v-1.5zM2.5 2H1v7h3V5h4V2H2.5z\\" fill-rule=\\"evenodd\\"/></svg>","VOLUME_OFF":"<svg viewBox=\\"0 0 28 28\\" xmlns=\\"http://www.w3.org/2000/svg\\"><defs><style>.cls-1{fill:#fff;opacity:0.4;}.cls-2{fill:#231f20;}</style></defs><title>sound_off_button</title><circle class=\\"cls-1\\" cx=\\"14.06\\" cy=\\"13.96\\" r=\\"13.74\\"/><path class=\\"cls-2\\" d=\\"M16,2.93A13.07,13.07,0,1,1,2.93,16,13.08,13.08,0,0,1,16,2.93M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Z\\" transform=\\"translate(-2 -2)\\"/><g id=\\"Page-1\\"><g id=\\"Video-Player-Skin\\"><g id=\\"Video-Copy\\"><g id=\\"volume-off\\"><path id=\\"Shape\\" class=\\"cls-2\\" d=\\"M14.25,9.17l-3.79,4.11H6.84c-.78,0-1,.46-1,.89V17.7a1,1,0,0,0,1,1h3.65l3.79,4.18a1.09,1.09,0,0,0,.53.14,1,1,0,0,0,.5-.14,1,1,0,0,0,.5-.9V10a1,1,0,0,0-.5-.9,1.06,1.06,0,0,0-1,.05Z\\" transform=\\"translate(-2 -2)\\"/><path id=\\"Fill-1\\" class=\\"cls-2\\" d=\\"M22.91,16.21l3-3a.92.92,0,1,0-1.3-1.3l-3,3-3-3a.92.92,0,1,0-1.3,1.3l3,3-3,3a.92.92,0,1,0,1.3,1.3l3-3,3,3a.92.92,0,1,0,1.3-1.3Z\\" transform=\\"translate(-2 -2)\\"/></g></g></g></g></svg>","VOLUME_ON":"<svg viewBox=\\"0 0 28 28\\" xmlns=\\"http://www.w3.org/2000/svg\\"><defs><style>.cls-1{fill:#fff;opacity:0.4;}.cls-2{fill:#231f20;}</style></defs><title>sound_on_button</title><circle class=\\"cls-1\\" cx=\\"13.96\\" cy=\\"14.06\\" r=\\"13.74\\"/><path class=\\"cls-2\\" d=\\"M16,2.93A13.07,13.07,0,1,1,2.93,16,13.08,13.08,0,0,1,16,2.93M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Z\\" transform=\\"translate(-2 -2)\\"/><g id=\\"Page-1\\"><g id=\\"Video-Player-Skin\\"><g id=\\"Video-Copy\\"><g id=\\"volume\\"><path id=\\"Shape\\" class=\\"cls-2\\" d=\\"M14.24,9.17l-3.79,4.11H6.82c-.78,0-1,.46-1,.89V17.7a1,1,0,0,0,1,1h3.65l3.79,4.18a1.09,1.09,0,0,0,.53.14,1,1,0,0,0,.5-.14,1,1,0,0,0,.5-.9V10a1,1,0,0,0-.5-.9,1.06,1.06,0,0,0-1,.05Z\\" transform=\\"translate(-2 -2)\\"/><path id=\\"Shape-2\\" data-name=\\"Shape\\" class=\\"cls-2\\" d=\\"M19.18,19.33a4.39,4.39,0,0,0,0-6.19.71.71,0,0,0-1,1,3,3,0,0,1,0,4.19.71.71,0,0,0,1,1Z\\" transform=\\"translate(-2 -2)\\"/><path id=\\"Shape-3\\" data-name=\\"Shape\\" class=\\"cls-2\\" d=\\"M23.3,16.23a6.19,6.19,0,0,0-1.81-4.39.71.71,0,1,0-1,1,4.81,4.81,0,0,1,0,6.79.71.71,0,1,0,1,1,6.19,6.19,0,0,0,1.81-4.39Z\\" transform=\\"translate(-2 -2)\\"/></g></g></g></g></svg>","HIVI_VOLUME_OFF":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M6 8.007H1.347C.333 8.007 0 8.769 0 9.391v5.032C0 15.045.333 16 1.347 16H6l5.007 5.796c.215.132.454.205.693.205.24 0 .436-.063.65-.196.429-.265.65-.75.65-1.28V3.447c0-.53-.221-1.02-.65-1.284-.429-.265-.935-.187-1.365.078L6 8.007zM20.305 12l2.425-2.425a.922.922 0 1 0-1.306-1.305l-2.425 2.424-2.423-2.424a.923.923 0 0 0-1.306 1.305L17.695 12l-2.425 2.425a.922.922 0 1 0 1.306 1.304L19 13.306l2.425 2.423a.92.92 0 0 0 1.306 0 .922.922 0 0 0 0-1.304L20.305 12z\\" fill-rule=\\"evenodd\\"></path></svg>","HIVI_VOLUME_ON":"<svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><g fill-rule=\\"evenodd\\"><path d=\\"M6 8.007H1.347C.333 8.007 0 8.769 0 9.391v5.032C0 15.045.333 16 1.347 16H6l5.007 5.796c.215.132.454.205.693.205.24 0 .436-.063.65-.196.429-.265.65-.75.65-1.28V3.447c0-.53-.221-1.02-.65-1.284-.429-.265-.935-.187-1.365.078L6 8.007zm11.612 8.524a5.858 5.858 0 0 0 0-8.253.944.944 0 0 0-1.337 1.332 3.97 3.97 0 0 1 0 5.59.943.943 0 1 0 1.337 1.331z\\"></path><path d=\\"M23.03 12.135c0-2.21-.859-4.292-2.418-5.857a.943.943 0 1 0-1.337 1.332 6.37 6.37 0 0 1 1.868 4.525 6.37 6.37 0 0 1-1.868 4.525.943.943 0 1 0 1.338 1.332 8.249 8.249 0 0 0 2.418-5.857z\\"></path></g></svg>"}');var Nh=o.t(Rh,2),Dh=new window.DOMParser;function Lh(t,e){if(void 0===e&&(e=[]),Nh[t]){var n=Dh.parseFromString(Nh[t],"image/svg+xml").documentElement;return n.setAttribute("class",e.join(" ")),n}return null}var jh=Object.keys(Nh).reduce((function(t,e){return t[e]=e,t}),{}),Vh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vh(e,t),e.prototype.render=function(){var t=this.props.onClick,e=new xh({onClick:t,classNames:this.getClassNames()}).render(),n=Lh(jh.CROSS,["icon"]);return e.appendChild(n),e},e.prototype.getClassNames=function(){return function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}(["button-close"],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t.prototype.getClassNames.call(this)),!1)},e}(Oh),Mh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zh=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Bh=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Fh=function(){function t(t){this.adSlot=t}var e,n,r;return t.prototype.onEnter=function(t){return zh(this,void 0,Promise,(function(){var e=this;return Bh(this,(function(n){return this.button=new Uh({onClick:function(){e.adSlot.emitEvent(Ca.SLOT_CLOSE_IMMEDIATELY),t("hidden")}}).render(),setTimeout((function(){e.adSlot.getElement().appendChild(e.button)}),0),[2]}))}))},t.prototype.onLeave=function(){return zh(this,void 0,Promise,(function(){return Bh(this,(function(t){return this.button.remove(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(n=0,r=y(Ph.SLOT),function(t,e){r(t,e,n)}),Mh("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object])],t)}(),Gh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hh=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},qh=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Wh=function(){function t(t){this.name=t}return t.prototype.onEnter=function(t){return Hh(this,void 0,Promise,(function(){return qh(this,(function(e){return window.ads.transitions=window.ads.transitions||{},window.ads.transitions[this.name]=function(e){return t(e,{allowMulticast:!0})},[2]}))}))},t.prototype.onDestroy=function(){return Hh(this,void 0,Promise,(function(){return qh(this,(function(t){return delete window.ads.transitions[this.name],[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(e=0,n=y(Ph.NAME),function(t,r){n(t,r,e)}),Gh("design:paramtypes",[String])],t);var e,n}(),Kh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$h=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Qh=function(){function t(t){this.element=t,this.stylesBackup={}}var e;return t.prototype.setProperty=function(t,e){return this.saveProperty(t),this.element.style[t]=e,this},t.prototype.saveProperty=function(t){void 0===this.stylesBackup[t]&&(this.stylesBackup[t]=this.element.style[t])},t.prototype.addClass=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.saveClasses(),(t=this.element.classList).add.apply(t,$h([],Yh(e),!1)),this},t.prototype.removeClass=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.saveClasses(),(t=this.element.classList).remove.apply(t,$h([],Yh(e),!1)),this},t.prototype.saveClasses=function(){this.classesBackup||(this.classesBackup=this.element.classList.value)},t.prototype.restore=function(){var t,e;try{for(var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(this.stylesBackup)),r=n.next();!r.done;r=n.next()){var o=Yh(r.value,2),i=o[0],a=o[1];this.element.style[i]=a}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.classesBackup&&(this.element.classList.value=this.classesBackup),this.stylesBackup={},this.classesBackup=void 0},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Kh("design:paramtypes",["function"==typeof(e="undefined"!=typeof HTMLElement&&HTMLElement)?e:Object])],t)}(),Jh=function(){function t(){this.elements=new Map}return t.prototype.element=function(t){return this.elements.has(t)||this.elements.set(t,new Qh(t)),this.elements.get(t)},t.prototype.restore=function(){this.elements.forEach((function(t){return t.restore()})),this.elements.clear()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1})],t)}(),Xh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zh=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ty=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ey=function(){function t(t){this.manipulator=t}var e;return t.prototype.onEnter=function(){return Zh(this,void 0,Promise,(function(){return ty(this,(function(t){return[2]}))}))},t.prototype.onLeave=function(){return Zh(this,void 0,Promise,(function(){return ty(this,(function(t){return this.manipulator.restore(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Xh("design:paramtypes",["function"==typeof(e=void 0!==Jh&&Jh)?e:Object])],t)}(),ny=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ry=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},oy=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},iy=function(){function t(t){this.adSlot=t}var e,n,r;return t.prototype.onEnter=function(t){return ry(this,void 0,Promise,(function(){return oy(this,(function(e){switch(e.label){case 0:return this.adSlot.setConfigProperty("showManually",!0),this.adSlot.addClass("interstitial"),this.adSlot.addClass("out-of-page-template"),this.adSlot.isOutOfPage()?[4,Ia.adjustIframeByContentSize(this.adSlot)]:[3,2];case 1:e.sent(),e.label=2;case 2:return window.ads.runtime.interstitial=window.ads.runtime.interstitial||{},window.ads.runtime.interstitial.available=!0,t("display"),[2]}}))}))},t.prototype.onLeave=function(){return ry(this,void 0,Promise,(function(){return oy(this,(function(t){return qe.emit(Ue.AD_ENGINE_INTERSTITIAL_DISPLAYED),this.adSlot.show(),window.ads.runtime.interstitial.visible=!0,[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(n=0,r=y(Ph.SLOT),function(t,e){r(t,e,n)}),ny("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object])],t)}(),ay=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sy=function(){function t(t){this.manipulator=t}var e;return t.prototype.onEnter=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return this.manipulator.element(document.documentElement).setProperty("overflow","hidden"),[2]}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),ay("design:paramtypes",["function"==typeof(e=void 0!==Jh&&Jh)?e:Object])],t)}(),cy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uy=function(){function t(t,e){this.adSlot=t,this.manipulator=e}var e,n,r,o;return t.prototype.onEnter=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return this.manipulator.element(this.adSlot.element).addClass(Ra.HIDDEN_CLASS),document.body.classList.remove("has-sticky-tlb"),this.adSlot.emitEvent(Ra.HIDDEN_EVENT),[2]}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),cy("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Jh&&Jh)?n:Object])],t)}(),ly=function(){function t(){}return t.prototype.initialize=function(t){t.slotName&&(this.configuration=t,this.railElement=document.querySelectorAll(this.configuration.railSelector)[0],this.railElement&&this.enableSticking())},t.prototype.enableSticking=function(){L.get("options.stickyTbExperiment")?this.registerSuccessListener():qe.on(Ue.AD_ENGINE_UAP_NTC_LOADED,this.registerSuccessListener.bind(this))},t.prototype.registerSuccessListener=function(){var t=this;qe.onSlotEvent(Ra.STATUS_SUCCESS,(function(){t.registerPusherListener(),t.registerViewedListener()}),this.configuration.slotName,!0)},t.prototype.registerPusherListener=function(){var t=this;qe.onSlotEvent(Ra.CUSTOM_EVENT,(function(e){var n;if(e.payload.status===qa.SLOT_STICKED_STATE){var r=(null===(n=document.getElementById(t.configuration.pusherSlotName))||void 0===n?void 0:n.offsetHeight)||36;t.railElement.style.top="".concat(r,"px")}}),this.configuration.pusherSlotName)},t.prototype.registerViewedListener=function(){var t=document.querySelector(this.configuration.pageSelector);t&&(qe.onSlotEvent(Ra.SLOT_VIEWED_EVENT,(function(){setTimeout((function(){t.classList.add("companion-viewed"),t.classList.remove("companion-stick")}),500)}),this.configuration.slotName,!0),t.classList.add("companion-stick"))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h()],t)}(),fy=function(){function t(t,e){this.className=t,this.uiElements=e,this.panelContainer=null}return t.prototype.add=function(t,e,n){var r=this;this.panelContainer=document.createElement("div"),this.panelContainer.className=this.className,this.uiElements.forEach((function(e){e&&e.add(t,r.panelContainer,n)})),e.appendChild(this.panelContainer)},t}(),py=function(){function t(){}return t.add=function(t,e){var n=document.createElement("div"),r=Lh(jh.PAUSE,["play-off-icon","porvata-icon","porvata-off-icon"]),o=Lh(jh.PLAY,["play-on-icon","porvata-icon","porvata-on-icon"]);n.appendChild(o),n.appendChild(r),n.className="play-pause-button porvata-switchable-icon",n.addEventListener("click",(function(){t.isPaused()?t.resume():t.pause()})),t.addEventListener("pause",(function(){n.classList.remove("is-on")})),t.addEventListener("resume",(function(){n.classList.add("is-on")})),t.addEventListener("start",(function(){n.classList.add("is-on")})),e.appendChild(n)},t}(),dy=function(){function t(){}return t.add=function(t,e){var n=document.createElement("div"),r=Lh(jh.FULLSCREEN_OFF,["fullscreen-off-icon","porvata-icon","porvata-off-icon"]),o=Lh(jh.FULLSCREEN_ON,["fullscreen-on-icon","porvata-icon","porvata-on-icon"]);n.appendChild(r),n.appendChild(o),n.className="toggle-fullscreen-button porvata-switchable-icon",n.addEventListener("click",(function(){t.toggleFullscreen()})),t.addEventListener("wikiaFullscreenChange",(function(){t.isFullscreen()?n.classList.add("is-on"):n.classList.remove("is-on")})),t.addEventListener("wikiaAdStop",(function(){t.isFullscreen()&&t.toggleFullscreen()})),e.appendChild(n)},t}();function hy(t,e){t.isMuted()?e.classList.add("is-on"):e.classList.remove("is-on")}var yy=function(){function t(){}return t.add=function(t,e){var n,r,o,i=(n=document.createElement("div"),r=Lh(jh.HIVI_VOLUME_OFF,["volume-off-icon","porvata-icon","porvata-off-icon"]),o=Lh(jh.HIVI_VOLUME_ON,["volume-on-icon","porvata-icon","porvata-on-icon"]),n.className="volume-button porvata-switchable-icon",n.appendChild(r),n.appendChild(o),n);t.addEventListener("wikiaVolumeChange",(function(){hy(t,i)})),t.addEventListener("wikiaAdStarted",(function(){hy(t,i)})),i.addEventListener("click",(function(e){t.toggleVolume(),e.preventDefault()})),e.appendChild(i)},t}(),vy=function(){function t(){}return t.add=function(t,e,n){var r=Oa.get(n.slotName),o=!1;t.addEventListener("loaded",(function(){if(o||(Ia.expand(r),o=!0,setTimeout((function(){t.dispatchEvent("wikiaSlotExpanded")}),1e3)),!t.isFloating){var e=r.getElement().scrollWidth;t.resize(e,e/wy)}})),t.addEventListener("allAdsCompleted",(function(){Ia.collapse(r),t.dispatchEvent("wikiaSlotCollapsed")}))},t}(),gy="outstream-floating",by=function(){function t(){}return t.add=function(t,e,n){if(n.isFloatingEnabled){var r=Oa.get(n.slotName),o=r.getElement(),i=o.querySelector(".video-overlay"),a=o.querySelector(".video-display-wrapper");t.addEventListener("wikiaSlotExpanded",(function(){var s=ru.addListener(i,(function(e){e?o.classList.remove(gy):o.classList.add(gy),t.isFloating=!e;var n=a.offsetWidth,r=e?wy:Sy;t.resize(n,n/r)}),{offsetTop:n.inViewportOffsetTop,offsetBottom:n.inViewportOffsetBottom,areaThreshold:1}),c=function(){t.isFloating=!1,o.classList.remove(gy),ru.removeListener(s);var e=a.offsetWidth;t.resize(e,e/wy)},u=new Uh({onClick:function(){c(),r.emitEvent(Ca.SLOT_CLOSE_IMMEDIATELY)}});e.appendChild(u.render()),t.addEventListener("wikiaAdCompleted",c)}))}},t}(),my=function(){function t(){}return t.add=function(t,e){var n=document.createElement("div"),r=document.createElement("div");n.classList.add("progress-bar"),r.classList.add("current-time"),n.appendChild(r),n.pause=function(){r.style.width="".concat(r.offsetWidth/n.offsetWidth*100,"%")},n.reset=function(){r.style.transitionDuration="",r.style.width="0"},n.rewind=function(){var t=r.style.transitionDuration;n.reset(),Ia.forceRepaint(r),r.style.transitionDuration=t},n.start=function(){var e=t.getRemainingTime();e?(e>0&&(r.style.transitionDuration="".concat(e,"s")),Ia.forceRepaint(r),r.style.width="100%"):r.style.width="0"},t.addEventListener("wikiaAdPlay",n.start),t.addEventListener("wikiaAdCompleted",n.reset),t.addEventListener("wikiaAdRestart",n.rewind),t.addEventListener("wikiaAdPause",n.pause),e.appendChild(n)},t}(),wy=640/360,Sy=640/480,_y=function(){function t(t){this.adSlot=t,this.config=L.get("templates.porvata3")||{}}return t.getName=function(){return"porvata3"},t.getDefaultConfig=function(){return{isFloatingEnabled:!0,inViewportOffsetTop:0,inViewportOffsetBottom:0,onInit:function(){}}},t.prototype.init=function(t){var e=this;return this.adSlot.getElement().classList.contains("ad-slot")||this.adSlot.getElement().classList.add("ad-slot"),this.adSlot.getElement().classList.add("porvata3"),this.adSlot.getElement().setAttribute("data-label",Qi("advertisement")),this.isInsecureMode=t.vpaidMode===lh.INSECURE,ph.isVideoAutoplaySupported()?(t.viewportHookElement=this.adSlot.getElement(),this.isInsecureMode&&(t.container=ph.createVideoContainer(this.adSlot.getElement())),this.adSlot.config.disableExpandAnimation||Ia.collapse(this.adSlot),this.config.onInit(this.adSlot,t,this.config),L.set("options.video.porvataLoaded",!0),Ia.makeResponsive(this.adSlot,wy).then((function(){return ph.inject(t).then((function(n){return e.onReady(n,t)}))}))):this.adSlot.collapse()},t.prototype.onReady=function(t,e){var n=this.adSlot.getElement(),r=[vy,by,my,yy];return this.isInsecureMode&&this.adjustVpaidPlayer(t),n.classList.add("porvata-outstream"),t.addEventListener("loaded",(function(){t.dom.getVideoContainer().classList.remove("hide")})),window.addEventListener("resize",(function(){if(!t.isFloating){var e=n.clientWidth;t.resize(e,e/wy)}})),this.handleSlotStatus(t),function(t,e,n,r){n.forEach((function(n){n&&n.add(t,e,r)}))}(t,t.dom.getInterfaceContainer(),r,{container:t.dom.getInterfaceContainer(),inViewportOffsetTop:this.config.inViewportOffsetTop,inViewportOffsetBottom:this.config.inViewportOffsetBottom,isFloatingEnabled:this.config.isFloatingEnabled&&e.enableInContentFloating,slotName:this.adSlot.getSlotName()}),t},t.prototype.handleSlotStatus=function(t){var e=this,n=null,r=new Promise((function(t){n=t}));t.addEventListener("wikiaAdsManagerLoaded",(function(){e.adSlot.success(),n(null)})),t.addEventListener("wikiaFirstTimeInViewport",(function(){r.then((function(){var n=e.adSlot.getStatus()===Ra.STATUS_SUCCESS?"WithOffer":"WithoutOffer";t.dispatchEvent("wikiaInViewport".concat(n))}))})),t.addEventListener("wikiaEmptyAd",(function(){e.adSlot.collapse(),n(null)}))},t.prototype.adjustVpaidPlayer=function(t){t.addEventListener("loaded",(function(e){var n=e.getAd();n&&ph.isVpaid(n.getContentType()||"")&&(t.dom.getPlayerContainer().classList.add("vpaid-enabled"),t.dom.getPlayerContainer().classList.remove("hide"))})),t.addEventListener("allAdsCompleted",(function(){t.dom.getPlayerContainer().classList.add("hide")}))},t}(),Ey=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Oy=function(){function t(t){this.container=t}var e;return t.prototype.provideDependencies=function(t,e,n,r){var o=this;this.container.bind(Ph.NAME).value(t),this.container.bind(Ph.SLOT).value(e),this.container.bind(Ph.PARAMS).value(n),r.forEach((function(t){return o.container.bind(t)}))},t.prototype.resetDependencies=function(t){var e=this;this.container.unbind(Ph.PARAMS),this.container.unbind(Ph.SLOT),this.container.unbind(Ph.NAME),t.forEach((function(t){return e.container.unbind(t)}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Ey("design:paramtypes",["function"==typeof(e=void 0!==S&&S)?e:Object])],t)}(),Ty=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ay=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Py=function(){function t(t,e,n,r){var o=this;this.templateName=t,this.states=e,this.currentStateKey=n,this.emitter$=r,this.transition=function(t){return Ty(o,void 0,void 0,(function(){return Ay(this,(function(e){switch(e.label){case 0:if(this.currentStateKey===t)throw new Error("Template ".concat(this.templateName," - already is in ").concat(this.currentStateKey," state"));return this.emit("leaving"),[4,this.currentState.leave()];case 1:return e.sent(),this.emit("left"),this.currentStateKey=t,this.emit("entering"),[4,this.currentState.enter(this.transition)];case 2:return e.sent(),this.emit("entered"),[2]}}))}))}}return Object.defineProperty(t.prototype,"currentState",{get:function(){if(!this.states.has(this.currentStateKey))throw new Error("Template ".concat(this.templateName," - state (").concat(this.currentStateKey,") does not exist."));return this.states.get(this.currentStateKey)},enumerable:!1,configurable:!0}),t.prototype.init=function(){return Ty(this,void 0,Promise,(function(){return Ay(this,(function(t){switch(t.label){case 0:return this.emit("initialising"),[4,this.currentState.enter(this.transition)];case 1:return t.sent(),this.emit("initialised"),[2]}}))}))},t.prototype.destroy=function(){return Ty(this,void 0,Promise,(function(){return Ay(this,(function(t){switch(t.label){case 0:return this.emit("destroying"),[4,this.currentState.leave()];case 1:return t.sent(),[4,Promise.all(Array.from(this.states.values()).map((function(t){return t.destroy()})))];case 2:return t.sent(),this.emit("destroyed"),[2]}}))}))},t.prototype.emit=function(t){this.emitter$.next({type:t,templateName:this.templateName,stateName:this.currentStateKey})},t}(),Cy=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Iy=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ky=function(){function t(t,e){this.name=t,this.handlers=e}return t.prototype.enter=function(t){return Cy(this,void 0,Promise,(function(){var e,n,r=this;return Iy(this,(function(o){switch(o.label){case 0:return e=Ci(),n=this.useTransition(t,e),[4,Promise.all(this.handlers.map((function(t){return Cy(r,void 0,void 0,(function(){return Iy(this,(function(e){return[2,t.onEnter(n)]}))}))})))];case 1:return o.sent(),e.resolve(null),[2]}}))}))},t.prototype.leave=function(){return Cy(this,void 0,Promise,(function(){var t=this;return Iy(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this.handlers.filter((function(t){return"onLeave"in t})).map((function(e){return Cy(t,void 0,void 0,(function(){return Iy(this,(function(t){return[2,e.onLeave()]}))}))})))];case 1:return e.sent(),[2]}}))}))},t.prototype.destroy=function(){return Cy(this,void 0,Promise,(function(){var t=this;return Iy(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this.handlers.filter((function(t){return"onDestroy"in t})).map((function(e){return Cy(t,void 0,void 0,(function(){return Iy(this,(function(t){return[2,e.onDestroy()]}))}))})))];case 1:return e.sent(),[2]}}))}))},t.prototype.useTransition=function(t,e){var n=this,r=!1;return function(o,i){var a=(void 0===i?{}:i).allowMulticast,s=void 0!==a&&a;return Cy(n,void 0,void 0,(function(){return Iy(this,(function(n){switch(n.label){case 0:return[4,e];case 1:if(n.sent(),r&&!s)throw new Error('Error thrown while attempting to transition to "'.concat(o,'" state. ')+'Attempting to call transition from "'.concat(this.name,'" state a second time.\n')+'This may be caused by:\n- not cleaning up in an "onLeave" method,\n- calling transition in a different handler at the same time.\nYou may suppress this error by setting allowMulticast to true.\n');return r=!0,[2,t(o,{allowMulticast:s})]}}))}))}},t}(),xy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ry=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ny=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Dy=function(){function t(t,e){this.container=t,this.dependenciesManager=e,this.settings=new Map,this.machines=new Map}var e,n;return t.prototype.has=function(t){return this.settings.has(t)},t.prototype.register=function(t,e,n,r){void 0===r&&(r=[]);var o=new oe;return this.settings.set(t,{StateHandlerTypesDict:e,initialStateKey:n,emitter$:o,templateDependencies:r.flat(1/0)}),o.asObservable()},t.prototype.destroy=function(t){return Ry(this,void 0,Promise,(function(){var e;return Ny(this,(function(n){switch(n.label){case 0:return e=Array.from(this.machines.get(t)||[]),[4,Promise.all(e.map((function(t){return t.destroy()})))];case 1:return n.sent(),this.machines.delete(t),[2]}}))}))},t.prototype.destroyAll=function(){return Ry(this,void 0,Promise,(function(){return Ny(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this.machines.values()).map((function(t){return Promise.all(Array.from(t.values()).map((function(t){return t.destroy()})))})))];case 1:return t.sent(),this.machines.clear(),[2]}}))}))},t.prototype.init=function(t,e,n){if(void 0===n&&(n={}),!this.settings.has(t))throw new Error("Template ".concat(t," was not registered"));qe.emit(Ue.AD_ENGINE_TEMPLATE_LOADED,{name:t,state:e?e.getSlotName():""});var r=this.settings.get(t),o=r.StateHandlerTypesDict,i=r.initialStateKey,a=r.emitter$,s=r.templateDependencies;this.dependenciesManager.provideDependencies(t,e,n,s);var c=this.createTemplateStateMap(o);this.dependenciesManager.resetDependencies(s);var u=new Py(t,c,i,a);u.init(),this.saveMachine(e,u)},t.prototype.saveMachine=function(t,e){var n,r,o=this.machines.get(null!==(n=null==t?void 0:t.getSlotName())&&void 0!==n?n:"__default__")||new Set;o.add(e),this.machines.set(null!==(r=null==t?void 0:t.getSlotName())&&void 0!==r?r:"__default__",o)},t.prototype.createTemplateStateMap=function(t){var e=this,n=Object.keys(t).map((function(n){return[n,e.createTemplateState(t,n)]}));return new Map(n)},t.prototype.createTemplateState=function(t,e){var n=this,r=t[e].map((function(t){return n.createStateHandler(t)}));return new ky(e,r)},t.prototype.createStateHandler=function(t){return this.container.bind(t).scope("Transient"),this.container.get(t)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),xy("design:paramtypes",["function"==typeof(e=void 0!==S&&S)?e:Object,"function"==typeof(n=void 0!==Oy&&Oy)?n:Object])],t)}(),Ly=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jy=function(t,e){return function(n,r){e(n,r,t)}},Vy=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Uy=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},My=function(){function t(t,e){this.adSlot=t,this.params=e}var e,r;return t.prototype.onEnter=function(t){return Vy(this,void 0,Promise,(function(){return Uy(this,(function(e){switch(e.label){case 0:return this.adSlot.setConfigProperty("showManually",!0),this.adSlot.addClass("expanded-slot"),this.adSlot.addClass("bfaa-template"),this.adSlot.addClass("slot-responsive"),this.adSlot.addClass("theme-hivi"),this.adSlot.getAdContainer().classList.add("iframe-container"),this.ensureImage(),[4,Ia.onReady(this.adSlot)];case 1:return e.sent(),[4,this.awaitVisibleDOM()];case 2:return e.sent(),Xa(this.params)?t("sticky"):(Za(),t("impact")),[2]}}))}))},t.prototype.ensureImage=function(){this.params.image2&&this.params.image2.background||this.params.image1.element.classList.remove("hidden-state")},t.prototype.awaitVisibleDOM=function(){return Vy(this,void 0,Promise,(function(){return Uy(this,(function(t){switch(t.label){case 0:return document.hidden?[4,Ti(window,"visibilitychange")]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.onLeave=function(){return Vy(this,void 0,Promise,(function(){return Uy(this,(function(t){return this.adSlot.show(),document.body.classList.add("has-uap"),[2]}))}))},t.prototype.onDestroy=function(){return Vy(this,void 0,Promise,(function(){return Uy(this,(function(t){return document.body.classList.remove("has-uap"),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),jy(0,y(Ph.SLOT)),jy(1,y(Ph.PARAMS)),Ly("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(r=void 0!==n.UapParams&&n.UapParams)?r:Object])],t)}(),zy=function(){function t(){}return t.add=function(t,e,n){var r,o,i=gn.isSmartphone()||gn.isTablet(),a=document.createElement("div"),s=e.querySelector(".dynamic-panel");function c(){o=window.setTimeout((function(){a.classList.add("fading"),s.classList.add("fading")}),3e3),r=window.setTimeout((function(){e.classList.remove("ui-visible")}),4e3)}function u(){clearTimeout(r),clearTimeout(o),a.classList.remove("fading"),s.classList.remove("fading")}a.classList.add("toggle-ui-overlay"),t.addEventListener("start",(function(){e.classList.add("ui-visible"),u(),c()})),i?(a.addEventListener("click",(function(){e.classList.toggle("ui-visible"),u(),t.isPlaying()&&c()})),t.addEventListener("resume",c),t.addEventListener("pause",u)):(e.addEventListener("mouseenter",(function(){e.classList.add("ui-visible"),u()})),e.addEventListener("mouseleave",(function(){c()})),a.addEventListener("click",(function(){top.open(n.clickThroughURL,"_blank"),qe.emit(Ue.AD_ENGINE_VIDEO_TOGGLE_UI_OVERLAY_CLICKED,{adSlotName:t.settings.getSlotName(),ad_status:"video-click"})}))),e.appendChild(a)},t}(),By=function(){function t(){}return t.add=function(t,e){t.addEventListener("wikiaAdStarted",(function(){e.classList.remove("hide")})),t.addEventListener("wikiaAdCompleted",(function(){e.classList.add("hide")}))},t}(),Fy=function(){function t(){}return t.add=function(t,e,n){t.addEventListener("wikiaAdStarted",(function(){n.thumbnail.classList.add("hidden-state")})),t.addEventListener("wikiaAdCompleted",(function(){n.thumbnail.classList.remove("hidden-state")}))},t}();function Gy(t){t.style.display="none";var e=t.offsetWidth;return t.style.display="",e}function Hy(t,e){e.container.classList.contains("theme-hivi")||(t.style.width=t.style.width||function(t){var e=t.container.offsetWidth,n=t.hideWhenPlaying.offsetWidth;return"".concat(100*n/e,"%")}(e)),t.style.display="block"}var qy=function(){function t(){}return t.add=function(t,e,n){var r=document.createElement("div");r.classList.add("player-overlay"),r.classList.add("replay-overlay"),r.addEventListener("click",(function(){!function(t,e,n){t.play(),t.getPlayCounter()>1&&e.emit(n,{adSlotName:t.settings.getSlotName(),ad_status:"replay-click"})}(t,qe,Ue.AD_ENGINE_VIDEO_OVERLAY_CLICKED)})),n.autoPlay||Hy(r,n),t.addEventListener("wikiaAdCompleted",(function(){Hy(r,n),Gy(e)}));var o=function(t){var e=Lh(jh.REPLAY,["replay-icon","overlay-icon"]);return t.appendChild(e),e}(r);if(!n.autoPlay){var i=function(t){var e=Lh(jh.PLAY,["play-icon","overlay-icon"]);return t.appendChild(e),e}(r);o.style.display="none",t.addEventListener("start",(function(){o.style.display="",i.style.display="none"}))}var a=t.params&&t.params.thumbnail?t.params.thumbnail:n.thumbnail;a.appendChild(r),Gy(a),Gy(e)},t}(),Wy=function(){function t(){}return t.add=function(t,e,n){var r=document.createElement("div"),o=Lh(jh.LEARN_MORE,["learn-more-icon","porvata-icon"]),i=document.createElement("div");i.innerText=Qi("learn-more"),r.appendChild(i),r.appendChild(o),r.classList.add("learn-more"),r.addEventListener("click",(function(){top.open(n.clickThroughURL,"_blank"),qe.emit(Ue.AD_ENGINE_VIDEO_LEARN_MORE_CLICKED,{adSlotName:t.settings.getSlotName(),ad_status:"learn-more-click"})})),e.appendChild(r)},t}();function Ky(t){return Qt((function(e,n){ye(t).subscribe(Jt(n,(function(){return n.complete()}),xt)),!n.closed&&e.subscribe(n)}))}var Yy=new qd(Bd),$y=Yy,Qy=function(){return Qy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qy.apply(this,arguments)},Jy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xy=function(t,e){return function(n,r){e(n,r,t)}},Zy=function(){function t(t,e){this.adSlot=t,this.params=e,this.state$=new Re(1),this.video$=this.state$.asObservable()}var e,r;return t.prototype.register=function(){var t=this,e=this.getPlayerParams();this.setCtpTargeting(e.autoPlay),ph.inject(e).then((function(n){return t.state$.next({player:n,params:e})}))},t.prototype.getPlayerParams=function(){return Qy(Qy({},this.params),{vastTargeting:{},autoPlay:this.isAutoPlayEnabled(),container:this.createPlayerContainer(),hideWhenPlaying:this.params.thumbnail})},t.prototype.createPlayerContainer=function(){var t=ph.createVideoContainer(this.adSlot.getElement());return t.parentElement.classList.add("hide"),t},t.prototype.isAutoPlayEnabled=function(){var t=!Xa(this.params),e=this.params.autoPlay&&!t,n=this.params.autoPlay&&t;return Boolean(e||n)},t.prototype.setCtpTargeting=function(t){var e=t?"":"-audio",n=t?"":"-ctp";this.adSlot.setConfigProperty("slotNameSuffix",n||e||""),this.adSlot.setTargetingConfigProperty("audio",e?"yes":"no"),this.adSlot.setTargetingConfigProperty("ctp",n?"yes":"no")},t.prototype.discard=function(){this.state$.complete()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Xy(0,y(Ph.SLOT)),Xy(1,y(Ph.PARAMS)),Jy("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(r=void 0!==n.UapParams&&n.UapParams)?r:Object])],t)}(),tv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ev=function(t,e){return function(n,r){e(n,r,t)}},nv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},rv=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ov=function(){function t(t,e,n){this.adSlot=t,this.params=e,this.playerRegistry=n,this.destroy$=new oe}var e,r,o,i;return e=t,t.prototype.onEnter=function(){return nv(this,void 0,Promise,(function(){var t=this;return rv(this,(function(e){return qa.isVideoEnabled(this.params)?(es.setupSlotVideoAdUnit(this.adSlot,this.params),this.playerRegistry.register(),this.playerRegistry.video$.pipe(je(1),Hi((function(e){var n=e.player,r=e.params;return t.adjustUI(n,r)})),be((function(e){var n=e.player;return t.handleEvents(n)})),Ky(this.destroy$)).subscribe(),[2]):[2,this.playerRegistry.discard()]}))}))},t.prototype.handleEvents=function(t){var n,r,o=this;return ke(Vd(t,"adCanPlay").pipe(Hi((function(){return t.dom.getVideoContainer().classList.remove("hide")}))),Vd(t,"wikiaAdStarted").pipe(be((function(){return Vd(t,"wikiaAdCompleted")})),(n=e.DEBOUNCE_TIME,void 0===r&&(r=Yy),Qt((function(t,e){var o=null,i=null,a=null,s=function(){if(o){o.unsubscribe(),o=null;var t=i;i=null,e.next(t)}};function c(){var t=a+n,i=r.now();if(i<t)return o=this.schedule(void 0,t-i),void e.add(o);s()}t.subscribe(Jt(e,(function(t){i=t,a=r.now(),o||(o=r.schedule(c,n),e.add(o))}),(function(){s(),e.complete()}),void 0,(function(){i=o=null})))}))),Hi((function(){return t.reload()}))),qe.action$.pipe(Fe(qe.getGlobalAction(Ue.AD_ENGINE_SLOT_EVENT)),Le((function(t){var e;return t.event===Ra.CUSTOM_EVENT&&t.adSlotName===o.adSlot.getSlotName()&&(null===(e=t.payload)||void 0===e?void 0:e.status)===qa.SLOT_FORCE_UNSTICK})),Hi((function(){return t.stop()}))))},t.prototype.adjustUI=function(t,e){my.add(t,t.dom.getInterfaceContainer()),new fy("bottom-panel dynamic-panel",[py,yy,dy]).add(t,t.dom.getInterfaceContainer(),e),zy.add(t,t.dom.getInterfaceContainer(),e),By.add(t,e.container.parentElement),Fy.add(t,void 0,e),qy.add(t,t.dom.getPlayerContainer(),e),Wy.add(t,t.dom.getPlayerContainer(),e)},t.prototype.onDestroy=function(){return nv(this,void 0,Promise,(function(){return rv(this,(function(t){return this.destroy$.next(),this.destroy$.complete(),this.playerRegistry.discard(),[2]}))}))},t.DEBOUNCE_TIME=10,e=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),ev(0,y(Ph.SLOT)),ev(1,y(Ph.PARAMS)),tv("design:paramtypes",["function"==typeof(r=void 0!==Ra&&Ra)?r:Object,"function"==typeof(o=void 0!==n.UapParams&&n.UapParams)?o:Object,"function"==typeof(i=void 0!==Zy&&Zy)?i:Object])],t)}();function iv(t,e){return Qt((function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(Jt(r,(function(n){null==o||o.unsubscribe();var a=0,c=i++;ye(t(n,c)).subscribe(o=Jt(r,(function(t){return r.next(e?e(n,t,c,a++):t)}),(function(){o=null,s()})))}),(function(){a=!0,s()})))}))}var av=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},cv=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},uv=function(){function t(t){this.playerRegistry=t,this.destroy$=new oe}var e;return t.prototype.onEnter=function(t){return sv(this,void 0,Promise,(function(){return cv(this,(function(e){return this.playerRegistry.video$.pipe(je(1),Le((function(t){return!t.params.autoPlay})),iv((function(t){return Vd(t.player,"wikiaAdStarted").pipe(je(1))})),Hi((function(){return t("impact",{allowMulticast:!0})})),Ky(this.destroy$)).subscribe(),[2]}))}))},t.prototype.onDestroy=function(){return sv(this,void 0,Promise,(function(){return cv(this,(function(t){return this.destroy$.next(),this.destroy$.complete(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),av("design:paramtypes",["function"==typeof(e=void 0!==Zy&&Zy)?e:Object])],t)}(),lv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},pv=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},dv=function(){function t(t){this.playerRegistry=t,this.destroy$=new oe}var e;return t.prototype.onEnter=function(t){return fv(this,void 0,Promise,(function(){return pv(this,(function(e){return this.playerRegistry.video$.pipe(je(1),iv((function(t){return Vd(t.player,"wikiaAdStarted").pipe(Ve(1))})),Hi((function(){return t("impact",{allowMulticast:!0})})),Ky(this.destroy$)).subscribe(),[2]}))}))},t.prototype.onDestroy=function(){return fv(this,void 0,Promise,(function(){return pv(this,(function(t){return this.destroy$.next(),this.destroy$.complete(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),lv("design:paramtypes",["function"==typeof(e=void 0!==Zy&&Zy)?e:Object])],t)}(),hv=Symbol("navbar"),yv=Symbol("page"),vv=Symbol("footer"),gv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bv=function(t,e){return function(n,r){e(n,r,t)}},mv=function(){function t(t,e,n){this.params=t,this.adSlot=e,this.navbar=n}var e,r,o;return t.prototype.getPageOffsetImpact=function(){return this.getSlotHeightImpact()+(L.get("templates.ignoreNavbarHeight")?0:this.navbar.offsetHeight)},t.prototype.getPageOffsetResolved=function(){return this.getSlotHeightResolved()+(L.get("templates.ignoreNavbarHeight")?0:this.navbar.offsetHeight)},t.prototype.getNavbarOffsetImpactToResolved=function(){return this.getSlotHeightImpactToResolved()},t.prototype.getNavbarOffsetResolvedToNone=function(){var t=this.getNavbarOffsetResolved()-window.scrollY;return t<=0?0:t},t.prototype.getNavbarOffsetResolved=function(){return this.getSlotHeightResolved()},t.prototype.getSlotOffsetResolvedToNone=function(){return this.getNavbarOffsetResolvedToNone()-this.getSlotHeightResolved()},t.prototype.getSlotHeightImpactToResolved=function(){var t=this.getSlotHeightResolved(),e=this.getSlotHeightImpact();return e-(e-t)*this.getProgressImpactToResolved()},t.prototype.getProgressImpactToResolved=function(){var t=this.getSlotHeightResolved(),e=this.getSlotHeightImpact(),n=window.scrollY/(e-t);return n>=1?1:n},t.prototype.getSlotHeightImpact=function(){var t,e,n;return void 0===(null===(n=null===(e=null===(t=this.params)||void 0===t?void 0:t.config)||void 0===e?void 0:e.aspectRatio)||void 0===n?void 0:n.default)?this.adSlot.element.offsetHeight:this.calculateSlotHeight(this.params.config.aspectRatio.default)},t.prototype.getSlotHeightResolved=function(){var t,e,n;return void 0===(null===(n=null===(e=null===(t=this.params)||void 0===t?void 0:t.config)||void 0===e?void 0:e.aspectRatio)||void 0===n?void 0:n.resolved)?this.adSlot.element.offsetHeight:this.calculateSlotHeight(this.params.config.aspectRatio.resolved)},t.prototype.calculateSlotHeight=function(t){return 1/t*this.adSlot.element.offsetWidth},t.prototype.getSlotHeightClipping=function(){var t=window.scrollY;return!t||t<=0?"unset":t>=this.adSlot.element.offsetHeight?"rect(0, 0, 0, 0)":"rect(0 ".concat(this.adSlot.element.offsetWidth,"px ").concat(this.adSlot.element.offsetHeight-t,"px 0)")},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),bv(0,y(Ph.PARAMS)),bv(1,y(Ph.SLOT)),bv(2,y(hv)),gv("design:paramtypes",["function"==typeof(e=void 0!==n.UapParams&&n.UapParams)?e:Object,"function"==typeof(r=void 0!==Ra&&Ra)?r:Object,"function"==typeof(o="undefined"!=typeof HTMLElement&&HTMLElement)?o:Object])],t)}(),wv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sv=function(t,e){return function(n,r){e(n,r,t)}},_v=function(){function t(t,e,n,r,o){this.params=t,this.adSlot=e,this.page=n,this.manipulator=r,this.reader=o}var e,r,o,i,a;return t.prototype.addClassToPage=function(t){this.manipulator.element(this.page).addClass(t)},t.prototype.setPageOffsetImpact=function(){this.setPageOffset(this.reader.getPageOffsetImpact())},t.prototype.setPageOffset=function(t){this.manipulator.element(this.page).setProperty("marginTop","".concat(t,"px"))},t.prototype.setSlotOffsetResolvedToNone=function(){this.setSlotOffset(this.reader.getSlotOffsetResolvedToNone())},t.prototype.setSlotOffset=function(t){this.manipulator.element(this.adSlot.getElement()).setProperty("top","".concat(t,"px"))},t.prototype.setSlotHeightImpactToResolved=function(){this.setSlotHeight("".concat(this.reader.getSlotHeightImpactToResolved(),"px"))},t.prototype.setSlotHeightResolved=function(){this.setSlotHeight("".concat(this.reader.getSlotHeightResolved(),"px"))},t.prototype.setSlotHeightImpact=function(){this.setSlotHeight("".concat(this.reader.getSlotHeightImpact(),"px"))},t.prototype.setSlotHeight=function(t){this.manipulator.element(this.adSlot.getElement()).setProperty("height",t)},t.prototype.setSlotHeightClipping=function(){this.manipulator.element(this.adSlot.getElement()).setProperty("clip",this.reader.getSlotHeightClipping())},t.prototype.setPlaceholderHeightResolved=function(){this.setPlaceholderHeight("".concat(this.reader.getSlotHeightResolved(),"px"))},t.prototype.setPlaceholderHeightImpact=function(){this.setPlaceholderHeight("".concat(this.reader.getSlotHeightImpact(),"px"))},t.prototype.setPlaceholderHeight=function(t){var e=this.adSlot.getElement().parentElement;e.classList.contains("ad-slot-placeholder")&&(e=e.parentElement),this.manipulator.element(e).setProperty("height",t),qe.emit(Ue.AD_ENGINE_UAP_DOM_CHANGED,{element:"placeholder",size:t})},t.prototype.setResolvedImage=function(){this.params.image2&&this.params.image2.background?(this.manipulator.element(this.params.image1.element).addClass("hidden-state"),this.manipulator.element(this.params.image2.element).removeClass("hidden-state")):this.params.image1&&this.manipulator.element(this.params.image1.element).removeClass("hidden-state")},t.prototype.setImpactImage=function(){this.params.image1&&this.manipulator.element(this.params.image1.element).removeClass("hidden-state")},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Sv(0,y(Ph.PARAMS)),Sv(1,y(Ph.SLOT)),Sv(2,y(yv)),wv("design:paramtypes",["function"==typeof(e=void 0!==n.UapParams&&n.UapParams)?e:Object,"function"==typeof(r=void 0!==Ra&&Ra)?r:Object,"function"==typeof(o="undefined"!=typeof HTMLElement&&HTMLElement)?o:Object,"function"==typeof(i=void 0!==Jh&&Jh)?i:Object,"function"==typeof(a=void 0!==mv&&mv)?a:Object])],t)}(),Ev=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ov=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Tv=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Av=function(){function t(t,e){this.domListener=t,this.manager=e,this.unsubscribe$=new oe}var e,n;return t.prototype.onEnter=function(){return Ov(this,void 0,Promise,(function(){var t=this;return Tv(this,(function(e){return this.manager.setImpactImage(),this.domListener.resize$.pipe(Ff({}),Hi((function(){t.manager.setSlotHeightImpact(),t.manager.setPlaceholderHeightImpact()})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return Ov(this,void 0,Promise,(function(){return Tv(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Ev("design:paramtypes",["function"==typeof(e=void 0!==Kd&&Kd)?e:Object,"function"==typeof(n=void 0!==_v&&_v)?n:Object])],t)}(),Pv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cv=function(){function t(t){this.footer=t}var e,n,r;return t.prototype.useScrollCorrection=function(){var t=window.scrollY;return function(){return window.scrollBy(0,t-window.scrollY)}},t.prototype.usePositionCorrection=function(t){void 0===t&&(t=this.footer);var e=t.getBoundingClientRect().top;return function(){return window.scrollBy(0,t.getBoundingClientRect().top-e)}},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(n=0,r=y(vv),function(t,e){r(t,e,n)}),Pv("design:paramtypes",["function"==typeof(e="undefined"!=typeof HTMLElement&&HTMLElement)?e:Object])],t)}(),Iv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kv=function(t,e){return function(n,r){e(n,r,t)}},xv=function(){function t(t,e,n){this.adSlot=t,this.fallbackTimeout=n}var e,r,o;return e=t,t.provide=function(t){return{bind:e,provider:function(n){return new e(n.get(Ph.SLOT),n.get(Ph.PARAMS),t)}}},t.prototype.isViewedAndDelayed=function(){var t=this;return ke(qf(!1),Ie(this.adSlot.loaded.then((function(){return t.adSlot.viewed})).then((function(){return Ei(t.fallbackTimeout)}))).pipe(Zt((function(){return!0}))))},e=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),kv(0,y(Ph.SLOT)),kv(1,y(Ph.PARAMS)),Iv("design:paramtypes",["function"==typeof(r=void 0!==Ra&&Ra)?r:Object,"function"==typeof(o=void 0!==n.UapParams&&n.UapParams)?o:Object,Number])],t)}(),Rv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Dv=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Lv=function(){function t(t,e,n,r,o){this.adSlot=t,this.domListener=e,this.scrollCorrector=n,this.reader=r,this.timeout=o,this.unsubscribe$=new oe}var e,n,r,o,i,a,s;return t.prototype.onEnter=function(t){return Nv(this,void 0,Promise,(function(){var e=this;return Dv(this,(function(n){return this.domListener.scroll$.pipe(Ff({}),If(this.timeout.isViewedAndDelayed()),Le((function(){return e.reachedResolvedSize()})),Hi((function(n){var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(n,2)[1],o=e.scrollCorrector.usePositionCorrection();r?(e.adSlot.emitEvent(qa.SLOT_STICKY_STATE_SKIPPED),t("transition").then(o)):t("sticky").then(o)})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.reachedResolvedSize=function(){return 1===this.reader.getProgressImpactToResolved()},t.prototype.onLeave=function(){return Nv(this,void 0,Promise,(function(){return Dv(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(a=0,s=y(Ph.SLOT),function(t,e){s(t,e,a)}),Rv("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Kd&&Kd)?n:Object,"function"==typeof(r=void 0!==Cv&&Cv)?r:Object,"function"==typeof(o=void 0!==mv&&mv)?o:Object,"function"==typeof(i=void 0!==xv&&xv)?i:Object])],t)}(),jv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Uv=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Mv=function(){function t(t,e){this.domListener=t,this.manager=e,this.unsubscribe$=new oe}var e,n;return t.prototype.onEnter=function(){return Vv(this,void 0,Promise,(function(){var t=this;return Uv(this,(function(e){return ke(this.domListener.resize$,this.domListener.scroll$).pipe(Ff({}),Hi((function(){return t.manager.setSlotHeightClipping()})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return Vv(this,void 0,Promise,(function(){return Uv(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),jv("design:paramtypes",["function"==typeof(e=void 0!==Kd&&Kd)?e:Object,"function"==typeof(n=void 0!==_v&&_v)?n:Object])],t)}(),zv=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Bv=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function Fv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.pipe(iv((function(e){return ke.apply(void 0,Bv([],zv(t),!1)).pipe(Zt((function(){return e})))})))}}var Gv=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Hv=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function qv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fv.apply(void 0,Hv(Hv([],Gv(t),!1),[qf({})],!1))}var Wv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kv=function(){function t(t,e){this.params=t,this.reader=e}var e,r,o,i;return t.prototype.getVideoSizeImpact=function(){return this.calculateVideoSize(this.reader.getSlotHeightImpact(),0)},t.prototype.getVideoSizeResolved=function(){return this.calculateVideoSize(this.reader.getSlotHeightResolved(),1)},t.prototype.getVideoSizeImpactToResolved=function(){return this.calculateVideoSize(this.reader.getSlotHeightImpactToResolved(),this.reader.getProgressImpactToResolved())},t.prototype.calculateVideoSize=function(t,e){if(this.params.config){var n=this.getSize(t,e),r=n.height,o=n.width;return{top:this.getPercentage(e,this.params.config.state.top),right:this.getPercentage(e,this.params.config.state.right),bottom:this.getPercentage(e,this.params.config.state.bottom),height:Math.ceil(r),width:Math.ceil(o)}}},t.prototype.getSize=function(t,e){if(this.params.config){var n=t*(this.getPercentage(e,this.params.config.state.height)/100);return{height:n,width:n*(16/9)}}},t.prototype.getPercentage=function(t,e){if(e){var n=e.default;return n-(n-e.resolved)*t}},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(o=0,i=y(Ph.PARAMS),function(t,e){i(t,e,o)}),Wv("design:paramtypes",["function"==typeof(e=void 0!==n.UapParams&&n.UapParams)?e:Object,"function"==typeof(r=void 0!==mv&&mv)?r:Object])],t)}(),Yv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$v=function(){function t(t,e,n){this.manipulator=t,this.reader=e,this.params=n}var e,r,o,i,a;return t.prototype.setVideoSizeResolved=function(t){if(!t.isFullscreen())return this.setVideoSize(t,this.reader.getVideoSizeResolved())},t.prototype.setVideoSizeImpact=function(t){if(!t.isFullscreen())return this.setVideoSize(t,this.reader.getVideoSizeImpact())},t.prototype.setVideoSizeImpactToResolved=function(t){if(!t.isFullscreen())return this.setVideoSize(t,this.reader.getVideoSizeImpactToResolved())},t.prototype.setVideoSize=function(t,e){t.resize(e.width,e.height);var n=t.dom.getPlayerContainer().parentElement,r=this.params.thumbnail;this.setProperties(n,e),this.setProperties(r,e)},t.prototype.setProperties=function(t,e){var n=e.width,r=e.height,o=e.top,i=e.right,a=e.bottom;this.manipulator.element(t).setProperty("width","".concat(n,"px")),this.manipulator.element(t).setProperty("height","".concat(r,"px")),"number"==typeof o&&this.manipulator.element(t).setProperty("top","".concat(o,"%")),"number"==typeof i&&this.manipulator.element(t).setProperty("right","".concat(i,"%")),"number"==typeof a&&this.manipulator.element(t).setProperty("bottom","".concat(a,"%"))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(i=2,a=y(Ph.PARAMS),function(t,e){a(t,e,i)}),Yv("design:paramtypes",["function"==typeof(e=void 0!==Jh&&Jh)?e:Object,"function"==typeof(r=void 0!==Kv&&Kv)?r:Object,"function"==typeof(o=void 0!==n.UapParams&&n.UapParams)?o:Object])],t)}(),Qv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Jv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Xv=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Zv=function(){function t(t,e,n){this.playerRegistry=t,this.domListener=e,this.manager=n,this.unsubscribe$=new oe}var e,n,r;return t.prototype.onEnter=function(){return Jv(this,void 0,Promise,(function(){var t=this;return Xv(this,(function(e){return this.playerRegistry.video$.pipe(qv(this.domListener.scroll$,this.domListener.resize$),Hi((function(e){var n=e.player;return t.manager.setVideoSizeImpactToResolved(n)})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return Jv(this,void 0,Promise,(function(){return Xv(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Qv("design:paramtypes",["function"==typeof(e=void 0!==Zy&&Zy)?e:Object,"function"==typeof(n=void 0!==Kd&&Kd)?n:Object,"function"==typeof(r=void 0!==$v&&$v)?r:Object])],t)}(),tg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},eg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ng=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},rg=function(){function t(t,e){this.adSlot=t,this.playerRegistry=e,this.unsubscribe$=new oe}var e,n,r,o;return t.prototype.onEnter=function(t){return eg(this,void 0,Promise,(function(){var e=this;return ng(this,(function(n){return this.playerRegistry.video$.pipe(iv((function(t){return Vd(t.player,"wikiaAdCompleted")})),Hi((function(){e.adSlot.emitEvent(qa.SLOT_VIDEO_DONE),t("resolved")})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return eg(this,void 0,Promise,(function(){return ng(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),tg("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Zy&&Zy)?n:Object])],t)}(),og=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ig=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ag=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},sg=function(){function t(t,e){this.domListener=t,this.manager=e,this.unsubscribe$=new oe}var e,n;return t.prototype.onEnter=function(){return ig(this,void 0,Promise,(function(){var t=this;return ag(this,(function(e){return this.manager.setResolvedImage(),this.domListener.resize$.pipe(Ff({}),Hi((function(){t.manager.setSlotHeightResolved(),t.manager.setPlaceholderHeightResolved()})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return ig(this,void 0,Promise,(function(){return ag(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),og("design:paramtypes",["function"==typeof(e=void 0!==Kd&&Kd)?e:Object,"function"==typeof(n=void 0!==_v&&_v)?n:Object])],t)}(),cg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ug=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},lg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},fg=function(){function t(t,e,n){this.adSlot=t,this.domListener=e,this.timeout=n,this.unsubscribe$=new oe}var e,n,r,o,i;return t.prototype.onEnter=function(t){return ug(this,void 0,Promise,(function(){var e=this;return lg(this,(function(n){return this.adSlot.emitEvent(qa.SLOT_STICKED_STATE),this.timeout.isViewedAndDelayed().pipe(Le((function(t){return t})),iv((function(){return e.domListener.scroll$.pipe(je(1))})),Hi((function(){e.adSlot.emitEvent(qa.SLOT_UNSTICKED_STATE),t("transition")})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return ug(this,void 0,Promise,(function(){return lg(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(o=0,i=y(Ph.SLOT),function(t,e){i(t,e,o)}),cg("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Kd&&Kd)?n:Object,"function"==typeof(r=void 0!==xv&&xv)?r:Object])],t)}(),pg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},hg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},yg=function(){function t(t,e){this.adSlot=t,this.manager=e,this.unsubscribe$=new oe}var e,n,r,o;return t.prototype.onEnter=function(){return dg(this,void 0,Promise,(function(){return hg(this,(function(t){return this.manager.addClassToPage("uap-sticked"),this.adSlot.addClass("uap-toc-pusher"),[2]}))}))},t.prototype.onLeave=function(){return dg(this,void 0,Promise,(function(){return hg(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),pg("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==_v&&_v)?n:Object])],t)}(),vg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gg=function(){function t(t,e){this.adSlot=t,this.domListener=e}var e,n,r,o;return t.prototype.appendOnViewed=function(t){var e=this;return Ie(this.adSlot.viewed).pipe(Ff({}),je(1),Hi((function(){return e.adSlot.getElement().appendChild(t)})))},t.prototype.appendOnScroll=function(t){var e=this;return this.domListener.scroll$.pipe(Ff({}),Le((function(){return window.scrollY>0})),je(1),Hi((function(){return e.adSlot.getElement().appendChild(t)})))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),vg("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Kd&&Kd)?n:Object])],t)}(),bg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},wg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Sg=function(){function t(t,e){this.adSlot=t,this.helper=e,this.unsubscribe$=new oe}var e,n,r,o;return t.prototype.onEnter=function(t){return mg(this,void 0,Promise,(function(){var e=this;return wg(this,(function(n){return this.button=new Uh({onClick:function(){e.adSlot.emitEvent(qa.SLOT_FORCE_UNSTICK),t("transition")}}).render(),this.helper.appendOnScroll(this.button).pipe(Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return mg(this,void 0,Promise,(function(){return wg(this,(function(t){return this.unsubscribe$.next(),this.button.remove(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),bg("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==gg&&gg)?n:Object])],t)}(),_g=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Eg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Og=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Tg=function(){function t(t,e,n){this.playerRegistry=t,this.domListener=e,this.manager=n,this.unsubscribe$=new oe}var e,n,r;return t.prototype.onEnter=function(){return Eg(this,void 0,Promise,(function(){var t=this;return Og(this,(function(e){return this.playerRegistry.video$.pipe(qv(this.domListener.resize$),Hi((function(e){var n=e.player;return t.manager.setVideoSizeResolved(n)})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return Eg(this,void 0,Promise,(function(){return Og(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),_g("design:paramtypes",["function"==typeof(e=void 0!==Zy&&Zy)?e:Object,"function"==typeof(n=void 0!==Kd&&Kd)?n:Object,"function"==typeof(r=void 0!==$v&&$v)?r:Object])],t)}(),Ag=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Cg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Ig=function(){function t(t,e,n,r){this.adSlot=t,this.scrollCorrector=e,this.manipulator=n,this.reader=r,this.unsubscribe$=new oe}var e,n,r,o,i,a;return t.prototype.onEnter=function(t){return Pg(this,void 0,Promise,(function(){var e=this;return Cg(this,(function(n){return this.animate().pipe(Hi((function(){var n=e.scrollCorrector.useScrollCorrection();e.adSlot.removeClass("uap-toc-pusher"),t("resolved").then(n)})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.animate=function(){var t=qa.SLIDE_OUT_TIME;return this.manipulator.element(this.adSlot.getElement()).setProperty("transition","top ".concat(t,"ms ").concat(qa.CSS_TIMING_EASE_IN_CUBIC)).setProperty("top","".concat(this.reader.getSlotOffsetResolvedToNone(),"px")),Ie(Ei(t))},t.prototype.onLeave=function(){return Pg(this,void 0,Promise,(function(){return Cg(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(i=0,a=y(Ph.SLOT),function(t,e){a(t,e,i)}),Ag("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Cv&&Cv)?n:Object,"function"==typeof(r=void 0!==Jh&&Jh)?r:Object,"function"==typeof(o=void 0!==mv&&mv)?o:Object])],t)}();function kg(){return[{bind:hv,value:document.querySelector(".fandom-sticky-header")},{bind:yv,value:document.body},{bind:vv,value:document.querySelector(".global-footer")}]}var xg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Rg=function(){function t(t){this.params=t}var e,r,o;return t.prototype.onEnter=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return t=["top_boxad","incontent_boxad_1","bottom_leaderboard"],this.params.newTakeoverConfig&&qe.emit(Ue.AD_ENGINE_UAP_NTC_LOADED),this.params.sequentialUapConfig&&t.push("incontent_player"),qa.init(this.params,t,Object.keys(L.get("slots")||[]).filter((function(e){return!t.includes(e)}))),L.set("slots.bottom_leaderboard.viewportConflicts",[]),es.setSlotSize("bottom_leaderboard",qa.UAP_ADDITIONAL_SIZES.bfaSize.desktop),es.addSlotSize("bottom_leaderboard",qa.UAP_ADDITIONAL_SIZES.bfaSize.unified),[2]}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.PARAMS),function(t,e){o(t,e,r)}),xg("design:paramtypes",["function"==typeof(e=void 0!==n.UapParams&&n.UapParams)?e:Object])],t)}(),Ng=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Dg=function(t,e){return function(n,r){e(n,r,t)}},Lg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},jg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Vg=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ug=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Mg=function(){function t(t,n){this.adSlot=t,this.params=n,this.logger=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Vn.apply(e,Ug([r.LOG_GROUP],Vg(t),!1))}}var r,o,i;return r=t,t.prototype.onEnter=function(t){return Lg(this,void 0,Promise,(function(){return jg(this,(function(e){switch(e.label){case 0:return this.logger("onEnter",this.params),this.adSlot.setConfigProperty("showManually",!0),this.adSlot.addClass("expanded-slot"),this.adSlot.addClass("bfab-template"),this.adSlot.getAdContainer().classList.add("iframe-container"),this.ensureImage(),[4,Ia.onReady(this.adSlot)];case 1:return e.sent(),[4,this.awaitVisibleDOM()];case 2:return e.sent(),Xa(this.params)?t("resolved"):(Za(),t("impact")),[2]}}))}))},t.prototype.ensureImage=function(){this.logger("ensureImage",this.params.image1,this.params.image2),this.params.image2&&this.params.image2.background||this.params.image1.element.classList.remove("hidden-state")},t.prototype.awaitVisibleDOM=function(){return Lg(this,void 0,Promise,(function(){return jg(this,(function(t){switch(t.label){case 0:return document.hidden?[4,Ti(window,"visibilitychange")]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.onLeave=function(){return Lg(this,void 0,Promise,(function(){return jg(this,(function(t){return this.adSlot.show(),[2]}))}))},t.LOG_GROUP="BfabBootstrapHandler",r=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Dg(0,y(Ph.SLOT)),Dg(1,y(Ph.PARAMS)),Ng("design:paramtypes",["function"==typeof(o=void 0!==Ra&&Ra)?o:Object,"function"==typeof(i=void 0!==n.UapParams&&n.UapParams)?i:Object])],t)}(),zg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Fg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Gg=function(){function t(t,e){this.domListener=t,this.manager=e,this.unsubscribe$=new oe}var e,n;return t.prototype.onEnter=function(){return Bg(this,void 0,Promise,(function(){var t=this;return Fg(this,(function(e){return this.manager.setImpactImage(),this.domListener.resize$.pipe(Ff({}),Hi((function(){return Oi((function(){return t.manager.setSlotHeightImpact()}))})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return Bg(this,void 0,Promise,(function(){return Fg(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),zg("design:paramtypes",["function"==typeof(e=void 0!==Kd&&Kd)?e:Object,"function"==typeof(n=void 0!==_v&&_v)?n:Object])],t)}(),Hg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qg=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Wg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Kg=function(){function t(t,e,n){this.playerRegistry=t,this.domListener=e,this.manager=n,this.unsubscribe$=new oe}var e,n,r;return t.prototype.onEnter=function(){return qg(this,void 0,Promise,(function(){var t=this;return Wg(this,(function(e){return this.playerRegistry.video$.pipe(qv(this.domListener.resize$),Hi((function(e){var n=e.player;return Oi((function(){return t.manager.setVideoSizeImpact(n)}))})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return qg(this,void 0,Promise,(function(){return Wg(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Hg("design:paramtypes",["function"==typeof(e=void 0!==Zy&&Zy)?e:Object,"function"==typeof(n=void 0!==Kd&&Kd)?n:Object,"function"==typeof(r=void 0!==$v&&$v)?r:Object])],t)}(),Yg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Qg=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Jg=function(){function t(t,e){this.domListener=t,this.manager=e,this.unsubscribe$=new oe}var e,n;return t.prototype.onEnter=function(){return $g(this,void 0,Promise,(function(){var t=this;return Qg(this,(function(e){return this.manager.setResolvedImage(),this.domListener.resize$.pipe(Ff({}),Hi((function(){t.manager.setSlotHeightResolved()})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return $g(this,void 0,Promise,(function(){return Qg(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),Yg("design:paramtypes",["function"==typeof(e=void 0!==Kd&&Kd)?e:Object,"function"==typeof(n=void 0!==_v&&_v)?n:Object])],t)}(),Xg=new Kt(xt);function Zg(t,e,n){void 0===t&&(t=0),void 0===n&&(n=$y);var r=-1;return null!=e&&(Se(e)?n=e:r=e),new Kt((function(e){var o,i=(o=t)instanceof Date&&!isNaN(o)?+t-n.now():t;i<0&&(i=0);var a=0;return n.schedule((function(){e.closed||(e.next(a++),0<=r?this.schedule(void 0,r):e.complete())}),i)}))}var tb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},eb=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},nb=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},rb=function(){function t(t,e){this.adSlot=t,this.unsubscribe$=new oe,this.additionalHideTime=e.get("icFloorAdhesionDelay"),this.timeoutHideTime=e.get("icFloorAdhesionTimeout")}var e,n,r,o;return t.prototype.onEnter=function(t){return eb(this,void 0,Promise,(function(){return nb(this,(function(e){return ke(this.getViewabilityStream(),this.getTimeoutStream()).pipe(je(1),Hi((function(){return t("transition")})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.getViewabilityStream=function(){var t=this;return-1===this.additionalHideTime?Xg:Ie(this.adSlot.viewed).pipe(be((function(){return Zg(t.additionalHideTime)})))},t.prototype.getTimeoutStream=function(){return this.timeoutHideTime?Zg(this.timeoutHideTime):we},t.prototype.onLeave=function(){return eb(this,void 0,Promise,(function(){return nb(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),tb("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Mn&&Mn)?n:Object])],t)}(),ob=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ib=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ab=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},sb=function(){function t(t,e){this.adSlot=t,this.manipulator=e,this.unsubscribe$=new oe}var e,n,r,o;return t.prototype.onEnter=function(t){return ib(this,void 0,Promise,(function(){return ab(this,(function(e){return this.animate().pipe(Hi((function(){t("hidden")})),Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.animate=function(){var t=this.adSlot.getElement().offsetHeight;return this.manipulator.element(this.adSlot.getElement()).setProperty("transition","bottom ".concat(600,"ms ").concat(qa.CSS_TIMING_EASE_IN_CUBIC,", ")+"opacity ".concat(400,"ms ").concat(qa.CSS_TIMING_EASE_IN_CUBIC)).setProperty("opacity","0").setProperty("bottom","-".concat(t,"px")),Zg(1e3)},t.prototype.onLeave=function(){return ib(this,void 0,Promise,(function(){return ab(this,(function(t){return this.unsubscribe$.next(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),ob("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==Jh&&Jh)?n:Object])],t)}(),cb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ub=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},lb=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},fb=function(){function t(t){this.adSlot=t}var e,n,r;return t.prototype.onEnter=function(t){return ub(this,void 0,Promise,(function(){return lb(this,(function(e){switch(e.label){case 0:return this.adSlot.setConfigProperty("showManually",!0),this.adSlot.addClass(Ra.HIDDEN_CLASS),this.adSlot.addClass("floor-adhesion"),this.adSlot.addClass("out-of-page-template"),this.adSlot.isOutOfPage()?[4,Ia.adjustIframeByContentSize(this.adSlot)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t("display"),[2]}}))}))},t.prototype.onLeave=function(){return ub(this,void 0,Promise,(function(){return lb(this,(function(t){return this.adSlot.show(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(n=0,r=y(Ph.SLOT),function(t,e){r(t,e,n)}),cb("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object])],t)}(),pb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},db=function(t,e){return function(n,r){e(n,r,t)}},hb=Symbol("Roadblock Config"),yb=function(){function t(t,e){this.params=t,this.config=e}var e;return t.config=function(t){return{bind:hb,value:t}},t.prototype.onEnter=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return this.params.adProduct="ruap",this.params.newTakeoverConfig&&(L.get("state.isMobile")&&this.config.enabledSlots.push("floor_adhesion"),qe.emit(Ue.AD_ENGINE_UAP_NTC_LOADED)),this.params.stickedTlb&&L.set("templates.stickyTlb.forced",!0),qa.init(this.params,this.config.enabledSlots,this.config.disableSlots),[2]}))},new((n=Promise)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),db(0,y(Ph.PARAMS)),db(1,y(hb)),pb("design:paramtypes",["function"==typeof(e=void 0!==r.RoadblockParams&&r.RoadblockParams)?e:Object,Object])],t)}(),vb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gb=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},bb=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},mb=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},wb=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Sb=function(){function t(t){this.adSlot=t}var n,r,o,i;return n=t,t.prototype.onEnter=function(t){return gb(this,void 0,Promise,(function(){return bb(this,(function(e){switch(e.label){case 0:return[4,this.isUAP()];case 1:return e.sent()?(this.blockStickyTLB("UAP"),[2]):this.isStickyTlbForced()||this.isLineAndGeo()?Vp.isBlocking()?(this.blockStickyTLB("AdBlock"),[2]):(t("initial"),[2]):(this.blockStickyTLB("Line item ID ".concat(this.adSlot.lineItemId)),[2])}}))}))},t.prototype.blockStickyTLB=function(t){this.adSlot.emitEvent(qa.SLOT_STICKINESS_DISABLED),this.logger("Template 'stickyTlb' could not be applied for ".concat(t))},t.prototype.isLineAndGeo=function(){var t=this,e=L.get("templates.stickyTlb.lineItemIds")||[];return!!Array.isArray(e)&&e.map((function(t){return t.toString()})).some((function(e){var n=mb(e.split(":",2),2),r=n[0],o=n[1];return r.toString()===t.adSlot.lineItemId.toString()&&(!o||kn.isProperGeo([o]))}))},t.prototype.isUAP=function(){return gb(this,void 0,Promise,(function(){return bb(this,(function(t){return[2,new Promise((function(t){qe.on(Ue.AD_ENGINE_UAP_LOAD_STATUS,(function(e){t(e.isLoaded)}))}))]}))}))},t.prototype.isStickyTlbForced=function(){return L.get("templates.stickyTlb.forced")},t.prototype.logger=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];Vn.apply(e,wb([n.LOG_GROUP],mb(t),!1))},t.LOG_GROUP="sticky-tlb",n=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(o=0,i=y(Ph.SLOT),function(t,e){i(t,e,o)}),vb("design:paramtypes",["function"==typeof(r=void 0!==Ra&&Ra)?r:Object])],t)}(),_b=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Eb=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ob=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Tb=function(){function t(t){this.adSlot=t}var e,n,r;return t.prototype.onEnter=function(t){return Eb(this,void 0,Promise,(function(){return Ob(this,(function(e){switch(e.label){case 0:return[4,Ia.onReady(this.adSlot)];case 1:return e.sent(),[4,this.awaitVisibleDOM()];case 2:return e.sent(),t("sticky"),[2]}}))}))},t.prototype.awaitVisibleDOM=function(){return Eb(this,void 0,Promise,(function(){return Ob(this,(function(t){switch(t.label){case 0:return document.hidden?[4,Ti(window,"visibilitychange")]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(n=0,r=y(Ph.SLOT),function(t,e){r(t,e,n)}),_b("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object])],t)}(),Ab=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pb=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Cb=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Ib=function(){function t(t){this.adSlot=t}var e,n,r;return t.prototype.onEnter=function(){return Pb(this,void 0,Promise,(function(){var t=this;return Cb(this,(function(e){return this.adSlot.setConfigProperty("showManually",!0),this.adSlot.addClass("expanded-slot"),this.adSlot.addClass("sticky-tlb"),this.adSlot.setConfigProperty("useGptOnloadEvent",!0),this.adSlot.loaded.then((function(){t.adSlot.emitEvent(qa.SLOT_STICKY_READY_STATE)})),[2]}))}))},t.prototype.onLeave=function(){return Pb(this,void 0,Promise,(function(){return Cb(this,(function(t){return this.adSlot.show(),document.body.classList.add("has-uap"),document.body.classList.add("has-sticky-tlb"),[2]}))}))},t.prototype.onDestroy=function(){return Pb(this,void 0,Promise,(function(){return Cb(this,(function(t){return document.body.classList.remove("has-uap"),document.body.classList.remove("has-sticky-tlb"),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(n=0,r=y(Ph.SLOT),function(t,e){r(t,e,n)}),Ab("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object])],t)}(),kb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xb=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Rb=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Nb=function(){function t(t,e){this.adSlot=t,this.helper=e,this.unsubscribe$=new oe}var e,n,r,o;return t.prototype.onEnter=function(t){return xb(this,void 0,Promise,(function(){var e=this;return Rb(this,(function(n){return this.button=new Uh({onClick:function(){e.adSlot.emitEvent(qa.SLOT_FORCE_UNSTICK),t("hidden")}}).render(),this.helper.appendOnScroll(this.button).pipe(Ky(this.unsubscribe$)).subscribe(),[2]}))}))},t.prototype.onLeave=function(){return xb(this,void 0,Promise,(function(){return Rb(this,(function(t){return this.unsubscribe$.next(),this.button.remove(),[2]}))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h({autobind:!1}),(r=0,o=y(Ph.SLOT),function(t,e){o(t,e,r)}),kb("design:paramtypes",["function"==typeof(e=void 0!==Ra&&Ra)?e:Object,"function"==typeof(n=void 0!==gg&&gg)?n:Object])],t)}(),Db=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lb=function(){function t(t,e){this.registry=t,this.stickedBoxadHelper=e,Ki.setInitializer(this.registry)}var e,n;return t.prototype.execute=function(){var t=this.registry.register("bfaa",{initial:[Rg,My,ov,uv,dv,Ih,Wh],impact:[Av,Lv,Mv,Zv,rg,ey],sticky:[sg,fg,yg,Sg,Tg,ey],transition:[sg,yg,Ig,Tg,ey],resolved:[sg,Mv,Tg,ey]},"initial",[Cv,Zy,Jh,_v,mv,Kv,$v,gg,xv.provide(qa.BFAA_UNSTICK_DELAY),kg()]),e=this.registry.register("bfab",{initial:[Mg,ov,Ih,Wh],impact:[Gg,Kg,rg,ey],resolved:[Jg,Tg,ey]},"initial",[Zy,Jh,_v,mv,Kv,$v,kg()]),n=function(t){return t.register("stickyTlb",{blocking:[Sb],initial:[Tb,Ib,Ih,Wh],sticky:[sg,fg,Nb,ey,yg],transition:[sg,Ig,ey,yg],resolved:[sg,Mv,ey],hidden:[uy,ey]},"blocking",[Jh,_v,mv,Cv,gg,xv.provide(qa.TLB_UNSTICK_DELAY),kg()])}(this.registry),r=function(t){return t.register("roadblock",{initial:[yb]},"initial",[yb.config({enabledSlots:["top_boxad"],disableSlots:["incontent_player","floor_adhesion"]})])}(this.registry),o=function(t){return t.register("floorAdhesion",{initial:[fb,Wh],display:[rb,Fh,ey],transition:[sb,ey],hidden:[uy,ey]},"initial",[Jh])}(this.registry),i=function(t){return t.register("interstitial",{initial:[iy,Ih,Wh],display:[Fh,sy,ey],hidden:[uy,ey]},"initial",[Jh])}(this.registry);ke(t,e,n,r,o,i).subscribe((function(t){Vn("TemplateLogger - ".concat(t.templateName,"\n"),"StateName: ".concat(t.stateName,", Type: ").concat(t.type))})),Ki.register(_y,function(){var t,e;return{inViewportOffsetTop:null!==(e=null===(t=document.querySelector(".fandom-sticky-header"))||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0,isFloatingEnabled:!0,onInit:function(t,e){es.setupSlotVideoAdUnit(t,e),e.viewportHookElement=document.getElementById("INCONTENT_WRAPPER")}}}()),this.stickedBoxadHelper.initialize({slotName:"top_boxad",pusherSlotName:"top_leaderboard",pageSelector:".page",railSelector:".main-page-tag-rcs #top_boxad, #rail-boxad-wrapper"})},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),Db("design:paramtypes",["function"==typeof(e=void 0!==Dy&&Dy)?e:Object,"function"==typeof(n=void 0!==ly&&ly)?n:Object])],t)}(),jb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vb=function(){function t(t,e){this.pipeline=t,this.noAdsDetector=e}var e,n;return t.prototype.execute=function(){var t,e=this;this.pipeline.add((function(){return L.extend(gf)}),V,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return{process:hf,payload:t}}(er,(function(){return ur()})),vr,Tr,Ad,Cd,qr,Pd,_d,Eh,ho,Lb,ds,vs,{process:vf,payload:{condition:function(){return e.noAdsDetector.isAdsMode()},yesStep:(t={yes:Sd,no:Us}).yes,noStep:t.no}},Bs,Gs,of,sf,(function(){return qe.emit(Ue.AD_ENGINE_CONFIGURED)})),this.pipeline.execute()},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([h(),jb("design:paramtypes",["function"==typeof(e=void 0!==pf&&pf)?e:Object,"function"==typeof(n=void 0!==js&&js)?n:Object])],t)}();window.RLQ=window.RLQ||[],window.RLQ.push((function(){return t=void 0,e=void 0,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return(new S).get(Vb).execute(),[2]}))},new((n=void 0)||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}))})()})();
//# sourceMappingURL=main.bundle.js.map